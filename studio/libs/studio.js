var _s=Object.defineProperty;var ur=t=>{throw TypeError(t)};var ms=(t,e,n)=>e in t?_s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var A=(t,e,n)=>ms(t,typeof e!="symbol"?e+"":e,n),lr=(t,e,n)=>e.has(t)||ur("Cannot "+n);var hn=(t,e,n)=>(lr(t,e,"read from private field"),n?n.call(t):e.get(t)),cr=(t,e,n)=>e.has(t)?ur("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fr=(t,e,n,r)=>(lr(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);var yt=window,At=yt.ShadowRoot&&(yt.ShadyCSS===void 0||yt.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,hr=Symbol(),dr=new WeakMap,Et=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==hr)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o,n=this.t;if(At&&e===void 0){let r=n!==void 0&&n.length===1;r&&(e=dr.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&dr.set(n,e))}return e}toString(){return this.cssText}},pr=t=>new Et(typeof t=="string"?t:t+"",void 0,hr);var pn=(t,e)=>{At?t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):e.forEach(n=>{let r=document.createElement("style"),i=yt.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)})},Ot=At?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(let r of e.cssRules)n+=r.cssText;return pr(n)})(t):t;var vn,St=window,vr=St.trustedTypes,bs=vr?vr.emptyScript:"",_r=St.reactiveElementPolyfillSupport,mn={toAttribute(t,e){switch(e){case Boolean:t=t?bs:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},mr=(t,e)=>e!==t&&(e==e||t==t),_n={attribute:!0,type:String,converter:mn,reflect:!1,hasChanged:mr},bn="finalized",de=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var n;this.finalize(),((n=this.h)!==null&&n!==void 0?n:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((n,r)=>{let i=this._$Ep(r,n);i!==void 0&&(this._$Ev.set(i,r),e.push(i))}),e}static createProperty(e,n=_n){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(e,n),!n.noAccessor&&!this.prototype.hasOwnProperty(e)){let r=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){return{get(){return this[n]},set(i){let s=this[e];this[n]=i,this.requestUpdate(e,s,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||_n}static finalize(){if(this.hasOwnProperty(bn))return!1;this[bn]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let n=this.properties,r=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)];for(let i of r)this.createProperty(i,n[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let n=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let i of r)n.unshift(Ot(i))}else e!==void 0&&n.push(Ot(e));return n}static _$Ep(e,n){let r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(n=>n(this))}addController(e){var n,r;((n=this._$ES)!==null&&n!==void 0?n:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var n;(n=this._$ES)===null||n===void 0||n.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,n)=>{this.hasOwnProperty(n)&&(this._$Ei.set(n,this[n]),delete this[n])})}createRenderRoot(){var e;let n=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return pn(n,this.constructor.elementStyles),n}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostConnected)===null||r===void 0?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostDisconnected)===null||r===void 0?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$EO(e,n,r=_n){var i;let s=this.constructor._$Ep(e,r);if(s!==void 0&&r.reflect===!0){let o=(((i=r.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?r.converter:mn).toAttribute(n,r.type);this._$El=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$El=null}}_$AK(e,n){var r;let i=this.constructor,s=i._$Ev.get(e);if(s!==void 0&&this._$El!==s){let o=i.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:mn;this._$El=s,this[s]=a.fromAttribute(n,o.type),this._$El=null}}requestUpdate(e,n,r){let i=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||mr)(this[e],n)?(this._$AL.has(e)||this._$AL.set(e,n),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(n){Promise.reject(n)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,s)=>this[s]=i),this._$Ei=void 0);let n=!1,r=this._$AL;try{n=this.shouldUpdate(r),n?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var s;return(s=i.hostUpdate)===null||s===void 0?void 0:s.call(i)}),this.update(r)):this._$Ek()}catch(i){throw n=!1,this._$Ek(),i}n&&this._$AE(r)}willUpdate(e){}_$AE(e){var n;(n=this._$ES)===null||n===void 0||n.forEach(r=>{var i;return(i=r.hostUpdated)===null||i===void 0?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((n,r)=>this._$EO(r,this[r],n)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};de[bn]=!0,de.elementProperties=new Map,de.elementStyles=[],de.shadowRootOptions={mode:"open"},_r?.({ReactiveElement:de}),((vn=St.reactiveElementVersions)!==null&&vn!==void 0?vn:St.reactiveElementVersions=[]).push("1.6.3");var gn,$t=window,Ve=$t.trustedTypes,br=Ve?Ve.createPolicy("lit-html",{createHTML:t=>t}):void 0,Nt="$lit$",G=`lit$${(Math.random()+"").slice(9)}$`,En="?"+G,gs=`<${En}>`,ve=document,wt=()=>ve.createComment(""),tt=t=>t===null||typeof t!="object"&&typeof t!="function",$r=Array.isArray,Nr=t=>$r(t)||typeof t?.[Symbol.iterator]=="function",yn=`[ 	
\f\r]`,et=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,gr=/-->/g,yr=/>/g,he=RegExp(`>|${yn}(?:([^\\s"'>=/]+)(${yn}*=${yn}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Er=/'/g,Ar=/"/g,wr=/^(?:script|style|textarea|title)$/i,xr=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),Ra=xr(1),Va=xr(2),V=Symbol.for("lit-noChange"),O=Symbol.for("lit-nothing"),Or=new WeakMap,pe=ve.createTreeWalker(ve,129,null,!1);function Cr(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return br!==void 0?br.createHTML(e):e}var Dr=(t,e)=>{let n=t.length-1,r=[],i,s=e===2?"<svg>":"",o=et;for(let a=0;a<n;a++){let u=t[a],l,c,d=-1,f=0;for(;f<u.length&&(o.lastIndex=f,c=o.exec(u),c!==null);)f=o.lastIndex,o===et?c[1]==="!--"?o=gr:c[1]!==void 0?o=yr:c[2]!==void 0?(wr.test(c[2])&&(i=RegExp("</"+c[2],"g")),o=he):c[3]!==void 0&&(o=he):o===he?c[0]===">"?(o=i??et,d=-1):c[1]===void 0?d=-2:(d=o.lastIndex-c[2].length,l=c[1],o=c[3]===void 0?he:c[3]==='"'?Ar:Er):o===Ar||o===Er?o=he:o===gr||o===yr?o=et:(o=he,i=void 0);let v=o===he&&t[a+1].startsWith("/>")?" ":"";s+=o===et?u+gs:d>=0?(r.push(l),u.slice(0,d)+Nt+u.slice(d)+G+v):u+G+(d===-2?(r.push(void 0),a):v)}return[Cr(t,s+(t[n]||"<?>")+(e===2?"</svg>":"")),r]},nt=class t{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0,a=e.length-1,u=this.parts,[l,c]=Dr(e,n);if(this.el=t.createElement(l,r),pe.currentNode=this.el.content,n===2){let d=this.el.content,f=d.firstChild;f.remove(),d.append(...f.childNodes)}for(;(i=pe.nextNode())!==null&&u.length<a;){if(i.nodeType===1){if(i.hasAttributes()){let d=[];for(let f of i.getAttributeNames())if(f.endsWith(Nt)||f.startsWith(G)){let v=c[o++];if(d.push(f),v!==void 0){let g=i.getAttribute(v.toLowerCase()+Nt).split(G),_=/([.?@])?(.*)/.exec(v);u.push({type:1,index:s,name:_[2],strings:g,ctor:_[1]==="."?Ct:_[1]==="?"?Dt:_[1]==="@"?Tt:me})}else u.push({type:6,index:s})}for(let f of d)i.removeAttribute(f)}if(wr.test(i.tagName)){let d=i.textContent.split(G),f=d.length-1;if(f>0){i.textContent=Ve?Ve.emptyScript:"";for(let v=0;v<f;v++)i.append(d[v],wt()),pe.nextNode(),u.push({type:2,index:++s});i.append(d[f],wt())}}}else if(i.nodeType===8)if(i.data===En)u.push({type:2,index:s});else{let d=-1;for(;(d=i.data.indexOf(G,d+1))!==-1;)u.push({type:7,index:s}),d+=G.length-1}s++}}static createElement(e,n){let r=ve.createElement("template");return r.innerHTML=e,r}};function _e(t,e,n=t,r){var i,s,o,a;if(e===V)return e;let u=r!==void 0?(i=n._$Co)===null||i===void 0?void 0:i[r]:n._$Cl,l=tt(e)?void 0:e._$litDirective$;return u?.constructor!==l&&((s=u?._$AO)===null||s===void 0||s.call(u,!1),l===void 0?u=void 0:(u=new l(t),u._$AT(t,n,r)),r!==void 0?((o=(a=n)._$Co)!==null&&o!==void 0?o:a._$Co=[])[r]=u:n._$Cl=u),u!==void 0&&(e=_e(t,u._$AS(t,e.values),u,r)),e}var xt=class{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var n;let{el:{content:r},parts:i}=this._$AD,s=((n=e?.creationScope)!==null&&n!==void 0?n:ve).importNode(r,!0);pe.currentNode=s;let o=pe.nextNode(),a=0,u=0,l=i[0];for(;l!==void 0;){if(a===l.index){let c;l.type===2?c=new rt(o,o.nextSibling,this,e):l.type===1?c=new l.ctor(o,l.name,l.strings,this,e):l.type===6&&(c=new Pt(o,this,e)),this._$AV.push(c),l=i[++u]}a!==l?.index&&(o=pe.nextNode(),a++)}return pe.currentNode=ve,s}v(e){let n=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}},rt=class t{constructor(e,n,r,i){var s;this.type=2,this._$AH=O,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cp=(s=i?.isConnected)===null||s===void 0||s}get _$AU(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}get parentNode(){let e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=_e(this,e,n),tt(e)?e===O||e==null||e===""?(this._$AH!==O&&this._$AR(),this._$AH=O):e!==this._$AH&&e!==V&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):Nr(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==O&&tt(this._$AH)?this._$AA.nextSibling.data=e:this.$(ve.createTextNode(e)),this._$AH=e}g(e){var n;let{values:r,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=nt.createElement(Cr(i.h,i.h[0]),this.options)),i);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===s)this._$AH.v(r);else{let o=new xt(s,this),a=o.u(this.options);o.v(r),this.$(a),this._$AH=o}}_$AC(e){let n=Or.get(e.strings);return n===void 0&&Or.set(e.strings,n=new nt(e)),n}T(e){$r(this._$AH)||(this._$AH=[],this._$AR());let n=this._$AH,r,i=0;for(let s of e)i===n.length?n.push(r=new t(this.k(wt()),this.k(wt()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)===null||r===void 0||r.call(this,!1,!0,n);e&&e!==this._$AB;){let i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}},me=class{constructor(e,n,r,i,s){this.type=1,this._$AH=O,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=O}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,n=this,r,i){let s=this.strings,o=!1;if(s===void 0)e=_e(this,e,n,0),o=!tt(e)||e!==this._$AH&&e!==V,o&&(this._$AH=e);else{let a=e,u,l;for(e=s[0],u=0;u<s.length-1;u++)l=_e(this,a[r+u],n,u),l===V&&(l=this._$AH[u]),o||(o=!tt(l)||l!==this._$AH[u]),l===O?e=O:e!==O&&(e+=(l??"")+s[u+1]),this._$AH[u]=l}o&&!i&&this.j(e)}j(e){e===O?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},Ct=class extends me{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===O?void 0:e}},ys=Ve?Ve.emptyScript:"",Dt=class extends me{constructor(){super(...arguments),this.type=4}j(e){e&&e!==O?this.element.setAttribute(this.name,ys):this.element.removeAttribute(this.name)}},Tt=class extends me{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){var r;if((e=(r=_e(this,e,n,0))!==null&&r!==void 0?r:O)===V)return;let i=this._$AH,s=e===O&&i!==O||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==O&&(i===O||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n,r;typeof this._$AH=="function"?this._$AH.call((r=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},Pt=class{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){_e(this,e)}},Tr={O:Nt,P:G,A:En,C:1,M:Dr,L:xt,R:Nr,D:_e,I:rt,V:me,H:Dt,N:Tt,U:Ct,F:Pt},Sr=$t.litHtmlPolyfillSupport;Sr?.(nt,rt),((gn=$t.litHtmlVersions)!==null&&gn!==void 0?gn:$t.litHtmlVersions=[]).push("2.8.0");var Rt=window,Mt=Rt.ShadowRoot&&(Rt.ShadyCSS===void 0||Rt.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Rr=Symbol(),Pr=new WeakMap,Vt=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==Rr)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o,n=this.t;if(Mt&&e===void 0){let r=n!==void 0&&n.length===1;r&&(e=Pr.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&Pr.set(n,e))}return e}toString(){return this.cssText}},Vr=t=>new Vt(typeof t=="string"?t:t+"",void 0,Rr);var An=(t,e)=>{Mt?t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):e.forEach(n=>{let r=document.createElement("style"),i=Rt.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)})},kt=Mt?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(let r of e.cssRules)n+=r.cssText;return Vr(n)})(t):t;var On,jt=window,Mr=jt.trustedTypes,Es=Mr?Mr.emptyScript:"",kr=jt.reactiveElementPolyfillSupport,$n={toAttribute(t,e){switch(e){case Boolean:t=t?Es:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},jr=(t,e)=>e!==t&&(e==e||t==t),Sn={attribute:!0,type:String,converter:$n,reflect:!1,hasChanged:jr},Nn="finalized",W=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(e){var n;this.finalize(),((n=this.h)!==null&&n!==void 0?n:this.h=[]).push(e)}static get observedAttributes(){this.finalize();let e=[];return this.elementProperties.forEach((n,r)=>{let i=this._$Ep(r,n);i!==void 0&&(this._$Ev.set(i,r),e.push(i))}),e}static createProperty(e,n=Sn){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(e,n),!n.noAccessor&&!this.prototype.hasOwnProperty(e)){let r=typeof e=="symbol"?Symbol():"__"+e,i=this.getPropertyDescriptor(e,r,n);i!==void 0&&Object.defineProperty(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){return{get(){return this[n]},set(i){let s=this[e];this[n]=i,this.requestUpdate(e,s,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)||Sn}static finalize(){if(this.hasOwnProperty(Nn))return!1;this[Nn]=!0;let e=Object.getPrototypeOf(this);if(e.finalize(),e.h!==void 0&&(this.h=[...e.h]),this.elementProperties=new Map(e.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let n=this.properties,r=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)];for(let i of r)this.createProperty(i,n[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(e){let n=[];if(Array.isArray(e)){let r=new Set(e.flat(1/0).reverse());for(let i of r)n.unshift(kt(i))}else e!==void 0&&n.push(kt(e));return n}static _$Ep(e,n){let r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}_$Eu(){var e;this._$E_=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(e=this.constructor.h)===null||e===void 0||e.forEach(n=>n(this))}addController(e){var n,r;((n=this._$ES)!==null&&n!==void 0?n:this._$ES=[]).push(e),this.renderRoot!==void 0&&this.isConnected&&((r=e.hostConnected)===null||r===void 0||r.call(e))}removeController(e){var n;(n=this._$ES)===null||n===void 0||n.splice(this._$ES.indexOf(e)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((e,n)=>{this.hasOwnProperty(n)&&(this._$Ei.set(n,this[n]),delete this[n])})}createRenderRoot(){var e;let n=(e=this.shadowRoot)!==null&&e!==void 0?e:this.attachShadow(this.constructor.shadowRootOptions);return An(n,this.constructor.elementStyles),n}connectedCallback(){var e;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$ES)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostConnected)===null||r===void 0?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$ES)===null||e===void 0||e.forEach(n=>{var r;return(r=n.hostDisconnected)===null||r===void 0?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$EO(e,n,r=Sn){var i;let s=this.constructor._$Ep(e,r);if(s!==void 0&&r.reflect===!0){let o=(((i=r.converter)===null||i===void 0?void 0:i.toAttribute)!==void 0?r.converter:$n).toAttribute(n,r.type);this._$El=e,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$El=null}}_$AK(e,n){var r;let i=this.constructor,s=i._$Ev.get(e);if(s!==void 0&&this._$El!==s){let o=i.getPropertyOptions(s),a=typeof o.converter=="function"?{fromAttribute:o.converter}:((r=o.converter)===null||r===void 0?void 0:r.fromAttribute)!==void 0?o.converter:$n;this._$El=s,this[s]=a.fromAttribute(n,o.type),this._$El=null}}requestUpdate(e,n,r){let i=!0;e!==void 0&&(((r=r||this.constructor.getPropertyOptions(e)).hasChanged||jr)(this[e],n)?(this._$AL.has(e)||this._$AL.set(e,n),r.reflect===!0&&this._$El!==e&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(e,r))):i=!1),!this.isUpdatePending&&i&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(n){Promise.reject(n)}let e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var e;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((i,s)=>this[s]=i),this._$Ei=void 0);let n=!1,r=this._$AL;try{n=this.shouldUpdate(r),n?(this.willUpdate(r),(e=this._$ES)===null||e===void 0||e.forEach(i=>{var s;return(s=i.hostUpdate)===null||s===void 0?void 0:s.call(i)}),this.update(r)):this._$Ek()}catch(i){throw n=!1,this._$Ek(),i}n&&this._$AE(r)}willUpdate(e){}_$AE(e){var n;(n=this._$ES)===null||n===void 0||n.forEach(r=>{var i;return(i=r.hostUpdated)===null||i===void 0?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(e){return!0}update(e){this._$EC!==void 0&&(this._$EC.forEach((n,r)=>this._$EO(r,this[r],n)),this._$EC=void 0),this._$Ek()}updated(e){}firstUpdated(e){}};W[Nn]=!0,W.elementProperties=new Map,W.elementStyles=[],W.shadowRootOptions={mode:"open"},kr?.({ReactiveElement:W}),((On=jt.reactiveElementVersions)!==null&&On!==void 0?On:jt.reactiveElementVersions=[]).push("1.6.3");var wn,Ut=window,Me=Ut.trustedTypes,Ur=Me?Me.createPolicy("lit-html",{createHTML:t=>t}):void 0,Cn="$lit$",ne=`lit$${(Math.random()+"").slice(9)}$`,zr="?"+ne,As=`<${zr}>`,ye=document,st=()=>ye.createComment(""),ot=t=>t===null||typeof t!="object"&&typeof t!="function",Kr=Array.isArray,Os=t=>Kr(t)||typeof t?.[Symbol.iterator]=="function",xn=`[ 	
\f\r]`,it=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Lr=/-->/g,Ir=/>/g,be=RegExp(`>|${xn}(?:([^\\s"'>=/]+)(${xn}*=${xn}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Br=/'/g,Hr=/"/g,Gr=/^(?:script|style|textarea|title)$/i,Wr=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),I=Wr(1),Ba=Wr(2),Ee=Symbol.for("lit-noChange"),E=Symbol.for("lit-nothing"),Fr=new WeakMap,ge=ye.createTreeWalker(ye,129,null,!1);function Xr(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ur!==void 0?Ur.createHTML(e):e}var Ss=(t,e)=>{let n=t.length-1,r=[],i,s=e===2?"<svg>":"",o=it;for(let a=0;a<n;a++){let u=t[a],l,c,d=-1,f=0;for(;f<u.length&&(o.lastIndex=f,c=o.exec(u),c!==null);)f=o.lastIndex,o===it?c[1]==="!--"?o=Lr:c[1]!==void 0?o=Ir:c[2]!==void 0?(Gr.test(c[2])&&(i=RegExp("</"+c[2],"g")),o=be):c[3]!==void 0&&(o=be):o===be?c[0]===">"?(o=i??it,d=-1):c[1]===void 0?d=-2:(d=o.lastIndex-c[2].length,l=c[1],o=c[3]===void 0?be:c[3]==='"'?Hr:Br):o===Hr||o===Br?o=be:o===Lr||o===Ir?o=it:(o=be,i=void 0);let v=o===be&&t[a+1].startsWith("/>")?" ":"";s+=o===it?u+As:d>=0?(r.push(l),u.slice(0,d)+Cn+u.slice(d)+ne+v):u+ne+(d===-2?(r.push(void 0),a):v)}return[Xr(t,s+(t[n]||"<?>")+(e===2?"</svg>":"")),r]},at=class t{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0,a=e.length-1,u=this.parts,[l,c]=Ss(e,n);if(this.el=t.createElement(l,r),ge.currentNode=this.el.content,n===2){let d=this.el.content,f=d.firstChild;f.remove(),d.append(...f.childNodes)}for(;(i=ge.nextNode())!==null&&u.length<a;){if(i.nodeType===1){if(i.hasAttributes()){let d=[];for(let f of i.getAttributeNames())if(f.endsWith(Cn)||f.startsWith(ne)){let v=c[o++];if(d.push(f),v!==void 0){let g=i.getAttribute(v.toLowerCase()+Cn).split(ne),_=/([.?@])?(.*)/.exec(v);u.push({type:1,index:s,name:_[2],strings:g,ctor:_[1]==="."?Tn:_[1]==="?"?Pn:_[1]==="@"?Rn:je})}else u.push({type:6,index:s})}for(let f of d)i.removeAttribute(f)}if(Gr.test(i.tagName)){let d=i.textContent.split(ne),f=d.length-1;if(f>0){i.textContent=Me?Me.emptyScript:"";for(let v=0;v<f;v++)i.append(d[v],st()),ge.nextNode(),u.push({type:2,index:++s});i.append(d[f],st())}}}else if(i.nodeType===8)if(i.data===zr)u.push({type:2,index:s});else{let d=-1;for(;(d=i.data.indexOf(ne,d+1))!==-1;)u.push({type:7,index:s}),d+=ne.length-1}s++}}static createElement(e,n){let r=ye.createElement("template");return r.innerHTML=e,r}};function ke(t,e,n=t,r){var i,s,o,a;if(e===Ee)return e;let u=r!==void 0?(i=n._$Co)===null||i===void 0?void 0:i[r]:n._$Cl,l=ot(e)?void 0:e._$litDirective$;return u?.constructor!==l&&((s=u?._$AO)===null||s===void 0||s.call(u,!1),l===void 0?u=void 0:(u=new l(t),u._$AT(t,n,r)),r!==void 0?((o=(a=n)._$Co)!==null&&o!==void 0?o:a._$Co=[])[r]=u:n._$Cl=u),u!==void 0&&(e=ke(t,u._$AS(t,e.values),u,r)),e}var Dn=class{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){var n;let{el:{content:r},parts:i}=this._$AD,s=((n=e?.creationScope)!==null&&n!==void 0?n:ye).importNode(r,!0);ge.currentNode=s;let o=ge.nextNode(),a=0,u=0,l=i[0];for(;l!==void 0;){if(a===l.index){let c;l.type===2?c=new ut(o,o.nextSibling,this,e):l.type===1?c=new l.ctor(o,l.name,l.strings,this,e):l.type===6&&(c=new Vn(o,this,e)),this._$AV.push(c),l=i[++u]}a!==l?.index&&(o=ge.nextNode(),a++)}return ge.currentNode=ye,s}v(e){let n=0;for(let r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}},ut=class t{constructor(e,n,r,i){var s;this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cp=(s=i?.isConnected)===null||s===void 0||s}get _$AU(){var e,n;return(n=(e=this._$AM)===null||e===void 0?void 0:e._$AU)!==null&&n!==void 0?n:this._$Cp}get parentNode(){let e=this._$AA.parentNode,n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=ke(this,e,n),ot(e)?e===E||e==null||e===""?(this._$AH!==E&&this._$AR(),this._$AH=E):e!==this._$AH&&e!==Ee&&this._(e):e._$litType$!==void 0?this.g(e):e.nodeType!==void 0?this.$(e):Os(e)?this.T(e):this._(e)}k(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}$(e){this._$AH!==e&&(this._$AR(),this._$AH=this.k(e))}_(e){this._$AH!==E&&ot(this._$AH)?this._$AA.nextSibling.data=e:this.$(ye.createTextNode(e)),this._$AH=e}g(e){var n;let{values:r,_$litType$:i}=e,s=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=at.createElement(Xr(i.h,i.h[0]),this.options)),i);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===s)this._$AH.v(r);else{let o=new Dn(s,this),a=o.u(this.options);o.v(r),this.$(a),this._$AH=o}}_$AC(e){let n=Fr.get(e.strings);return n===void 0&&Fr.set(e.strings,n=new at(e)),n}T(e){Kr(this._$AH)||(this._$AH=[],this._$AR());let n=this._$AH,r,i=0;for(let s of e)i===n.length?n.push(r=new t(this.k(st()),this.k(st()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)===null||r===void 0||r.call(this,!1,!0,n);e&&e!==this._$AB;){let i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cp=e,(n=this._$AP)===null||n===void 0||n.call(this,e))}},je=class{constructor(e,n,r,i,s){this.type=1,this._$AH=E,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=E}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(e,n=this,r,i){let s=this.strings,o=!1;if(s===void 0)e=ke(this,e,n,0),o=!ot(e)||e!==this._$AH&&e!==Ee,o&&(this._$AH=e);else{let a=e,u,l;for(e=s[0],u=0;u<s.length-1;u++)l=ke(this,a[r+u],n,u),l===Ee&&(l=this._$AH[u]),o||(o=!ot(l)||l!==this._$AH[u]),l===E?e=E:e!==E&&(e+=(l??"")+s[u+1]),this._$AH[u]=l}o&&!i&&this.j(e)}j(e){e===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},Tn=class extends je{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===E?void 0:e}},$s=Me?Me.emptyScript:"",Pn=class extends je{constructor(){super(...arguments),this.type=4}j(e){e&&e!==E?this.element.setAttribute(this.name,$s):this.element.removeAttribute(this.name)}},Rn=class extends je{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){var r;if((e=(r=ke(this,e,n,0))!==null&&r!==void 0?r:E)===Ee)return;let i=this._$AH,s=e===E&&i!==E||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,o=e!==E&&(i===E||s);s&&this.element.removeEventListener(this.name,this,i),o&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n,r;typeof this._$AH=="function"?this._$AH.call((r=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&r!==void 0?r:this.element,e):this._$AH.handleEvent(e)}},Vn=class{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){ke(this,e)}};var qr=Ut.litHtmlPolyfillSupport;qr?.(at,ut),((wn=Ut.litHtmlVersions)!==null&&wn!==void 0?wn:Ut.litHtmlVersions=[]).push("2.8.0");var Yr=(t,e,n)=>{var r,i;let s=(r=n?.renderBefore)!==null&&r!==void 0?r:e,o=s._$litPart$;if(o===void 0){let a=(i=n?.renderBefore)!==null&&i!==void 0?i:null;s._$litPart$=o=new ut(e.insertBefore(st(),a),a,void 0,n??{})}return o._$AI(t),o};var Mn,kn;var re=class extends W{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e,n;let r=super.createRenderRoot();return(e=(n=this.renderOptions).renderBefore)!==null&&e!==void 0||(n.renderBefore=r.firstChild),r}update(e){let n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Yr(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)===null||e===void 0||e.setConnected(!1)}render(){return Ee}};re.finalized=!0,re._$litElement$=!0,(Mn=globalThis.litElementHydrateSupport)===null||Mn===void 0||Mn.call(globalThis,{LitElement:re});var Jr=globalThis.litElementPolyfillSupport;Jr?.({LitElement:re});((kn=globalThis.litElementVersions)!==null&&kn!==void 0?kn:globalThis.litElementVersions=[]).push("3.3.3");var Ue={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Le=t=>(...e)=>({_$litDirective$:t,values:e}),ie=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}};var lt=class extends ie{constructor(e){if(super(e),this.et=O,e.type!==Ue.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===O||e==null)return this.ft=void 0,this.et=e;if(e===V)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.et)return this.ft;this.et=e;let n=[e];return n.raw=n,this.ft={_$litType$:this.constructor.resultType,strings:n,values:[]}}};lt.directiveName="unsafeHTML",lt.resultType=1;var Lt=Le(lt);function m(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(0)var i;throw new Error(typeof t=="number"?"[MobX] minified error nr: "+t+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+t)}var Ns={};function di(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Ns}var hi=Object.assign,Ft=Object.getOwnPropertyDescriptor,F=Object.defineProperty,Yt=Object.prototype,Hn=[];Object.freeze(Hn);var pi={};Object.freeze(pi);var ws=typeof Proxy<"u",xs=Object.toString();function vi(){ws||m("Proxy not available")}function _i(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var Be=function(){};function j(t){return typeof t=="function"}function Se(t){var e=typeof t;switch(e){case"string":case"symbol":case"number":return!0}return!1}function Jt(t){return t!==null&&typeof t=="object"}function Q(t){if(!Jt(t))return!1;var e=Object.getPrototypeOf(t);if(e==null)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n.toString()===xs}function mi(t){var e=t?.constructor;return e?e.name==="GeneratorFunction"||e.displayName==="GeneratorFunction":!1}function vt(t,e,n){F(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function bi(t,e,n){F(t,e,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Ce(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(r){return Jt(r)&&r[n]===!0}}function ze(t){return t!=null&&Object.prototype.toString.call(t)==="[object Map]"}function Cs(t){var e=Object.getPrototypeOf(t),n=Object.getPrototypeOf(e),r=Object.getPrototypeOf(n);return r===null}function X(t){return t!=null&&Object.prototype.toString.call(t)==="[object Set]"}var gi=typeof Object.getOwnPropertySymbols<"u";function Ds(t){var e=Object.keys(t);if(!gi)return e;var n=Object.getOwnPropertySymbols(t);return n.length?[].concat(e,n.filter(function(r){return Yt.propertyIsEnumerable.call(t,r)})):e}var Fe=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:gi?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames;function yi(t){return t===null?null:typeof t=="object"?""+t:t}function J(t,e){return Yt.hasOwnProperty.call(t,e)}var Ts=Object.getOwnPropertyDescriptors||function(e){var n={};return Fe(e).forEach(function(r){n[r]=Ft(e,r)}),n};function w(t,e){return!!(t&e)}function x(t,e,n){return n?t|=e:t&=~e,t}function Zr(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Qr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rs(r.key),r)}}function Ke(t,e,n){return e&&Qr(t.prototype,e),n&&Qr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function He(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Vs(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $e(){return $e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$e.apply(null,arguments)}function Ei(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Fn(t,e)}function Fn(t,e){return Fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Fn(t,e)}function Ps(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rs(t){var e=Ps(t,"string");return typeof e=="symbol"?e:e+""}function Vs(t,e){if(t){if(typeof t=="string")return Zr(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zr(t,e):void 0}}var B=Symbol("mobx-stored-annotations");function q(t){function e(n,r){if(_t(r))return t.decorate_20223_(n,r);Ge(n,r,t)}return Object.assign(e,t)}function Ge(t,e,n){if(J(t,B)||vt(t,B,$e({},t[B])),0)var r;Ms(t,n,e),qs(n)||(t[B][e]=n)}function Ms(t,e,n){if(0)var r,i,s}function ks(t){return J(t,B)||vt(t,B,$e({},t[B])),t[B]}function _t(t){return typeof t=="object"&&typeof t.kind=="string"}var p=Symbol("mobx administration"),ue=function(){function t(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=b.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var e=t.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.reportObserved=function(){return ki(this)},e.reportChanged=function(){P(),ji(this),R()},e.toString=function(){return this.name_},Ke(t,[{key:"isBeingObserved",get:function(){return w(this.flags_,t.isBeingObservedMask_)},set:function(r){this.flags_=x(this.flags_,t.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return w(this.flags_,t.isPendingUnobservationMask_)},set:function(r){this.flags_=x(this.flags_,t.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return w(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=x(this.flags_,t.diffValueMask_,r===1)}}])}();ue.isBeingObservedMask_=1;ue.isPendingUnobservationMask_=2;ue.diffValueMask_=4;var Zn=Ce("Atom",ue);function Ai(t,e,n){e===void 0&&(e=Be),n===void 0&&(n=Be);var r=new ue(t);return e!==Be&&Xo(r,e),n!==Be&&Hi(r,n),r}function js(t,e){return t===e}function Us(t,e){return sr(t,e)}function Ls(t,e){return sr(t,e,1)}function Is(t,e){return Object.is?Object.is(t,e):t===e?t!==0||1/t===1/e:t!==t&&e!==e}var qt={identity:js,structural:Us,default:Is,shallow:Ls};function Ne(t,e,n){return Ki(t)?t:Array.isArray(t)?$.array(t,{name:n}):Q(t)?$.object(t,void 0,{name:n}):ze(t)?$.map(t,{name:n}):X(t)?$.set(t,{name:n}):typeof t=="function"&&!nn(t)&&!dt(t)?mi(t)?qe(t):ft(n,t):t}function Bs(t,e,n){if(t==null||ht(t)||sn(t)||Te(t)||We(t))return t;if(Array.isArray(t))return $.array(t,{name:n,deep:!1});if(Q(t))return $.object(t,void 0,{name:n,deep:!1});if(ze(t))return $.map(t,{name:n,deep:!1});if(X(t))return $.set(t,{name:n,deep:!1})}function Zt(t){return t}function Hs(t,e){return sr(t,e)?e:t}var Fs="override";function qs(t){return t.annotationType_===Fs}function mt(t,e){return{annotationType_:t,options_:e,make_:zs,extend_:Ks,decorate_20223_:Gs}}function zs(t,e,n,r){var i;if((i=this.options_)!=null&&i.bound)return this.extend_(t,e,n,!1)===null?0:1;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if(nn(n.value))return 1;var s=Oi(t,this,e,n,!1);return F(r,e,s),2}function Ks(t,e,n,r){var i=Oi(t,this,e,n);return t.defineProperty_(e,i,r)}function Gs(t,e){var n=e.kind,r=e.name,i=e.addInitializer,s=this,o=function(l){var c,d,f,v;return we((c=(d=s.options_)==null?void 0:d.name)!=null?c:r.toString(),l,(f=(v=s.options_)==null?void 0:v.autoAction)!=null?f:!1)};if(n=="field"){i(function(){Ge(this,r,s)});return}if(n=="method"){var a;return nn(t)||(t=o(t)),(a=this.options_)!=null&&a.bound&&i(function(){var u=this,l=u[r].bind(u);l.isMobxAction=!0,u[r]=l}),t}m("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function Ws(t,e,n,r){var i=e.annotationType_,s=r.value}function Oi(t,e,n,r,i){var s,o,a,u,l,c,d;i===void 0&&(i=h.safeDescriptors),Ws(t,e,n,r);var f=r.value;if((s=e.options_)!=null&&s.bound){var v;f=f.bind((v=t.proxy_)!=null?v:t.target_)}return{value:we((o=(a=e.options_)==null?void 0:a.name)!=null?o:n.toString(),f,(u=(l=e.options_)==null?void 0:l.autoAction)!=null?u:!1,(c=e.options_)!=null&&c.bound?(d=t.proxy_)!=null?d:t.target_:void 0),configurable:i?t.isPlainObject_:!0,enumerable:!1,writable:!i}}function Si(t,e){return{annotationType_:t,options_:e,make_:Xs,extend_:Ys,decorate_20223_:Js}}function Xs(t,e,n,r){var i;if(r===t.target_)return this.extend_(t,e,n,!1)===null?0:2;if((i=this.options_)!=null&&i.bound&&(!J(t.target_,e)||!dt(t.target_[e]))&&this.extend_(t,e,n,!1)===null)return 0;if(dt(n.value))return 1;var s=$i(t,this,e,n,!1,!1);return F(r,e,s),2}function Ys(t,e,n,r){var i,s=$i(t,this,e,n,(i=this.options_)==null?void 0:i.bound);return t.defineProperty_(e,s,r)}function Js(t,e){var n,r=e.name,i=e.addInitializer;return dt(t)||(t=qe(t)),(n=this.options_)!=null&&n.bound&&i(function(){var s=this,o=s[r].bind(s);o.isMobXFlow=!0,s[r]=o}),t}function Zs(t,e,n,r){var i=e.annotationType_,s=r.value}function $i(t,e,n,r,i,s){s===void 0&&(s=h.safeDescriptors),Zs(t,e,n,r);var o=r.value;if(dt(o)||(o=qe(o)),i){var a;o=o.bind((a=t.proxy_)!=null?a:t.target_),o.isMobXFlow=!0}return{value:o,configurable:s?t.isPlainObject_:!0,enumerable:!1,writable:!s}}function Qn(t,e){return{annotationType_:t,options_:e,make_:Qs,extend_:eo,decorate_20223_:to}}function Qs(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function eo(t,e,n,r){return no(t,this,e,n),t.defineComputedProperty_(e,$e({},this.options_,{get:n.get,set:n.set}),r)}function to(t,e){var n=this,r=e.name,i=e.addInitializer;return i(function(){var s=Pe(this)[p],o=$e({},n.options_,{get:t,context:this});o.name||(o.name="ObservableObject."+r.toString()),s.values_.set(r,new U(o))}),function(){return this[p].getObservablePropValue_(r)}}function no(t,e,n,r){var i=e.annotationType_,s=r.get}function Qt(t,e){return{annotationType_:t,options_:e,make_:ro,extend_:io,decorate_20223_:so}}function ro(t,e,n){return this.extend_(t,e,n,!1)===null?0:1}function io(t,e,n,r){var i,s;return oo(t,this,e,n),t.defineObservableProperty_(e,n.value,(i=(s=this.options_)==null?void 0:s.enhancer)!=null?i:Ne,r)}function so(t,e){var n=this,r=e.kind,i=e.name,s=new WeakSet;function o(a,u){var l,c,d=Pe(a)[p],f=new Ae(u,(l=(c=n.options_)==null?void 0:c.enhancer)!=null?l:Ne,"ObservableObject."+i.toString(),!1);d.values_.set(i,f),s.add(a)}if(r=="accessor")return{get:function(){return s.has(this)||o(this,t.get.call(this)),this[p].getObservablePropValue_(i)},set:function(u){return s.has(this)||o(this,u),this[p].setObservablePropValue_(i,u)},init:function(u){return s.has(this)||o(this,u),u}}}function oo(t,e,n,r){var i=e.annotationType_}var ao="true",uo=Ni();function Ni(t){return{annotationType_:ao,options_:t,make_:lo,extend_:co,decorate_20223_:fo}}function lo(t,e,n,r){var i,s;if(n.get)return en.make_(t,e,n,r);if(n.set){var o=we(e.toString(),n.set);return r===t.target_?t.defineProperty_(e,{configurable:h.safeDescriptors?t.isPlainObject_:!0,set:o})===null?0:2:(F(r,e,{configurable:!0,set:o}),2)}if(r!==t.target_&&typeof n.value=="function"){var a;if(mi(n.value)){var u,l=(u=this.options_)!=null&&u.autoBind?qe.bound:qe;return l.make_(t,e,n,r)}var c=(a=this.options_)!=null&&a.autoBind?ft.bound:ft;return c.make_(t,e,n,r)}var d=((i=this.options_)==null?void 0:i.deep)===!1?$.ref:$;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var f;n.value=n.value.bind((f=t.proxy_)!=null?f:t.target_)}return d.make_(t,e,n,r)}function co(t,e,n,r){var i,s;if(n.get)return en.extend_(t,e,n,r);if(n.set)return t.defineProperty_(e,{configurable:h.safeDescriptors?t.isPlainObject_:!0,set:we(e.toString(),n.set)},r);if(typeof n.value=="function"&&(i=this.options_)!=null&&i.autoBind){var o;n.value=n.value.bind((o=t.proxy_)!=null?o:t.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?$.ref:$;return a.extend_(t,e,n,r)}function fo(t,e){m("'"+this.annotationType_+"' cannot be used as a decorator")}var ho="observable",po="observable.ref",vo="observable.shallow",_o="observable.struct",wi={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(wi);function It(t){return t||wi}var qn=Qt(ho),mo=Qt(po,{enhancer:Zt}),bo=Qt(vo,{enhancer:Bs}),go=Qt(_o,{enhancer:Hs}),xi=q(qn);function Bt(t){return t.deep===!0?Ne:t.deep===!1?Zt:Eo(t.defaultDecorator)}function yo(t){var e;return t?(e=t.defaultDecorator)!=null?e:Ni(t):void 0}function Eo(t){var e,n;return t&&(e=(n=t.options_)==null?void 0:n.enhancer)!=null?e:Ne}function Ci(t,e,n){if(_t(e))return qn.decorate_20223_(t,e);if(Se(e)){Ge(t,e,qn);return}return Ki(t)?t:Q(t)?$.object(t,e,n):Array.isArray(t)?$.array(t,e):ze(t)?$.map(t,e):X(t)?$.set(t,e):typeof t=="object"&&t!==null?t:$.box(t,e)}hi(Ci,xi);var Ao={box:function(e,n){var r=It(n);return new Ae(e,Bt(r),r.name,!0,r.equals)},array:function(e,n){var r=It(n);return(h.useProxies===!1||r.proxy===!1?va:sa)(e,Bt(r),r.name)},map:function(e,n){var r=It(n);return new Xi(e,Bt(r),r.name)},set:function(e,n){var r=It(n);return new Yi(e,Bt(r),r.name)},object:function(e,n,r){return le(function(){return qi(h.useProxies===!1||r?.proxy===!1?Pe({},r):na({},r),e,n)})},ref:q(mo),shallow:q(bo),deep:xi,struct:q(go)},$=hi(Ci,Ao),Di="computed",Oo="computed.struct",zn=Qn(Di),So=Qn(Oo,{equals:qt.structural}),en=function(e,n){if(_t(n))return zn.decorate_20223_(e,n);if(Se(n))return Ge(e,n,zn);if(Q(e))return q(Qn(Di,e));var r=Q(n)?n:{};return r.get=e,r.name||(r.name=e.name||""),new U(r)};Object.assign(en,zn);en.struct=q(So);var ei,ti,zt=0,$o=1,No=(ei=(ti=Ft(function(){},"name"))==null?void 0:ti.configurable)!=null?ei:!1,ni={value:"action",configurable:!0,writable:!1,enumerable:!1};function we(t,e,n,r){n===void 0&&(n=!1);function i(){return wo(t,n,e,r||this,arguments)}return i.isMobxAction=!0,i.toString=function(){return e.toString()},No&&(ni.value=t,F(i,"name",ni)),i}function wo(t,e,n,r,i){var s=xo(t,e,r,i);try{return n.apply(r,i)}catch(o){throw s.error_=o,o}finally{Co(s)}}function xo(t,e,n,r){var i=!1,s=0;if(0)var o;var a=h.trackingDerivation,u=!e||!a;P();var l=h.allowStateChanges;u&&(De(),l=er(!0));var c=nr(!0),d={runAsAction_:u,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:c,notifySpy_:i,startTime_:s,actionId_:$o++,parentActionId_:zt};return zt=d.actionId_,d}function Co(t){zt!==t.actionId_&&m(30),zt=t.parentActionId_,t.error_!==void 0&&(h.suppressReactionErrors=!0),tr(t.prevAllowStateChanges_),ct(t.prevAllowStateReads_),R(),t.runAsAction_&&Z(t.prevDerivation_),h.suppressReactionErrors=!1}function er(t){var e=h.allowStateChanges;return h.allowStateChanges=t,e}function tr(t){h.allowStateChanges=t}var Ae=function(t){function e(r,i,s,o,a){var u;return s===void 0&&(s="ObservableValue"),o===void 0&&(o=!0),a===void 0&&(a=qt.default),u=t.call(this,s)||this,u.enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=i,u.name_=s,u.equals=a,u.value_=i(r,void 0,s),u}Ei(e,t);var n=e.prototype;return n.dehanceValue=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.set=function(i){var s=this.value_;if(i=this.prepareNewValue_(i),i!==h.UNCHANGED){var o=Oe();this.setNewValue_(i)}},n.prepareNewValue_=function(i){if(H(this),D(this)){var s=T(this,{object:this,type:z,newValue:i});if(!s)return h.UNCHANGED;i=s.newValue}return i=this.enhancer(i,this.value_,this.name_),this.equals(this.value_,i)?h.UNCHANGED:i},n.setNewValue_=function(i){var s=this.value_;this.value_=i,this.reportChanged(),M(this)&&k(this,{type:z,object:this,newValue:i,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(i){return bt(this,i)},n.observe_=function(i,s){return s&&i({observableKind:"value",debugObjectName:this.name_,object:this,type:z,newValue:this.value_,oldValue:void 0}),gt(this,i)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return yi(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},e}(ue);var U=function(){function t(n){this.dependenciesState_=b.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=b.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Kt(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=ae.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||m(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=we("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?qt.structural:qt.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var e=t.prototype;return e.onBecomeStale_=function(){Vo(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},e.get=function(){if(this.isComputing&&m(32,this.name_,this.derivation),h.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Kn(this)&&(this.warnAboutUntrackedRead_(),P(),this.value_=this.computeValue_(!1),R());else if(ki(this),Kn(this)){var r=h.trackingContext;this.keepAlive_&&!r&&(h.trackingContext=this),this.trackAndCompute()&&Ro(this),h.trackingContext=r}var i=this.value_;if(Ht(i))throw i.cause;return i},e.set=function(r){if(this.setter_){this.isRunningSetter&&m(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else m(34,this.name_)},e.trackAndCompute=function(){var r=this.value_,i=this.dependenciesState_===b.NOT_TRACKING_,s=this.computeValue_(!0),o=i||Ht(r)||Ht(s)||!this.equals_(r,s);return o&&(this.value_=s),o},e.computeValue_=function(r){this.isComputing=!0;var i=er(!1),s;if(r)s=Ti(this,this.derivation,this.scope_);else if(h.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new Kt(o)}return tr(i),this.isComputing=!1,s},e.suspend_=function(){this.keepAlive_||(Gn(this),this.value_=void 0)},e.observe_=function(r,i){var s=this,o=!0,a=void 0;return qo(function(){var u=s.get();if(!o||i){var l=De();r({observableKind:"computed",debugObjectName:s.name_,type:z,object:s,newValue:u,oldValue:a}),Z(l)}o=!1,a=u})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return yi(this.get())},e[Symbol.toPrimitive]=function(){return this.valueOf()},Ke(t,[{key:"isComputing",get:function(){return w(this.flags_,t.isComputingMask_)},set:function(r){this.flags_=x(this.flags_,t.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return w(this.flags_,t.isRunningSetterMask_)},set:function(r){this.flags_=x(this.flags_,t.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return w(this.flags_,t.isBeingObservedMask_)},set:function(r){this.flags_=x(this.flags_,t.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return w(this.flags_,t.isPendingUnobservationMask_)},set:function(r){this.flags_=x(this.flags_,t.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return w(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=x(this.flags_,t.diffValueMask_,r===1)}}])}();U.isComputingMask_=1;U.isRunningSetterMask_=2;U.isBeingObservedMask_=4;U.isPendingUnobservationMask_=8;U.diffValueMask_=16;var tn=Ce("ComputedValue",U),b;(function(t){t[t.NOT_TRACKING_=-1]="NOT_TRACKING_",t[t.UP_TO_DATE_=0]="UP_TO_DATE_",t[t.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",t[t.STALE_=2]="STALE_"})(b||(b={}));var ae;(function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"})(ae||(ae={}));var Kt=function(e){this.cause=void 0,this.cause=e};function Ht(t){return t instanceof Kt}function Kn(t){switch(t.dependenciesState_){case b.UP_TO_DATE_:return!1;case b.NOT_TRACKING_:case b.STALE_:return!0;case b.POSSIBLY_STALE_:{for(var e=nr(!0),n=De(),r=t.observing_,i=r.length,s=0;s<i;s++){var o=r[s];if(tn(o)){if(h.disableErrorBoundaries)o.get();else try{o.get()}catch{return Z(n),ct(e),!0}if(t.dependenciesState_===b.STALE_)return Z(n),ct(e),!0}}return Ri(t),Z(n),ct(e),!1}}}function H(t){return;var e}function Ti(t,e,n){var r=nr(!0);Ri(t),t.newObserving_=new Array(t.runId_===0?100:t.observing_.length),t.unboundDepsCount_=0,t.runId_=++h.runId;var i=h.trackingDerivation;h.trackingDerivation=t,h.inBatch++;var s;if(h.disableErrorBoundaries===!0)s=e.call(n);else try{s=e.call(n)}catch(o){s=new Kt(o)}return h.inBatch--,h.trackingDerivation=i,Do(t),ct(r),s}function Do(t){for(var e=t.observing_,n=t.observing_=t.newObserving_,r=b.UP_TO_DATE_,i=0,s=t.unboundDepsCount_,o=0;o<s;o++){var a=n[o];a.diffValue===0&&(a.diffValue=1,i!==o&&(n[i]=a),i++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=i,t.newObserving_=null,s=e.length;s--;){var u=e[s];u.diffValue===0&&Vi(u,t),u.diffValue=0}for(;i--;){var l=n[i];l.diffValue===1&&(l.diffValue=0,Po(l,t))}r!==b.UP_TO_DATE_&&(t.dependenciesState_=r,t.onBecomeStale_())}function Gn(t){var e=t.observing_;t.observing_=[];for(var n=e.length;n--;)Vi(e[n],t);t.dependenciesState_=b.NOT_TRACKING_}function Pi(t){var e=De();try{return t()}finally{Z(e)}}function De(){var t=h.trackingDerivation;return h.trackingDerivation=null,t}function Z(t){h.trackingDerivation=t}function nr(t){var e=h.allowStateReads;return h.allowStateReads=t,e}function ct(t){h.allowStateReads=t}function Ri(t){if(t.dependenciesState_!==b.UP_TO_DATE_){t.dependenciesState_=b.UP_TO_DATE_;for(var e=t.observing_,n=e.length;n--;)e[n].lowestObserverState_=b.UP_TO_DATE_}}var jn=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Un=!0,To=!1,h=function(){var t=di();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Un=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==new jn().version&&(Un=!1),Un?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new jn):(setTimeout(function(){To||m(35)},1),new jn)}();function Po(t,e){t.observers_.add(e),t.lowestObserverState_>e.dependenciesState_&&(t.lowestObserverState_=e.dependenciesState_)}function Vi(t,e){t.observers_.delete(e),t.observers_.size===0&&Mi(t)}function Mi(t){t.isPendingUnobservation===!1&&(t.isPendingUnobservation=!0,h.pendingUnobservations.push(t))}function P(){h.inBatch++}function R(){if(--h.inBatch===0){Ui();for(var t=h.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof U&&n.suspend_())}h.pendingUnobservations=[]}}function ki(t){var e=h.trackingDerivation;return e!==null?(e.runId_!==t.lastAccessedBy_&&(t.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=t,!t.isBeingObserved&&h.trackingContext&&(t.isBeingObserved=!0,t.onBO())),t.isBeingObserved):(t.observers_.size===0&&h.inBatch>0&&Mi(t),!1)}function ji(t){t.lowestObserverState_!==b.STALE_&&(t.lowestObserverState_=b.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===b.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=b.STALE_}))}function Ro(t){t.lowestObserverState_!==b.STALE_&&(t.lowestObserverState_=b.STALE_,t.observers_.forEach(function(e){e.dependenciesState_===b.POSSIBLY_STALE_?e.dependenciesState_=b.STALE_:e.dependenciesState_===b.UP_TO_DATE_&&(t.lowestObserverState_=b.UP_TO_DATE_)}))}function Vo(t){t.lowestObserverState_===b.UP_TO_DATE_&&(t.lowestObserverState_=b.POSSIBLY_STALE_,t.observers_.forEach(function(e){e.dependenciesState_===b.UP_TO_DATE_&&(e.dependenciesState_=b.POSSIBLY_STALE_,e.onBecomeStale_())}))}var K=function(){function t(n,r,i,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=b.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=ae.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=i,this.requiresObservable_=s}var e=t.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled||(this.isScheduled=!0,h.pendingReactions.push(this),Ui())},e.runReaction_=function(){if(!this.isDisposed){P(),this.isScheduled=!1;var r=h.trackingContext;if(h.trackingContext=this,Kn(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(i){this.reportExceptionInDerivation_(i)}}h.trackingContext=r,R()}},e.track=function(r){if(!this.isDisposed){P();var i=Oe(),s;this.isRunning=!0;var o=h.trackingContext;h.trackingContext=this;var a=Ti(this,r,void 0);h.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Gn(this),Ht(a)&&this.reportExceptionInDerivation_(a.cause),R()}},e.reportExceptionInDerivation_=function(r){var i=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(h.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";h.suppressReactionErrors||console.error(s,r),h.globalReactionErrorHandlers.forEach(function(o){return o(r,i)})},e.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(P(),Gn(this),R()))},e.getDisposer_=function(r){var i=this,s=function o(){i.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",o)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[p]=this,s},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(r){r===void 0&&(r=!1),Qo(this,r)},Ke(t,[{key:"isDisposed",get:function(){return w(this.flags_,t.isDisposedMask_)},set:function(r){this.flags_=x(this.flags_,t.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return w(this.flags_,t.isScheduledMask_)},set:function(r){this.flags_=x(this.flags_,t.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return w(this.flags_,t.isTrackPendingMask_)},set:function(r){this.flags_=x(this.flags_,t.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return w(this.flags_,t.isRunningMask_)},set:function(r){this.flags_=x(this.flags_,t.isRunningMask_,r)}},{key:"diffValue",get:function(){return w(this.flags_,t.diffValueMask_)?1:0},set:function(r){this.flags_=x(this.flags_,t.diffValueMask_,r===1)}}])}();K.isDisposedMask_=1;K.isScheduledMask_=2;K.isTrackPendingMask_=4;K.isRunningMask_=8;K.diffValueMask_=16;var Mo=100,ko=function(e){return e()};function Ui(){h.inBatch>0||h.isRunningReactions||ko(jo)}function jo(){h.isRunningReactions=!0;for(var t=h.pendingReactions,e=0;t.length>0;){++e===Mo&&(console.error("[mobx] cycle in reaction: "+t[0]),t.splice(0));for(var n=t.splice(0),r=0,i=n.length;r<i;r++)n[r].runReaction_()}h.isRunningReactions=!1}var Gt=Ce("Reaction",K);function Oe(){return!1}function Uo(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Li="action",Lo="action.bound",Ii="autoAction",Io="autoAction.bound",Bo="<unnamed action>",Wn=mt(Li),Ho=mt(Lo,{bound:!0}),Xn=mt(Ii,{autoAction:!0}),Fo=mt(Io,{autoAction:!0,bound:!0});function Bi(t){var e=function(r,i){if(j(r))return we(r.name||Bo,r,t);if(j(i))return we(r,i,t);if(_t(i))return(t?Xn:Wn).decorate_20223_(r,i);if(Se(i))return Ge(r,i,t?Xn:Wn);if(Se(r))return q(mt(t?Ii:Li,{name:r,autoAction:t}))};return e}var se=Bi(!1);Object.assign(se,Wn);var ft=Bi(!0);Object.assign(ft,Xn);se.bound=q(Ho);ft.bound=q(Fo);function nn(t){return j(t)&&t.isMobxAction===!0}function qo(t,e){var n,r,i,s;e===void 0&&(e=pi);var o=(n=(r=e)==null?void 0:r.name)!=null?n:"Autorun",a=!e.scheduler&&!e.delay,u;if(a)u=new K(o,function(){this.track(d)},e.onError,e.requiresObservable);else{var l=Ko(e),c=!1;u=new K(o,function(){c||(c=!0,l(function(){c=!1,u.isDisposed||u.track(d)}))},e.onError,e.requiresObservable)}function d(){t(u)}return(i=e)!=null&&(i=i.signal)!=null&&i.aborted||u.schedule_(),u.getDisposer_((s=e)==null?void 0:s.signal)}var zo=function(e){return e()};function Ko(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:zo}var Go="onBO",Wo="onBUO";function Xo(t,e,n){return Fi(Go,t,e,n)}function Hi(t,e,n){return Fi(Wo,t,e,n)}function Fi(t,e,n,r){var i=typeof r=="function"?xe(e,n):xe(e),s=j(r)?r:n,o=t+"L";return i[o]?i[o].add(s):i[o]=new Set([s]),function(){var a=i[o];a&&(a.delete(s),a.size===0&&delete i[o])}}function qi(t,e,n,r){var i=Ts(e);return le(function(){var s=Pe(t,r)[p];Fe(i).forEach(function(o){s.extend_(o,i[o],n&&o in n?n[o]:!0)})}),t}var Yo=0;function zi(){this.message="FLOW_CANCELLED"}zi.prototype=Object.create(Error.prototype);var Ln=Si("flow"),Jo=Si("flow.bound",{bound:!0}),qe=Object.assign(function(e,n){if(_t(n))return Ln.decorate_20223_(e,n);if(Se(n))return Ge(e,n,Ln);var r=e,i=r.name||"<unnamed flow>",s=function(){var a=this,u=arguments,l=++Yo,c=se(i+" - runid: "+l+" - init",r).apply(a,u),d,f=void 0,v=new Promise(function(g,_){var S=0;d=_;function ee(N){f=void 0;var te;try{te=se(i+" - runid: "+l+" - yield "+S++,c.next).call(c,N)}catch(fe){return _(fe)}Qe(te)}function Re(N){f=void 0;var te;try{te=se(i+" - runid: "+l+" - yield "+S++,c.throw).call(c,N)}catch(fe){return _(fe)}Qe(te)}function Qe(N){if(j(N?.then)){N.then(Qe,_);return}return N.done?g(N.value):(f=Promise.resolve(N.value),f.then(ee,Re))}ee(void 0)});return v.cancel=se(i+" - runid: "+l+" - cancel",function(){try{f&&ri(f);var g=c.return(void 0),_=Promise.resolve(g.value);_.then(Be,Be),ri(_),d(new zi)}catch(S){d(S)}}),v};return s.isMobXFlow=!0,s},Ln);qe.bound=q(Jo);function ri(t){j(t.cancel)&&t.cancel()}function dt(t){return t?.isMobXFlow===!0}function Zo(t,e){return t?e!==void 0?ht(t)?t[p].values_.has(e):!1:ht(t)||!!t[p]||Zn(t)||Gt(t)||tn(t):!1}function Ki(t){return Zo(t)}function Qo(){return;for(var t,e,n,r;r<e;r++)n[r]=arguments[r];var i}function ea(t){switch(t.length){case 0:return h.trackingDerivation;case 1:return xe(t[0]);case 2:return xe(t[0],t[1])}}function Y(t,e){e===void 0&&(e=void 0),P();try{return t.apply(e)}finally{R()}}function Ie(t){return t[p]}var ta={has:function(e,n){return Ie(e).has_(n)},get:function(e,n){return Ie(e).get_(n)},set:function(e,n,r){var i;return Se(n)?(i=Ie(e).set_(n,r,!0))!=null?i:!0:!1},deleteProperty:function(e,n){var r;return Se(n)?(r=Ie(e).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(e,n,r){var i;return(i=Ie(e).defineProperty_(n,r))!=null?i:!0},ownKeys:function(e){return Ie(e).ownKeys_()},preventExtensions:function(e){m(13)}};function na(t,e){var n,r;return vi(),t=Pe(t,e),(r=(n=t[p]).proxy_)!=null?r:n.proxy_=new Proxy(t,ta)}function D(t){return t.interceptors_!==void 0&&t.interceptors_.length>0}function bt(t,e){var n=t.interceptors_||(t.interceptors_=[]);return n.push(e),_i(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function T(t,e){var n=De();try{for(var r=[].concat(t.interceptors_||[]),i=0,s=r.length;i<s&&(e=r[i](e),e&&!e.type&&m(14),!!e);i++);return e}finally{Z(n)}}function M(t){return t.changeListeners_!==void 0&&t.changeListeners_.length>0}function gt(t,e){var n=t.changeListeners_||(t.changeListeners_=[]);return n.push(e),_i(function(){var r=n.indexOf(e);r!==-1&&n.splice(r,1)})}function k(t,e){var n=De(),r=t.changeListeners_;if(r){r=r.slice();for(var i=0,s=r.length;i<s;i++)r[i](e);Z(n)}}function Gi(t,e,n){return le(function(){var r,i=Pe(t,n)[p];(r=e)!=null||(e=ks(t)),Fe(e).forEach(function(s){return i.make_(s,e[s])})}),t}var In=Symbol("mobx-keys");function rn(t,e,n){return Q(t)?qi(t,t,e,n):(le(function(){var r=Pe(t,n)[p];if(!t[In]){var i=Object.getPrototypeOf(t),s=new Set([].concat(Fe(t),Fe(i)));s.delete("constructor"),s.delete(p),vt(i,In,s)}t[In].forEach(function(o){return r.make_(o,e&&o in e?e[o]:!0)})}),t)}var ii="splice",z="update",ra=1e4,ia={get:function(e,n){var r=e[p];return n===p?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):J(Wt,n)?Wt[n]:e[n]},set:function(e,n,r){var i=e[p];return n==="length"&&i.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?e[n]=r:i.set_(parseInt(n),r),!0},preventExtensions:function(){m(15)}},rr=function(){function t(n,r,i,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=s,this.atom_=new ue(n),this.enhancer_=function(o,a){return r(o,a,"ObservableArray[..]")}}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},e.intercept_=function(r){return bt(this,r)},e.observe_=function(r,i){return i===void 0&&(i=!1),i&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),gt(this,r)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&m("Out of range: "+r);var i=this.values_.length;if(r!==i)if(r>i){for(var s=new Array(r-i),o=0;o<r-i;o++)s[o]=void 0;this.spliceWithArray_(i,0,s)}else this.spliceWithArray_(r,i-r)},e.updateArrayLength_=function(r,i){r!==this.lastKnownLength_&&m(16),this.lastKnownLength_+=i,this.legacyMode_&&i>0&&es(r+i+1)},e.spliceWithArray_=function(r,i,s){var o=this;H(this.atom_);var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?i=a-r:i==null?i=0:i=Math.max(0,Math.min(i,a-r)),s===void 0&&(s=Hn),D(this)){var u=T(this,{object:this.proxy_,type:ii,index:r,removedCount:i,added:s});if(!u)return Hn;i=u.removedCount,s=u.added}if(s=s.length===0?s:s.map(function(d){return o.enhancer_(d,void 0)}),this.legacyMode_){var l=s.length-i;this.updateArrayLength_(a,l)}var c=this.spliceItemsIntoValues_(r,i,s);return(i!==0||s.length!==0)&&this.notifyArraySplice_(r,s,c),this.dehanceValues_(c)},e.spliceItemsIntoValues_=function(r,i,s){if(s.length<ra){var o;return(o=this.values_).splice.apply(o,[r,i].concat(s))}else{var a=this.values_.slice(r,r+i),u=this.values_.slice(r+i);this.values_.length+=s.length-i;for(var l=0;l<s.length;l++)this.values_[r+l]=s[l];for(var c=0;c<u.length;c++)this.values_[r+s.length+c]=u[c];return a}},e.notifyArrayChildUpdate_=function(r,i,s){var o=!this.owned_&&Oe(),a=M(this),u=a||o?{observableKind:"array",object:this.proxy_,type:z,debugObjectName:this.atom_.name_,index:r,newValue:i,oldValue:s}:null;this.atom_.reportChanged(),a&&k(this,u)},e.notifyArraySplice_=function(r,i,s){var o=!this.owned_&&Oe(),a=M(this),u=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:ii,index:r,removed:s,added:i,removedCount:s.length,addedCount:i.length}:null;this.atom_.reportChanged(),a&&k(this,u)},e.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},e.set_=function(r,i){var s=this.values_;if(this.legacyMode_&&r>s.length&&m(17,r,s.length),r<s.length){H(this.atom_);var o=s[r];if(D(this)){var a=T(this,{type:z,object:this.proxy_,index:r,newValue:i});if(!a)return;i=a.newValue}i=this.enhancer_(i,o);var u=i!==o;u&&(s[r]=i,this.notifyArrayChildUpdate_(r,i,o))}else{for(var l=new Array(r+1-s.length),c=0;c<l.length-1;c++)l[c]=void 0;l[l.length-1]=i,this.spliceWithArray_(s.length,0,l)}},t}();function sa(t,e,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),vi(),le(function(){var i=new rr(n,e,r,!1);bi(i.values_,p,i);var s=new Proxy(i.values_,ia);return i.proxy_=s,t&&t.length&&i.spliceWithArray_(0,0,t),s})}var Wt={clear:function(){return this.splice(0)},replace:function(e){var n=this[p];return n.spliceWithArray_(0,n.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];var o=this[p];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,n)}return o.spliceWithArray_(e,n,i)},spliceWithArray:function(e,n,r){return this[p].spliceWithArray_(e,n,r)},push:function(){for(var e=this[p],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(e.values_.length,0,r),e.values_.length},pop:function(){return this.splice(Math.max(this[p].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[p],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.spliceWithArray_(0,0,r),e.values_.length},reverse:function(){return h.trackingDerivation&&m(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){h.trackingDerivation&&m(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var n=this[p],r=n.dehanceValues_(n.values_).indexOf(e);return r>-1?(this.splice(r,1),!0):!1}};y("at",C);y("concat",C);y("flat",C);y("includes",C);y("indexOf",C);y("join",C);y("lastIndexOf",C);y("slice",C);y("toString",C);y("toLocaleString",C);y("toSorted",C);y("toSpliced",C);y("with",C);y("every",L);y("filter",L);y("find",L);y("findIndex",L);y("findLast",L);y("findLastIndex",L);y("flatMap",L);y("forEach",L);y("map",L);y("some",L);y("toReversed",L);y("reduce",Wi);y("reduceRight",Wi);function y(t,e){typeof Array.prototype[t]=="function"&&(Wt[t]=e(t))}function C(t){return function(){var e=this[p];e.atom_.reportObserved();var n=e.dehanceValues_(e.values_);return n[t].apply(n,arguments)}}function L(t){return function(e,n){var r=this,i=this[p];i.atom_.reportObserved();var s=i.dehanceValues_(i.values_);return s[t](function(o,a){return e.call(n,o,a,r)})}}function Wi(t){return function(){var e=this,n=this[p];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),i=arguments[0];return arguments[0]=function(s,o,a){return i(s,o,a,e)},r[t].apply(r,arguments)}}var oa=Ce("ObservableArrayAdministration",rr);function sn(t){return Jt(t)&&oa(t[p])}var aa={},oe="add",Xt="delete",Xi=function(){function t(n,r,i){var s=this;r===void 0&&(r=Ne),i===void 0&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[p]=aa,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=i,j(Map)||m(18),le(function(){s.keysAtom_=Ai("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var e=t.prototype;return e.has_=function(r){return this.data_.has(r)},e.has=function(r){var i=this;if(!h.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var o=s=new Ae(this.has_(r),Zt,"ObservableMap.key?",!1);this.hasMap_.set(r,o),Hi(o,function(){return i.hasMap_.delete(r)})}return s.get()},e.set=function(r,i){var s=this.has_(r);if(D(this)){var o=T(this,{type:s?z:oe,object:this,newValue:i,name:r});if(!o)return this;i=o.newValue}return s?this.updateValue_(r,i):this.addValue_(r,i),this},e.delete=function(r){var i=this;if(H(this.keysAtom_),D(this)){var s=T(this,{type:Xt,object:this,name:r});if(!s)return!1}if(this.has_(r)){var o=Oe(),a=M(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:Xt,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return Y(function(){var l;i.keysAtom_.reportChanged(),(l=i.hasMap_.get(r))==null||l.setNewValue_(!1);var c=i.data_.get(r);c.setNewValue_(void 0),i.data_.delete(r)}),a&&k(this,u),!0}return!1},e.updateValue_=function(r,i){var s=this.data_.get(r);if(i=s.prepareNewValue_(i),i!==h.UNCHANGED){var o=Oe(),a=M(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:z,object:this,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&k(this,u)}},e.addValue_=function(r,i){var s=this;H(this.keysAtom_),Y(function(){var l,c=new Ae(i,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,c),i=c.value_,(l=s.hasMap_.get(r))==null||l.setNewValue_(!0),s.keysAtom_.reportChanged()});var o=Oe(),a=M(this),u=a||o?{observableKind:"map",debugObjectName:this.name_,type:oe,object:this,name:r,newValue:i}:null;a&&k(this,u)},e.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var r=this,i=this.keys();return pt({next:function(){var o=i.next(),a=o.done,u=o.value;return{done:a,value:a?void 0:r.get(u)}}})},e.entries=function(){var r=this,i=this.keys();return pt({next:function(){var o=i.next(),a=o.done,u=o.value;return{done:a,value:a?void 0:[u,r.get(u)]}}})},e[Symbol.iterator]=function(){return this.entries()},e.forEach=function(r,i){for(var s=He(this),o;!(o=s()).done;){var a=o.value,u=a[0],l=a[1];r.call(i,l,u,this)}},e.merge=function(r){var i=this;return Te(r)&&(r=new Map(r)),Y(function(){Q(r)?Ds(r).forEach(function(s){return i.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var o=s[0],a=s[1];return i.set(o,a)}):ze(r)?(Cs(r)||m(19,r),r.forEach(function(s,o){return i.set(o,s)})):r!=null&&m(20,r)}),this},e.clear=function(){var r=this;Y(function(){Pi(function(){for(var i=He(r.keys()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},e.replace=function(r){var i=this;return Y(function(){for(var s=ua(r),o=new Map,a=!1,u=He(i.data_.keys()),l;!(l=u()).done;){var c=l.value;if(!s.has(c)){var d=i.delete(c);if(d)a=!0;else{var f=i.data_.get(c);o.set(c,f)}}}for(var v=He(s.entries()),g;!(g=v()).done;){var _=g.value,S=_[0],ee=_[1],Re=i.data_.has(S);if(i.set(S,ee),i.data_.has(S)){var Qe=i.data_.get(S);o.set(S,Qe),Re||(a=!0)}}if(!a)if(i.data_.size!==o.size)i.keysAtom_.reportChanged();else for(var N=i.data_.keys(),te=o.keys(),fe=N.next(),ar=te.next();!fe.done;){if(fe.value!==ar.value){i.keysAtom_.reportChanged();break}fe=N.next(),ar=te.next()}i.data_=o}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(r,i){return gt(this,r)},e.intercept_=function(r){return bt(this,r)},Ke(t,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Te=Ce("ObservableMap",Xi);function ua(t){if(ze(t)||Te(t))return t;if(Array.isArray(t))return new Map(t);if(Q(t)){var e=new Map;for(var n in t)e.set(n,t[n]);return e}else return m(21,t)}var la={},Yi=function(){function t(n,r,i){var s=this;r===void 0&&(r=Ne),i===void 0&&(i="ObservableSet"),this.name_=void 0,this[p]=la,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,j(Set)||m(22),this.enhancer_=function(o,a){return r(o,a,i)},le(function(){s.atom_=Ai(s.name_),n&&s.replace(n)})}var e=t.prototype;return e.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},e.clear=function(){var r=this;Y(function(){Pi(function(){for(var i=He(r.data_.values()),s;!(s=i()).done;){var o=s.value;r.delete(o)}})})},e.forEach=function(r,i){for(var s=He(this),o;!(o=s()).done;){var a=o.value;r.call(i,a,a,this)}},e.add=function(r){var i=this;if(H(this.atom_),D(this)){var s=T(this,{type:oe,object:this,newValue:r});if(!s)return this}if(!this.has(r)){Y(function(){i.data_.add(i.enhancer_(r,void 0)),i.atom_.reportChanged()});var o=!1,a=M(this),u=a||o?{observableKind:"set",debugObjectName:this.name_,type:oe,object:this,newValue:r}:null;a&&k(this,u)}return this},e.delete=function(r){var i=this;if(D(this)){var s=T(this,{type:Xt,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var o=!1,a=M(this),u=a||o?{observableKind:"set",debugObjectName:this.name_,type:Xt,object:this,oldValue:r}:null;return Y(function(){i.atom_.reportChanged(),i.data_.delete(r)}),a&&k(this,u),!0}return!1},e.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},e.entries=function(){var r=0,i=Array.from(this.keys()),s=Array.from(this.values());return pt({next:function(){var a=r;return r+=1,a<s.length?{value:[i[a],s[a]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var r=this,i=0,s=Array.from(this.data_.values());return pt({next:function(){return i<s.length?{value:r.dehanceValue_(s[i++]),done:!1}:{done:!0}}})},e.intersection=function(r){if(X(r))return r.intersection(this);var i=new Set(this);return i.intersection(r)},e.union=function(r){if(X(r))return r.union(this);var i=new Set(this);return i.union(r)},e.difference=function(r){return new Set(this).difference(r)},e.symmetricDifference=function(r){if(X(r))return r.symmetricDifference(this);var i=new Set(this);return i.symmetricDifference(r)},e.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},e.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},e.isDisjointFrom=function(r){if(X(r))return r.isDisjointFrom(this);var i=new Set(this);return i.isDisjointFrom(r)},e.replace=function(r){var i=this;return We(r)&&(r=new Set(r)),Y(function(){Array.isArray(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):X(r)?(i.clear(),r.forEach(function(s){return i.add(s)})):r!=null&&m("Cannot initialize set from "+r)}),this},e.observe_=function(r,i){return gt(this,r)},e.intercept_=function(r){return bt(this,r)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[Symbol.iterator]=function(){return this.values()},Ke(t,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),We=Ce("ObservableSet",Yi),si=Object.create(null),oi="remove",Ji=function(){function t(n,r,i,s){r===void 0&&(r=new Map),s===void 0&&(s=uo),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=i,this.defaultAnnotation_=s,this.keysAtom_=new ue("ObservableObject.keys"),this.isPlainObject_=Q(this.target_)}var e=t.prototype;return e.getObservablePropValue_=function(r){return this.values_.get(r).get()},e.setObservablePropValue_=function(r,i){var s=this.values_.get(r);if(s instanceof U)return s.set(i),!0;if(D(this)){var o=T(this,{type:z,object:this.proxy_||this.target_,name:r,newValue:i});if(!o)return null;i=o.newValue}if(i=s.prepareNewValue_(i),i!==h.UNCHANGED){var a=M(this),u=!1,l=a||u?{type:z,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:i}:null;s.setNewValue_(i),a&&k(this,l)}return!0},e.get_=function(r){return h.trackingDerivation&&!J(this.target_,r)&&this.has_(r),this.target_[r]},e.set_=function(r,i,s){return s===void 0&&(s=!1),J(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,i):s?Reflect.set(this.target_,r,i):(this.target_[r]=i,!0):this.extend_(r,{value:i,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},e.has_=function(r){if(!h.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var i=this.pendingKeys_.get(r);return i||(i=new Ae(r in this.target_,Zt,"ObservableObject.key?",!1),this.pendingKeys_.set(r,i)),i.get()},e.make_=function(r,i){if(i===!0&&(i=this.defaultAnnotation_),i!==!1){if(li(this,i,r),!(r in this.target_)){var s;if((s=this.target_[B])!=null&&s[r])return;m(1,i.annotationType_,this.name_+"."+r.toString())}for(var o=this.target_;o&&o!==Yt;){var a=Ft(o,r);if(a){var u=i.make_(this,r,a,o);if(u===0)return;if(u===1)break}o=Object.getPrototypeOf(o)}ui(this,i,r)}},e.extend_=function(r,i,s,o){if(o===void 0&&(o=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,i,o);li(this,s,r);var a=s.extend_(this,r,i,o);return a&&ui(this,s,r),a},e.defineProperty_=function(r,i,s){s===void 0&&(s=!1),H(this.keysAtom_);try{P();var o=this.delete_(r);if(!o)return o;if(D(this)){var a=T(this,{object:this.proxy_||this.target_,name:r,type:oe,newValue:i.value});if(!a)return null;var u=a.newValue;i.value!==u&&(i=$e({},i,{value:u}))}if(s){if(!Reflect.defineProperty(this.target_,r,i))return!1}else F(this.target_,r,i);this.notifyPropertyAddition_(r,i.value)}finally{R()}return!0},e.defineObservableProperty_=function(r,i,s,o){o===void 0&&(o=!1),H(this.keysAtom_);try{P();var a=this.delete_(r);if(!a)return a;if(D(this)){var u=T(this,{object:this.proxy_||this.target_,name:r,type:oe,newValue:i});if(!u)return null;i=u.newValue}var l=ai(r),c={configurable:h.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,r,c))return!1}else F(this.target_,r,c);var d=new Ae(i,s,"ObservableObject.key",!1);this.values_.set(r,d),this.notifyPropertyAddition_(r,d.value_)}finally{R()}return!0},e.defineComputedProperty_=function(r,i,s){s===void 0&&(s=!1),H(this.keysAtom_);try{P();var o=this.delete_(r);if(!o)return o;if(D(this)){var a=T(this,{object:this.proxy_||this.target_,name:r,type:oe,newValue:void 0});if(!a)return null}i.name||(i.name="ObservableObject.key"),i.context=this.proxy_||this.target_;var u=ai(r),l={configurable:h.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:u.get,set:u.set};if(s){if(!Reflect.defineProperty(this.target_,r,l))return!1}else F(this.target_,r,l);this.values_.set(r,new U(i)),this.notifyPropertyAddition_(r,void 0)}finally{R()}return!0},e.delete_=function(r,i){if(i===void 0&&(i=!1),H(this.keysAtom_),!J(this.target_,r))return!0;if(D(this)){var s=T(this,{object:this.proxy_||this.target_,name:r,type:oi});if(!s)return null}try{var o;P();var a=M(this),u=!1,l=this.values_.get(r),c=void 0;if(!l&&(a||u)){var d;c=(d=Ft(this.target_,r))==null?void 0:d.value}if(i){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(l&&(this.values_.delete(r),l instanceof Ae&&(c=l.value_),ji(l)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(r))==null||o.set(r in this.target_),a||u){var f={type:oi,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:c,name:r};a&&k(this,f)}}finally{R()}return!0},e.observe_=function(r,i){return gt(this,r)},e.intercept_=function(r){return bt(this,r)},e.notifyPropertyAddition_=function(r,i){var s,o=M(this),a=!1;if(o||a){var u=o||a?{type:oe,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:i}:null;o&&k(this,u)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Fe(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},t}();function Pe(t,e){var n;if(J(t,p))return t;var r=(n=e?.name)!=null?n:"ObservableObject",i=new Ji(t,new Map,String(r),yo(e));return vt(t,p,i),t}var ca=Ce("ObservableObjectAdministration",Ji);function ai(t){return si[t]||(si[t]={get:function(){return this[p].getObservablePropValue_(t)},set:function(n){return this[p].setObservablePropValue_(t,n)}})}function ht(t){return Jt(t)?ca(t[p]):!1}function ui(t,e,n){var r;(r=t.target_[B])==null||delete r[n]}function li(t,e,n){if(0)var r,i,s}var fa=Qi(0),da=function(){var t=!1,e={};return Object.defineProperty(e,"0",{set:function(){t=!0}}),Object.create(e)[0]=1,t===!1}(),Bn=0,Zi=function(){};function ha(t,e){Object.setPrototypeOf?Object.setPrototypeOf(t.prototype,e):t.prototype.__proto__!==void 0?t.prototype.__proto__=e:t.prototype=e}ha(Zi,Array.prototype);var ir=function(t){function e(r,i,s,o){var a;return s===void 0&&(s="ObservableArray"),o===void 0&&(o=!1),a=t.call(this)||this,le(function(){var u=new rr(s,i,o,!0);u.proxy_=a,bi(a,p,u),r&&r.length&&a.spliceWithArray(0,0,r),da&&Object.defineProperty(a,"0",fa)}),a}Ei(e,t);var n=e.prototype;return n.concat=function(){this[p].atom_.reportObserved();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return sn(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,i=0;return pt({next:function(){return i<r.length?{value:r[i++],done:!1}:{done:!0,value:void 0}}})},Ke(e,[{key:"length",get:function(){return this[p].getArrayLength_()},set:function(i){this[p].setArrayLength_(i)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Zi);Object.entries(Wt).forEach(function(t){var e=t[0],n=t[1];e!=="concat"&&vt(ir.prototype,e,n)});function Qi(t){return{enumerable:!1,configurable:!0,get:function(){return this[p].get_(t)},set:function(n){this[p].set_(t,n)}}}function pa(t){F(ir.prototype,""+t,Qi(t))}function es(t){if(t>Bn){for(var e=Bn;e<t+100;e++)pa(e);Bn=t}}es(1e3);function va(t,e,n){return new ir(t,e,n)}function xe(t,e){if(typeof t=="object"&&t!==null){if(sn(t))return e!==void 0&&m(23),t[p].atom_;if(We(t))return t.atom_;if(Te(t)){if(e===void 0)return t.keysAtom_;var n=t.data_.get(e)||t.hasMap_.get(e);return n||m(25,e,Yn(t)),n}if(ht(t)){if(!e)return m(26);var r=t[p].values_.get(e);return r||m(27,e,Yn(t)),r}if(Zn(t)||tn(t)||Gt(t))return t}else if(j(t)&&Gt(t[p]))return t[p];m(28)}function ts(t,e){if(t||m(29),e!==void 0)return ts(xe(t,e));if(Zn(t)||tn(t)||Gt(t)||Te(t)||We(t))return t;if(t[p])return t[p];m(24,t)}function Yn(t,e){var n;if(e!==void 0)n=xe(t,e);else{if(nn(t))return t.name;ht(t)||Te(t)||We(t)?n=ts(t):n=xe(t)}return n.name_}function le(t){var e=De(),n=er(!0);P();try{return t()}finally{R(),tr(n),Z(e)}}var ci=Yt.toString;function sr(t,e,n){return n===void 0&&(n=-1),Jn(t,e,n)}function Jn(t,e,n,r,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var s=typeof t;if(s!=="function"&&s!=="object"&&typeof e!="object")return!1;var o=ci.call(t);if(o!==ci.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(t)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":n>=0&&n++;break}t=fi(t),e=fi(e);var a=o==="[object Array]";if(!a){if(typeof t!="object"||typeof e!="object")return!1;var u=t.constructor,l=e.constructor;if(u!==l&&!(j(u)&&u instanceof u&&j(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],i=i||[];for(var c=r.length;c--;)if(r[c]===t)return i[c]===e;if(r.push(t),i.push(e),a){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!Jn(t[c],e[c],n-1,r,i))return!1}else{var d=Object.keys(t),f;if(c=d.length,Object.keys(e).length!==c)return!1;for(;c--;)if(f=d[c],!(J(e,f)&&Jn(t[f],e[f],n-1,r,i)))return!1}return r.pop(),i.pop(),!0}function fi(t){return sn(t)?t.slice():ze(t)||Te(t)||X(t)||We(t)?Array.from(t.entries()):t}function pt(t){return t[Symbol.iterator]=_a,t}function _a(){return this}["Symbol","Map","Set"].forEach(function(t){var e=di();typeof e[t]>"u"&&m("MobX requires global '"+t+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Uo,extras:{getDebugName:Yn},$mobx:p});var Xe=class{constructor(e){A(this,"path","");A(this,"type","");A(this,"model",{id:"",path:""});A(this,"hasChanges",!1);A(this,"fields",[]);Gi(this,{hasChanges:$,updateField:se}),Object.assign(this,e)}updateField(e,n){this.fields.filter(r=>r.name===e).forEach(r=>{r.values!==n&&(r.values=n,this.hasChanges=!0)})}};var on=class{constructor(){A(this,"query");A(this,"path");A(this,"locale");A(this,"variant");A(this,"modelId");A(this,"published");A(this,"result",[]);rn(this)}setResult(e){this.result=e}update(e){Object.assign(this,e)}};var ma=window.adobeid?.authorize?.(),un={Authorization:`Bearer ${ma}`,pragma:"no-cache","cache-control":"no-cache"};async function ba({path:t,query:e}){let n={};t&&(n.path=t),e&&(n.fullText={text:encodeURIComponent(e),queryMode:"EXACT_WORDS"});let r=new URLSearchParams({query:JSON.stringify({filter:n})}).toString();return fetch(`${this.cfSearchUrl}?${r}`,{headers:un}).then(i=>i.json()).then(i=>i.items)}async function ga(t){return fetch(`${this.cfFragmentsUrl}?path=${t}`,{headers:un}).then(e=>e.json()).then(({items:[e]})=>e)}var ns=async t=>{let e=t.headers.get("Etag"),n=await t.json();return n.etag=e,n};async function ya(t){return await fetch(`${this.cfFragmentsUrl}/${t}`,{headers:un}).then(ns)}async function Ea(t){let{title:e,fields:n}=t;return await fetch(`${this.cfFragmentsUrl}/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json","If-Match":t.etag,...un},body:JSON.stringify({title:e,fields:n})}).then(ns)}var an=class{constructor(e){A(this,"sites",{cf:{fragments:{search:ba.bind(this),getCfByPath:ga.bind(this),getCfById:ya.bind(this),save:Ea.bind(this)}}});let r=`${`https://${e}.adobeaemcloud.com`}/adobe/sites`;this.cfFragmentsUrl=`${r}/cf/fragments`,this.cfSearchUrl=`${this.cfFragmentsUrl}/search`}};var ln,cn=class{constructor(e){A(this,"search",new on);A(this,"aem");A(this,"fragment");if(!e)throw new Error("bucket is required");rn(this,{aem:!1}),this.aem=new an(e),ln=document.createElement("merch-datasource").cache}async doSearch(e){this.search.update(e);let n=await this.aem.sites.cf.fragments.search(this.search).then(r=>r.map(i=>new Xe(i)));ln?.add(...n),this.search.setResult(n)}async selectFragment(e){this.aem.sites.cf.fragments.getCfById(e.id),ln?.add(e),this.fragment=new Xe(e)}async saveFragment(){let e=await this.aem.sites.cf.fragments.save(this.fragment);ln?.add(e),this.fragment=new Xe(e)}};var rs="submit";var{I:Aa}=Tr;var is=()=>document.createComment(""),Ye=(t,e,n)=>{var r;let i=t._$AA.parentNode,s=e===void 0?t._$AB:e._$AA;if(n===void 0){let o=i.insertBefore(is(),s),a=i.insertBefore(is(),s);n=new Aa(o,a,t,t.options)}else{let o=n._$AB.nextSibling,a=n._$AM,u=a!==t;if(u){let l;(r=n._$AQ)===null||r===void 0||r.call(n,t),n._$AM=t,n._$AP!==void 0&&(l=t._$AU)!==a._$AU&&n._$AP(l)}if(o!==s||u){let l=n._$AA;for(;l!==o;){let c=l.nextSibling;i.insertBefore(l,s),l=c}}}return n},ce=(t,e,n=t)=>(t._$AI(e,n),t),Oa={},ss=(t,e=Oa)=>t._$AH=e,os=t=>t._$AH,fn=t=>{var e;(e=t._$AP)===null||e===void 0||e.call(t,!1,!0);let n=t._$AA,r=t._$AB.nextSibling;for(;n!==r;){let i=n.nextSibling;n.remove(),n=i}};var as=(t,e,n)=>{let r=new Map;for(let i=e;i<=n;i++)r.set(t[i],i);return r},us=Le(class extends ie{constructor(t){if(super(t),t.type!==Ue.CHILD)throw Error("repeat() can only be used in text expressions")}ct(t,e,n){let r;n===void 0?n=e:e!==void 0&&(r=e);let i=[],s=[],o=0;for(let a of t)i[o]=r?r(a,o):o,s[o]=n(a,o),o++;return{values:s,keys:i}}render(t,e,n){return this.ct(t,e,n).values}update(t,[e,n,r]){var i;let s=os(t),{values:o,keys:a}=this.ct(e,n,r);if(!Array.isArray(s))return this.ut=a,o;let u=(i=this.ut)!==null&&i!==void 0?i:this.ut=[],l=[],c,d,f=0,v=s.length-1,g=0,_=o.length-1;for(;f<=v&&g<=_;)if(s[f]===null)f++;else if(s[v]===null)v--;else if(u[f]===a[g])l[g]=ce(s[f],o[g]),f++,g++;else if(u[v]===a[_])l[_]=ce(s[v],o[_]),v--,_--;else if(u[f]===a[_])l[_]=ce(s[f],o[_]),Ye(t,l[_+1],s[f]),f++,_--;else if(u[v]===a[g])l[g]=ce(s[v],o[g]),Ye(t,s[f],s[v]),v--,g++;else if(c===void 0&&(c=as(a,g,_),d=as(u,f,v)),c.has(u[f]))if(c.has(u[v])){let S=d.get(a[g]),ee=S!==void 0?s[S]:null;if(ee===null){let Re=Ye(t,s[f]);ce(Re,o[g]),l[g]=Re}else l[g]=ce(ee,o[g]),Ye(t,s[f],ee),s[S]=null;g++}else fn(s[v]),v--;else fn(s[f]),f++;for(;g<=_;){let S=Ye(t,l[_+1]);ce(S,o[g]),l[g++]=S}for(;f<=v;){let S=s[f++];S!==null&&fn(S)}return this.ut=a,ss(t,l),V}});var Je=Symbol("LitMobxRenderReaction"),ls=Symbol("LitMobxRequestUpdate");function cs(t,e){var n,r;return r=class extends t{constructor(){super(...arguments),this[n]=()=>{this.requestUpdate()}}connectedCallback(){super.connectedCallback();let s=this.constructor.name||this.nodeName;this[Je]=new e(`${s}.update()`,this[ls]),this.hasUpdated&&this.requestUpdate()}disconnectedCallback(){super.disconnectedCallback(),this[Je]&&(this[Je].dispose(),this[Je]=void 0)}update(s){this[Je]?this[Je].track(super.update.bind(this,s)):super.update(s)}},n=ls,r}var fs="hashchange";function Sa(t=window.location.hash){let e=[],n=t.replace(/^#/,"").split("&");for(let r of n){let[i,s=""]=r.split("=");i&&e.push([i,decodeURIComponent(s.replace(/\+/g," "))])}return Object.fromEntries(e)}function ds(t){let e=new URLSearchParams(window.location.hash.slice(1));Object.entries(t).forEach(([i,s])=>{s?e.set(i,s):e.delete(i)}),e.sort();let n=e.toString();if(n===window.location.hash)return;let r=window.scrollY||document.documentElement.scrollTop;window.location.hash=n,window.scrollTo(0,r)}function hs(t){let e=()=>{if(window.location.hash&&!window.location.hash.includes("="))return;let n=Sa(window.location.hash);t(n)};return e(),window.addEventListener(fs,e),()=>{window.removeEventListener(fs,e)}}var or=class extends HTMLElement{constructor(){super(),this.editor=null}connectedCallback(){window.tinymce.init({target:this,toolbar:"bold italic underline | link openlink unlink",plugins:"link",license_key:"gpl",promotion:!1,extended_valid_elements:"a[is|href|class],span[is|class]",content_style:".price-strikethrough { text-decoration: line-through;}",setup:e=>{this.editor=e,e.on("blur",()=>{[...e.contentDocument.querySelectorAll("p")].forEach(s=>{s.innerText.trim()===""&&s.remove()});let n=[...e.contentDocument.querySelectorAll('span[is="inline-price"],a[is="checkout-link"]')];n.forEach(s=>{s.isInlinePrice&&(s.innerHTML=""),s.isCheckoutLink&&s.setAttribute("href",""),s.removeAttribute("class"),s.removeAttribute("contenteditable")}),$a(e.contentDocument.body);let r=e.contentDocument.body.innerHTML;n.forEach(s=>{s.setAttribute("contenteditable","false"),s.render?.()});let i=new CustomEvent("blur",{bubbles:!0,composed:!0,detail:{value:r}});this.dispatchEvent(i)}),e.on("init",n=>{let r=window.__mas__lib;if(!r)return;let i=e.contentDocument.createElement("script");i.src=r,i.setAttribute("type","module"),e.contentDocument.head.appendChild(i);let s=e.contentDocument.createElement("script");s.innerHTML="window.process = { env: {} };",e.contentDocument.head.appendChild(s)}),e.on("SetContent",n=>{[...e.contentDocument.querySelectorAll("a[is],span[is]")].forEach(r=>{r.setAttribute("contenteditable","false")})})}})}};function $a(t){let e=document.createTreeWalker(t,NodeFilter.SHOW_COMMENT,null,!1),n=[],r;for(;r=e.nextNode();)n.push(r);n.forEach(i=>i.parentNode.removeChild(i))}customElements.define("rte-editor",or);var ps=Le(class extends ie{constructor(t){var e;if(super(t),t.type!==Ue.ATTRIBUTE||t.name!=="class"||((e=t.strings)===null||e===void 0?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){var n,r;if(this.it===void 0){this.it=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(let s in e)e[s]&&!(!((n=this.nt)===null||n===void 0)&&n.has(s))&&this.it.add(s);return this.render(e)}let i=t.element.classList;this.it.forEach(s=>{s in e||(i.remove(s),this.it.delete(s))});for(let s in e){let o=!!e[s];o===this.it.has(s)||!((r=this.nt)===null||r===void 0)&&r.has(s)||(o?(i.add(s),this.it.add(s)):(i.remove(s),this.it.delete(s)))}return V}});var vs={aosApiKey:"wcms-commerce-ims-user-prod",checkoutClientId:"creative",country:"US",environment:"PROD",landscape:"PUBLISHED",language:"en",searchParameters:{},searchOfferSelectorId:null,defaultPlaceholderOptions:{displayRecurrence:!0,displayPerUnit:!0,displayTax:!1,displayOldPrice:!1,forceTaxExclusive:!0},wcsApiKey:"wcms-commerce-ims-ro-user-cc",ctaTextOption:{ctaTexts:[{id:"buy-now",name:"Buy now"},{id:"free-trial",name:"Free trial"},{id:"start-free-trial",name:"Start free trial"},{id:"get-started",name:"Get started"},{id:"choose-a-plan",name:"Choose a plan"},{id:"learn-more",name:"Learn more"},{id:"change-plan-team-plans",name:"Change Plan Team Plans"},{id:"upgrade",name:"Upgrade"},{id:"change-plan-team-payment",name:"Change Plan Team Payment"},{id:"take-the-quiz",name:"Take the quiz"},{id:"see-more",name:"See more"},{id:"upgrade-now",name:"Upgrade now"}],getDefaultText(){return this.ctaTexts[0].id},getTexts(){return this.ctaTexts},getSelectedText(t){let e=t.get("text");return e&&this.ctaTexts.find(n=>n.id===e)?e:this.getDefaultText()}}};var Na={merchCard:{path:"/conf/sandbox/settings/dam/cfm/models/merch-card",name:"Merch Card"}},Ze,dn=class extends cs(re,K){constructor(){super();cr(this,Ze);this.confirmSelect=!1}connectedCallback(){super.connectedCallback(),this.store=new cn(this.bucket),this.startDeeplink()}disconnectedCallback(){super.disconnectedCallback(),this.deeplinkDisposer()}get search(){return this.querySelector("sp-search")}get picker(){return this.querySelector("sp-picker")}createRenderRoot(){return this}get selectFragmentDialog(){return this.confirmSelect?I`
            <sp-underlay open></sp-underlay>
            <sp-dialog size="m">
                <h1 slot="heading">You have unsaved changes!</h1>
                <p>
                    Do you want to save your changes before selecting another
                    merch card?
                </p>
                <sp-button
                    slot="button"
                    @click="${()=>this.editFragment(null,this.fragment,!0)}"
                >
                    Save
                </sp-button>
                <sp-button
                    slot="button"
                    variant="primary"
                    @click="${()=>this.editFragment(null,this.fragment,!0)}"
                >
                    Discard
                </sp-button>
                <sp-button
                    slot="button"
                    variant="secondary"
                    @click="${this.closeConfirmSelect}"
                >
                    Cancel
                </sp-button>
            </sp-dialog>
        `:E}get fragmentEditorToolbar(){return this.store.fragment?I`<div id="actions">
            <sp-action-group
                aria-label="Fragment actions"
                role="group"
                compact
                emphasized
            >
                <sp-action-button
                    label="Save"
                    title="Save changes"
                    value="save"
                    @click="${this.saveFragment}"
                >
                    <sp-icon-save-floppy slot="icon"></sp-icon-save-floppy>
                </sp-action-button>
                <sp-action-button
                    label="Discard"
                    title="Discard changes"
                    value="discard"
                >
                    <sp-icon-undo slot="icon"></sp-icon-undo>
                </sp-action-button>
                <sp-action-button label="Clone" value="clone">
                    <sp-icon-duplicate slot="icon"></sp-icon-duplicate>
                </sp-action-button>
                <sp-action-button label="Publish" value="publish">
                    <sp-icon-publish-check slot="icon"></sp-icon-publish-check>
                </sp-action-button>
                <sp-action-button label="Unpublish" value="unpublish">
                    <sp-icon-publish-remove
                        slot="icon"
                    ></sp-icon-publish-remove>
                </sp-action-button>
            </sp-action-group>
            <sp-divider vertical></sp-divider>
            <sp-action-group>
                <overlay-trigger type="modal" receive-focus="true">
                    <sp-dialog-base underlay slot="click-content">
                        <sp-dialog
                            size="l"
                            no-divider
                            dismissable
                            mode="fullscreen"
                        >
                            <div id="ost"></div>
                        </sp-dialog>
                    </sp-dialog-base>
                    <sp-action-button
                        slot="trigger"
                        title="Offer Selector Tool"
                        label="Offer Selector Tool"
                        value="offer-selector"
                        @click="${this.editorActionClickHandler}"
                    >
                        <sp-icon-star slot="icon"></sp-icon-star>
                    </sp-action-button>
                </overlay-trigger>
            </sp-action-group>
            <sp-divider vertical></sp-divider>
            <sp-action-group>
                <sp-action-button
                    title="Close"
                    label="Close"
                    value="close"
                    @click="${this.closeFragmentEditor}"
                >
                    <sp-icon-close-circle slot="icon"></sp-icon-close-circle>
                </sp-action-button>
            </sp-action-group>
        </div>`:E}get fragmentEditor(){let n={open:this.store.fragment};return I`<div id="editor" class=${ps(n)}>
            ${this.merchCardFragmentEditor} ${this.fragmentEditorToolbar}
        </div>`}get merchCardFragmentEditor(){let{fragment:n}=this.store;if(!n)return E;let r=Object.fromEntries(n.fields.map(i=>[i.name,i]));return I`<sp-field-label for="card-variant">Variant</sp-field-label>
            <sp-picker
                id="card-variant"
                data-field="variant"
                value="${r.variant.values[0]}"
                @change="${this.updateFragment}"
            >
                <span slot="label">Choose a variant:</span>
                <sp-menu-item value="ccd-action">CCD Action</sp-menu-item>
                <sp-menu-item>CCH</sp-menu-item>
                <sp-menu-item>Plans</sp-menu-item>
                <sp-menu-item>Catalog</sp-menu-item>
            </sp-picker>
            <sp-field-label for="card-title">Title</sp-field-label>
            <sp-textfield
                placeholder="Enter card title"
                id="card-title"
                data-field="title"
                value="${r.title.values[0]}"
                @change="${this.updateFragment}"
            ></sp-textfield>
            <sp-field-label for="card-icon">Icons</sp-field-label>
            <sp-textfield
                placeholder="Enter icon URLs"
                id="card-icon"
                data-field="icon"
                multiline
                value="${r.icon.values.join(",")}"
                @change="${this.updateFragment}"
            ></sp-textfield>
            <sp-field-label for="horizontal"> Prices </sp-field-label>
            <sp-field-group horizontal id="horizontal">
                <rte-editor data-field="prices" @blur="${this.updateFragment}"
                    >${Lt(r.prices.values[0])}</rte-editor
                >
            </sp-field-group>
            <sp-field-label for="horizontal"> Description </sp-field-label>
            <sp-field-group horizontal id="horizontal">
                <rte-editor
                    data-field="description"
                    @blur="${this.updateFragment}"
                    >${Lt(r.description.values[0])}</rte-editor
                >
            </sp-field-group>
            <sp-field-label for="horizontal"> Footer </sp-field-label>
            <sp-field-group horizontal id="horizontal">
                <rte-editor data-field="ctas" @blur="${this.updateFragment}"
                    >${Lt(r.ctas.values[0])}</rte-editor
                >
            </sp-field-group> `}get fragmentEditorEl(){return this.querySelector("#editor")}get result(){return this.store.search.result.length===0?E:I`<ul id="result">
            ${us(this.store.search.result,n=>n.path,n=>{switch(n.model.path){case Na.merchCard.path:return I`<merch-card
                                @dblclick="${r=>this.editFragment(r,n)}"
                            >
                                <merch-datasource
                                    path="${n.path}"
                                ></merch-datasource>
                                ${n.hasChanges?I` <sp-status-light
                                          size="l"
                                          variant="yellow"
                                      ></sp-status-light>`:""}
                            </merch-card>`;default:return E}})}
        </ul>`}render(){return this.store?I`
            <h1>Merch at Scale Studio</h1>
            <div>
                <sp-search
                    placeholder="Search"
                    @input="${this.handleSearch}"
                    @submit="${this.handleSearch}"
                    value=${this.searchText}
                    size="m"
                ></sp-search>
                <sp-picker
                    label="Fragment model"
                    size="m"
                    value=${this.store.search.modelId}
                >
                    <sp-menu-item value="all">All</sp-menu-item>
                    <sp-menu-item
                        value="L2NvbmYvc2FuZGJveC9zZXR0aW5ncy9kYW0vY2ZtL21vZGVscy9tZXJjaC1jYXJk"
                        >Merch Card</sp-menu-item
                    >
                </sp-picker>
                <sp-button
                    ?disabled="${!this.searchText}"
                    @click=${this.doSearch}
                    >Search</sp-button
                >
            </div>
            ${this.result} ${this.fragmentEditor} ${this.selectFragmentDialog}
            ${this.toast}
        `:E}get toast(){return I`<sp-toast timeout="6000"></sp-toast>`}get toastEl(){return this.querySelector("sp-toast")}async startDeeplink(){this.deeplinkDisposer=hs(({path:n,modelId:r,query:i})=>{this.searchText=i,this.store.search.update({path:n,modelId:r})}),this.searchText?(await this.updateComplete,this.doSearch()):this.store.search.setResult([])}showToast(n,r="info"){this.toastEl.innerHTML=n,this.toastEl.variant=r,this.toastEl.open=!0}async editFragment(n,r,i=!1){if(n){let s=n.target.closest("merch-card"),{offsetTop:o,offsetHeight:a}=s;this.fragmentOffsets=[`${o+a+20}px`]}r&&r===this.store.fragment||(this.store.fragment?.hasChanges&&!i?(this.fragment=r,this.confirmSelect=!0):(await this.store.selectFragment(r),this.fragment=void 0,this.confirmSelect=!1,await this.updateComplete,this.fragmentEditorEl.style.top=this.fragmentOffsets[0]))}updateFragment(n){let r=n.target.dataset.field,i=n.target.value||n.detail.value;i=n.target.multiline?i.split(","):[i],this.store.fragment.updateField(r,i),this.querySelector(`merch-datasource[path="${this.store.fragment.path}"]`).refresh(!1)}async saveFragment(){this.showToast("Saving fragment...");try{await this.store.saveFragment(),this.showToast("Fragment saved","positive")}catch{this.showToast("Fragment could not be  saved","negative")}}closeFragmentEditor(n){this.store.selectFragment()}closeConfirmSelect(){this.confirmSelect=!1}handleSearch(n){this.searchText=this.search.value,n.type===rs&&(n.preventDefault(),this.doSearch())}closeOstDialog(){this.querySelector("sp-dialog-base").open=!1}async doSearch(){let n=this.searchText,r=this.picker.value.replace("all",""),s={query:n,path:"/content/dam/sandbox/mas",modelId:r};ds(s),this.store.doSearch(s)}async editorActionClickHandler(n){if(hn(this,Ze))return;fr(this,Ze,document.getElementById("ost"));let r=window.adobeid.authorize(),i=new URLSearchParams;window.ost.openOfferSelectorTool({...vs,rootElement:hn(this,Ze),zIndex:20,aosAccessToken:r,searchParameters:i,onSelect:s=>{console.log("Offer selected:",s),this.closeOstDialog()}})}};Ze=new WeakMap,A(dn,"properties",{store:{type:Object,state:!0},bucket:{type:String,attribute:"aem-bucket"},searchText:{type:String,state:!0},confirmSelect:{type:Boolean,state:!0},fragment:{type:Object,state:!0},fragmentOffsets:{type:Object,state:!0}});customElements.define("mas-studio",dn);
/*! Bundled license information:

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/unsafe-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive-helpers.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/repeat.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
//# sourceMappingURL=studio.js.map
