var As=Object.defineProperty;var pr=r=>{throw TypeError(r)};var Os=(r,t,n)=>t in r?As(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var E=(r,t,n)=>Os(r,typeof t!="symbol"?t+"":t,n),vr=(r,t,n)=>t.has(r)||pr("Cannot "+n);var nt=(r,t,n)=>(vr(r,t,"read from private field"),n?n.call(r):t.get(r)),bn=(r,t,n)=>t.has(r)?pr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,n),gn=(r,t,n,i)=>(vr(r,t,"write to private field"),i?i.call(r,n):t.set(r,n),n);var $t=window,Nt=$t.ShadowRoot&&($t.ShadyCSS===void 0||$t.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,mr=Symbol(),_r=new WeakMap,wt=class{constructor(t,n,i){if(this._$cssResult$=!0,i!==mr)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o,n=this.t;if(Nt&&t===void 0){let i=n!==void 0&&n.length===1;i&&(t=_r.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&_r.set(n,t))}return t}toString(){return this.cssText}},br=r=>new wt(typeof r=="string"?r:r+"",void 0,mr);var yn=(r,t)=>{Nt?r.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):t.forEach(n=>{let i=document.createElement("style"),s=$t.litNonce;s!==void 0&&i.setAttribute("nonce",s),i.textContent=n.cssText,r.appendChild(i)})},xt=Nt?r=>r:r=>r instanceof CSSStyleSheet?(t=>{let n="";for(let i of t.cssRules)n+=i.cssText;return br(n)})(r):r;var En,Ct=window,gr=Ct.trustedTypes,Ss=gr?gr.emptyScript:"",yr=Ct.reactiveElementPolyfillSupport,On={toAttribute(r,t){switch(t){case Boolean:r=r?Ss:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,t){let n=r;switch(t){case Boolean:n=r!==null;break;case Number:n=r===null?null:Number(r);break;case Object:case Array:try{n=JSON.parse(r)}catch{n=null}}return n}},Er=(r,t)=>t!==r&&(t==t||r==r),An={attribute:!0,type:String,converter:On,reflect:!1,hasChanged:Er},Sn="finalized",he=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var n;this.finalize(),((n=this.h)!==null&&n!==void 0?n:this.h=[]).push(t)}static get observedAttributes(){this.finalize();let t=[];return this.elementProperties.forEach((n,i)=>{let s=this._$Ep(i,n);s!==void 0&&(this._$Ev.set(s,i),t.push(s))}),t}static createProperty(t,n=An){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(t,n),!n.noAccessor&&!this.prototype.hasOwnProperty(t)){let i=typeof t=="symbol"?Symbol():"__"+t,s=this.getPropertyDescriptor(t,i,n);s!==void 0&&Object.defineProperty(this.prototype,t,s)}}static getPropertyDescriptor(t,n,i){return{get(){return this[n]},set(s){let o=this[t];this[n]=s,this.requestUpdate(t,o,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||An}static finalize(){if(this.hasOwnProperty(Sn))return!1;this[Sn]=!0;let t=Object.getPrototypeOf(this);if(t.finalize(),t.h!==void 0&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let n=this.properties,i=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)];for(let s of i)this.createProperty(s,n[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){let n=[];if(Array.isArray(t)){let i=new Set(t.flat(1/0).reverse());for(let s of i)n.unshift(xt(s))}else t!==void 0&&n.push(xt(t));return n}static _$Ep(t,n){let i=n.attribute;return i===!1?void 0:typeof i=="string"?i:typeof t=="string"?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(t=this.constructor.h)===null||t===void 0||t.forEach(n=>n(this))}addController(t){var n,i;((n=this._$ES)!==null&&n!==void 0?n:this._$ES=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((i=t.hostConnected)===null||i===void 0||i.call(t))}removeController(t){var n;(n=this._$ES)===null||n===void 0||n.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((t,n)=>{this.hasOwnProperty(n)&&(this._$Ei.set(n,this[n]),delete this[n])})}createRenderRoot(){var t;let n=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return yn(n,this.constructor.elementStyles),n}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$ES)===null||t===void 0||t.forEach(n=>{var i;return(i=n.hostConnected)===null||i===void 0?void 0:i.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$ES)===null||t===void 0||t.forEach(n=>{var i;return(i=n.hostDisconnected)===null||i===void 0?void 0:i.call(n)})}attributeChangedCallback(t,n,i){this._$AK(t,i)}_$EO(t,n,i=An){var s;let o=this.constructor._$Ep(t,i);if(o!==void 0&&i.reflect===!0){let a=(((s=i.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?i.converter:On).toAttribute(n,i.type);this._$El=t,a==null?this.removeAttribute(o):this.setAttribute(o,a),this._$El=null}}_$AK(t,n){var i;let s=this.constructor,o=s._$Ev.get(t);if(o!==void 0&&this._$El!==o){let a=s.getPropertyOptions(o),l=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)===null||i===void 0?void 0:i.fromAttribute)!==void 0?a.converter:On;this._$El=o,this[o]=l.fromAttribute(n,a.type),this._$El=null}}requestUpdate(t,n,i){let s=!0;t!==void 0&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||Er)(this[t],n)?(this._$AL.has(t)||this._$AL.set(t,n),i.reflect===!0&&this._$El!==t&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(t,i))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(n){Promise.reject(n)}let t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((s,o)=>this[o]=s),this._$Ei=void 0);let n=!1,i=this._$AL;try{n=this.shouldUpdate(i),n?(this.willUpdate(i),(t=this._$ES)===null||t===void 0||t.forEach(s=>{var o;return(o=s.hostUpdate)===null||o===void 0?void 0:o.call(s)}),this.update(i)):this._$Ek()}catch(s){throw n=!1,this._$Ek(),s}n&&this._$AE(i)}willUpdate(t){}_$AE(t){var n;(n=this._$ES)===null||n===void 0||n.forEach(i=>{var s;return(s=i.hostUpdated)===null||s===void 0?void 0:s.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){this._$EC!==void 0&&(this._$EC.forEach((n,i)=>this._$EO(i,this[i],n)),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}};he[Sn]=!0,he.elementProperties=new Map,he.elementStyles=[],he.shadowRootOptions={mode:"open"},yr?.({ReactiveElement:he}),((En=Ct.reactiveElementVersions)!==null&&En!==void 0?En:Ct.reactiveElementVersions=[]).push("1.6.3");var $n,Tt=window,Me=Tt.trustedTypes,Ar=Me?Me.createPolicy("lit-html",{createHTML:r=>r}):void 0,Dt="$lit$",W=`lit$${(Math.random()+"").slice(9)}$`,Nn="?"+W,$s=`<${Nn}>`,_e=document,Pt=()=>_e.createComment(""),it=r=>r===null||typeof r!="object"&&typeof r!="function",Cr=Array.isArray,Tr=r=>Cr(r)||typeof r?.[Symbol.iterator]=="function",wn=`[ 	
\f\r]`,rt=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Or=/-->/g,Sr=/>/g,pe=RegExp(`>|${wn}(?:([^\\s"'>=/]+)(${wn}*=${wn}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),$r=/'/g,wr=/"/g,Dr=/^(?:script|style|textarea|title)$/i,Pr=r=>(t,...n)=>({_$litType$:r,strings:t,values:n}),Ia=Pr(1),Ba=Pr(2),M=Symbol.for("lit-noChange"),S=Symbol.for("lit-nothing"),Nr=new WeakMap,ve=_e.createTreeWalker(_e,129,null,!1);function Rr(r,t){if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ar!==void 0?Ar.createHTML(t):t}var Vr=(r,t)=>{let n=r.length-1,i=[],s,o=t===2?"<svg>":"",a=rt;for(let l=0;l<n;l++){let c=r[l],u,d,f=-1,h=0;for(;h<c.length&&(a.lastIndex=h,d=a.exec(c),d!==null);)h=a.lastIndex,a===rt?d[1]==="!--"?a=Or:d[1]!==void 0?a=Sr:d[2]!==void 0?(Dr.test(d[2])&&(s=RegExp("</"+d[2],"g")),a=pe):d[3]!==void 0&&(a=pe):a===pe?d[0]===">"?(a=s??rt,f=-1):d[1]===void 0?f=-2:(f=a.lastIndex-d[2].length,u=d[1],a=d[3]===void 0?pe:d[3]==='"'?wr:$r):a===wr||a===$r?a=pe:a===Or||a===Sr?a=rt:(a=pe,s=void 0);let v=a===pe&&r[l+1].startsWith("/>")?" ":"";o+=a===rt?c+$s:f>=0?(i.push(u),c.slice(0,f)+Dt+c.slice(f)+W+v):c+W+(f===-2?(i.push(void 0),l):v)}return[Rr(r,o+(r[n]||"<?>")+(t===2?"</svg>":"")),i]},st=class r{constructor({strings:t,_$litType$:n},i){let s;this.parts=[];let o=0,a=0,l=t.length-1,c=this.parts,[u,d]=Vr(t,n);if(this.el=r.createElement(u,i),ve.currentNode=this.el.content,n===2){let f=this.el.content,h=f.firstChild;h.remove(),f.append(...h.childNodes)}for(;(s=ve.nextNode())!==null&&c.length<l;){if(s.nodeType===1){if(s.hasAttributes()){let f=[];for(let h of s.getAttributeNames())if(h.endsWith(Dt)||h.startsWith(W)){let v=d[a++];if(f.push(h),v!==void 0){let g=s.getAttribute(v.toLowerCase()+Dt).split(W),m=/([.?@])?(.*)/.exec(v);c.push({type:1,index:o,name:m[2],strings:g,ctor:m[1]==="."?Vt:m[1]==="?"?kt:m[1]==="@"?Mt:be})}else c.push({type:6,index:o})}for(let h of f)s.removeAttribute(h)}if(Dr.test(s.tagName)){let f=s.textContent.split(W),h=f.length-1;if(h>0){s.textContent=Me?Me.emptyScript:"";for(let v=0;v<h;v++)s.append(f[v],Pt()),ve.nextNode(),c.push({type:2,index:++o});s.append(f[h],Pt())}}}else if(s.nodeType===8)if(s.data===Nn)c.push({type:2,index:o});else{let f=-1;for(;(f=s.data.indexOf(W,f+1))!==-1;)c.push({type:7,index:o}),f+=W.length-1}o++}}static createElement(t,n){let i=_e.createElement("template");return i.innerHTML=t,i}};function me(r,t,n=r,i){var s,o,a,l;if(t===M)return t;let c=i!==void 0?(s=n._$Co)===null||s===void 0?void 0:s[i]:n._$Cl,u=it(t)?void 0:t._$litDirective$;return c?.constructor!==u&&((o=c?._$AO)===null||o===void 0||o.call(c,!1),u===void 0?c=void 0:(c=new u(r),c._$AT(r,n,i)),i!==void 0?((a=(l=n)._$Co)!==null&&a!==void 0?a:l._$Co=[])[i]=c:n._$Cl=c),c!==void 0&&(t=me(r,c._$AS(r,t.values),c,i)),t}var Rt=class{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var n;let{el:{content:i},parts:s}=this._$AD,o=((n=t?.creationScope)!==null&&n!==void 0?n:_e).importNode(i,!0);ve.currentNode=o;let a=ve.nextNode(),l=0,c=0,u=s[0];for(;u!==void 0;){if(l===u.index){let d;u.type===2?d=new ot(a,a.nextSibling,this,t):u.type===1?d=new u.ctor(a,u.name,u.strings,this,t):u.type===6&&(d=new Ut(a,this,t)),this._$AV.push(d),u=s[++c]}l!==u?.index&&(a=ve.nextNode(),l++)}return ve.currentNode=_e,o}v(t){let n=0;for(let i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(t,i,n),n+=i.strings.length-2):i._$AI(t[n])),n++}},ot=class r{constructor(t,n,i,s){var o;this.type=2,this._$AH=S,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=i,this.options=s,this._$Cp=(o=s?.isConnected)===null||o===void 0||o}get _$AU(){var t,n;return(n=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&n!==void 0?n:this._$Cp}get parentNode(){let t=this._$AA.parentNode,n=this._$AM;return n!==void 0&&t?.nodeType===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=me(this,t,n),it(t)?t===S||t==null||t===""?(this._$AH!==S&&this._$AR(),this._$AH=S):t!==this._$AH&&t!==M&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):Tr(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==S&&it(this._$AH)?this._$AA.nextSibling.data=t:this.$(_e.createTextNode(t)),this._$AH=t}g(t){var n;let{values:i,_$litType$:s}=t,o=typeof s=="number"?this._$AC(t):(s.el===void 0&&(s.el=st.createElement(Rr(s.h,s.h[0]),this.options)),s);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===o)this._$AH.v(i);else{let a=new Rt(o,this),l=a.u(this.options);a.v(i),this.$(l),this._$AH=a}}_$AC(t){let n=Nr.get(t.strings);return n===void 0&&Nr.set(t.strings,n=new st(t)),n}T(t){Cr(this._$AH)||(this._$AH=[],this._$AR());let n=this._$AH,i,s=0;for(let o of t)s===n.length?n.push(i=new r(this.k(Pt()),this.k(Pt()),this,this.options)):i=n[s],i._$AI(o),s++;s<n.length&&(this._$AR(i&&i._$AB.nextSibling,s),n.length=s)}_$AR(t=this._$AA.nextSibling,n){var i;for((i=this._$AP)===null||i===void 0||i.call(this,!1,!0,n);t&&t!==this._$AB;){let s=t.nextSibling;t.remove(),t=s}}setConnected(t){var n;this._$AM===void 0&&(this._$Cp=t,(n=this._$AP)===null||n===void 0||n.call(this,t))}},be=class{constructor(t,n,i,s,o){this.type=1,this._$AH=S,this._$AN=void 0,this.element=t,this.name=n,this._$AM=s,this.options=o,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=S}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,n=this,i,s){let o=this.strings,a=!1;if(o===void 0)t=me(this,t,n,0),a=!it(t)||t!==this._$AH&&t!==M,a&&(this._$AH=t);else{let l=t,c,u;for(t=o[0],c=0;c<o.length-1;c++)u=me(this,l[i+c],n,c),u===M&&(u=this._$AH[c]),a||(a=!it(u)||u!==this._$AH[c]),u===S?t=S:t!==S&&(t+=(u??"")+o[c+1]),this._$AH[c]=u}a&&!s&&this.j(t)}j(t){t===S?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},Vt=class extends be{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===S?void 0:t}},ws=Me?Me.emptyScript:"",kt=class extends be{constructor(){super(...arguments),this.type=4}j(t){t&&t!==S?this.element.setAttribute(this.name,ws):this.element.removeAttribute(this.name)}},Mt=class extends be{constructor(t,n,i,s,o){super(t,n,i,s,o),this.type=5}_$AI(t,n=this){var i;if((t=(i=me(this,t,n,0))!==null&&i!==void 0?i:S)===M)return;let s=this._$AH,o=t===S&&s!==S||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,a=t!==S&&(s===S||o);o&&this.element.removeEventListener(this.name,this,s),a&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n,i;typeof this._$AH=="function"?this._$AH.call((i=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&i!==void 0?i:this.element,t):this._$AH.handleEvent(t)}},Ut=class{constructor(t,n,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){me(this,t)}},kr={O:Dt,P:W,A:Nn,C:1,M:Vr,L:Rt,R:Tr,D:me,I:ot,V:be,H:kt,N:Mt,U:Vt,F:Ut},xr=Tt.litHtmlPolyfillSupport;xr?.(st,ot),(($n=Tt.litHtmlVersions)!==null&&$n!==void 0?$n:Tt.litHtmlVersions=[]).push("2.8.0");var jt=window,It=jt.ShadowRoot&&(jt.ShadyCSS===void 0||jt.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Ur=Symbol(),Mr=new WeakMap,Lt=class{constructor(t,n,i){if(this._$cssResult$=!0,i!==Ur)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=n}get styleSheet(){let t=this.o,n=this.t;if(It&&t===void 0){let i=n!==void 0&&n.length===1;i&&(t=Mr.get(n)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&Mr.set(n,t))}return t}toString(){return this.cssText}},jr=r=>new Lt(typeof r=="string"?r:r+"",void 0,Ur);var xn=(r,t)=>{It?r.adoptedStyleSheets=t.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet):t.forEach(n=>{let i=document.createElement("style"),s=jt.litNonce;s!==void 0&&i.setAttribute("nonce",s),i.textContent=n.cssText,r.appendChild(i)})},Bt=It?r=>r:r=>r instanceof CSSStyleSheet?(t=>{let n="";for(let i of t.cssRules)n+=i.cssText;return jr(n)})(r):r;var Cn,Ht=window,Lr=Ht.trustedTypes,Ns=Lr?Lr.emptyScript:"",Ir=Ht.reactiveElementPolyfillSupport,Dn={toAttribute(r,t){switch(t){case Boolean:r=r?Ns:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,t){let n=r;switch(t){case Boolean:n=r!==null;break;case Number:n=r===null?null:Number(r);break;case Object:case Array:try{n=JSON.parse(r)}catch{n=null}}return n}},Br=(r,t)=>t!==r&&(t==t||r==r),Tn={attribute:!0,type:String,converter:Dn,reflect:!1,hasChanged:Br},Pn="finalized",X=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var n;this.finalize(),((n=this.h)!==null&&n!==void 0?n:this.h=[]).push(t)}static get observedAttributes(){this.finalize();let t=[];return this.elementProperties.forEach((n,i)=>{let s=this._$Ep(i,n);s!==void 0&&(this._$Ev.set(s,i),t.push(s))}),t}static createProperty(t,n=Tn){if(n.state&&(n.attribute=!1),this.finalize(),this.elementProperties.set(t,n),!n.noAccessor&&!this.prototype.hasOwnProperty(t)){let i=typeof t=="symbol"?Symbol():"__"+t,s=this.getPropertyDescriptor(t,i,n);s!==void 0&&Object.defineProperty(this.prototype,t,s)}}static getPropertyDescriptor(t,n,i){return{get(){return this[n]},set(s){let o=this[t];this[n]=s,this.requestUpdate(t,o,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||Tn}static finalize(){if(this.hasOwnProperty(Pn))return!1;this[Pn]=!0;let t=Object.getPrototypeOf(this);if(t.finalize(),t.h!==void 0&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){let n=this.properties,i=[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)];for(let s of i)this.createProperty(s,n[s])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){let n=[];if(Array.isArray(t)){let i=new Set(t.flat(1/0).reverse());for(let s of i)n.unshift(Bt(s))}else t!==void 0&&n.push(Bt(t));return n}static _$Ep(t,n){let i=n.attribute;return i===!1?void 0:typeof i=="string"?i:typeof t=="string"?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(t=this.constructor.h)===null||t===void 0||t.forEach(n=>n(this))}addController(t){var n,i;((n=this._$ES)!==null&&n!==void 0?n:this._$ES=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((i=t.hostConnected)===null||i===void 0||i.call(t))}removeController(t){var n;(n=this._$ES)===null||n===void 0||n.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((t,n)=>{this.hasOwnProperty(n)&&(this._$Ei.set(n,this[n]),delete this[n])})}createRenderRoot(){var t;let n=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return xn(n,this.constructor.elementStyles),n}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$ES)===null||t===void 0||t.forEach(n=>{var i;return(i=n.hostConnected)===null||i===void 0?void 0:i.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$ES)===null||t===void 0||t.forEach(n=>{var i;return(i=n.hostDisconnected)===null||i===void 0?void 0:i.call(n)})}attributeChangedCallback(t,n,i){this._$AK(t,i)}_$EO(t,n,i=Tn){var s;let o=this.constructor._$Ep(t,i);if(o!==void 0&&i.reflect===!0){let a=(((s=i.converter)===null||s===void 0?void 0:s.toAttribute)!==void 0?i.converter:Dn).toAttribute(n,i.type);this._$El=t,a==null?this.removeAttribute(o):this.setAttribute(o,a),this._$El=null}}_$AK(t,n){var i;let s=this.constructor,o=s._$Ev.get(t);if(o!==void 0&&this._$El!==o){let a=s.getPropertyOptions(o),l=typeof a.converter=="function"?{fromAttribute:a.converter}:((i=a.converter)===null||i===void 0?void 0:i.fromAttribute)!==void 0?a.converter:Dn;this._$El=o,this[o]=l.fromAttribute(n,a.type),this._$El=null}}requestUpdate(t,n,i){let s=!0;t!==void 0&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||Br)(this[t],n)?(this._$AL.has(t)||this._$AL.set(t,n),i.reflect===!0&&this._$El!==t&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(t,i))):s=!1),!this.isUpdatePending&&s&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(n){Promise.reject(n)}let t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((s,o)=>this[o]=s),this._$Ei=void 0);let n=!1,i=this._$AL;try{n=this.shouldUpdate(i),n?(this.willUpdate(i),(t=this._$ES)===null||t===void 0||t.forEach(s=>{var o;return(o=s.hostUpdate)===null||o===void 0?void 0:o.call(s)}),this.update(i)):this._$Ek()}catch(s){throw n=!1,this._$Ek(),s}n&&this._$AE(i)}willUpdate(t){}_$AE(t){var n;(n=this._$ES)===null||n===void 0||n.forEach(i=>{var s;return(s=i.hostUpdated)===null||s===void 0?void 0:s.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){this._$EC!==void 0&&(this._$EC.forEach((n,i)=>this._$EO(i,this[i],n)),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}};X[Pn]=!0,X.elementProperties=new Map,X.elementStyles=[],X.shadowRootOptions={mode:"open"},Ir?.({ReactiveElement:X}),((Cn=Ht.reactiveElementVersions)!==null&&Cn!==void 0?Cn:Ht.reactiveElementVersions=[]).push("1.6.3");var Rn,Ft=window,Ue=Ft.trustedTypes,Hr=Ue?Ue.createPolicy("lit-html",{createHTML:r=>r}):void 0,kn="$lit$",re=`lit$${(Math.random()+"").slice(9)}$`,Xr="?"+re,xs=`<${Xr}>`,Ee=document,lt=()=>Ee.createComment(""),ct=r=>r===null||typeof r!="object"&&typeof r!="function",Jr=Array.isArray,Cs=r=>Jr(r)||typeof r?.[Symbol.iterator]=="function",Vn=`[ 	
\f\r]`,at=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Fr=/-->/g,qr=/>/g,ge=RegExp(`>|${Vn}(?:([^\\s"'>=/]+)(${Vn}*=${Vn}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),zr=/'/g,Kr=/"/g,Yr=/^(?:script|style|textarea|title)$/i,Zr=r=>(t,...n)=>({_$litType$:r,strings:t,values:n}),D=Zr(1),Wa=Zr(2),Ae=Symbol.for("lit-noChange"),A=Symbol.for("lit-nothing"),Gr=new WeakMap,ye=Ee.createTreeWalker(Ee,129,null,!1);function Qr(r,t){if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return Hr!==void 0?Hr.createHTML(t):t}var Ts=(r,t)=>{let n=r.length-1,i=[],s,o=t===2?"<svg>":"",a=at;for(let l=0;l<n;l++){let c=r[l],u,d,f=-1,h=0;for(;h<c.length&&(a.lastIndex=h,d=a.exec(c),d!==null);)h=a.lastIndex,a===at?d[1]==="!--"?a=Fr:d[1]!==void 0?a=qr:d[2]!==void 0?(Yr.test(d[2])&&(s=RegExp("</"+d[2],"g")),a=ge):d[3]!==void 0&&(a=ge):a===ge?d[0]===">"?(a=s??at,f=-1):d[1]===void 0?f=-2:(f=a.lastIndex-d[2].length,u=d[1],a=d[3]===void 0?ge:d[3]==='"'?Kr:zr):a===Kr||a===zr?a=ge:a===Fr||a===qr?a=at:(a=ge,s=void 0);let v=a===ge&&r[l+1].startsWith("/>")?" ":"";o+=a===at?c+xs:f>=0?(i.push(u),c.slice(0,f)+kn+c.slice(f)+re+v):c+re+(f===-2?(i.push(void 0),l):v)}return[Qr(r,o+(r[n]||"<?>")+(t===2?"</svg>":"")),i]},ut=class r{constructor({strings:t,_$litType$:n},i){let s;this.parts=[];let o=0,a=0,l=t.length-1,c=this.parts,[u,d]=Ts(t,n);if(this.el=r.createElement(u,i),ye.currentNode=this.el.content,n===2){let f=this.el.content,h=f.firstChild;h.remove(),f.append(...h.childNodes)}for(;(s=ye.nextNode())!==null&&c.length<l;){if(s.nodeType===1){if(s.hasAttributes()){let f=[];for(let h of s.getAttributeNames())if(h.endsWith(kn)||h.startsWith(re)){let v=d[a++];if(f.push(h),v!==void 0){let g=s.getAttribute(v.toLowerCase()+kn).split(re),m=/([.?@])?(.*)/.exec(v);c.push({type:1,index:o,name:m[2],strings:g,ctor:m[1]==="."?Un:m[1]==="?"?jn:m[1]==="@"?Ln:Le})}else c.push({type:6,index:o})}for(let h of f)s.removeAttribute(h)}if(Yr.test(s.tagName)){let f=s.textContent.split(re),h=f.length-1;if(h>0){s.textContent=Ue?Ue.emptyScript:"";for(let v=0;v<h;v++)s.append(f[v],lt()),ye.nextNode(),c.push({type:2,index:++o});s.append(f[h],lt())}}}else if(s.nodeType===8)if(s.data===Xr)c.push({type:2,index:o});else{let f=-1;for(;(f=s.data.indexOf(re,f+1))!==-1;)c.push({type:7,index:o}),f+=re.length-1}o++}}static createElement(t,n){let i=Ee.createElement("template");return i.innerHTML=t,i}};function je(r,t,n=r,i){var s,o,a,l;if(t===Ae)return t;let c=i!==void 0?(s=n._$Co)===null||s===void 0?void 0:s[i]:n._$Cl,u=ct(t)?void 0:t._$litDirective$;return c?.constructor!==u&&((o=c?._$AO)===null||o===void 0||o.call(c,!1),u===void 0?c=void 0:(c=new u(r),c._$AT(r,n,i)),i!==void 0?((a=(l=n)._$Co)!==null&&a!==void 0?a:l._$Co=[])[i]=c:n._$Cl=c),c!==void 0&&(t=je(r,c._$AS(r,t.values),c,i)),t}var Mn=class{constructor(t,n){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var n;let{el:{content:i},parts:s}=this._$AD,o=((n=t?.creationScope)!==null&&n!==void 0?n:Ee).importNode(i,!0);ye.currentNode=o;let a=ye.nextNode(),l=0,c=0,u=s[0];for(;u!==void 0;){if(l===u.index){let d;u.type===2?d=new dt(a,a.nextSibling,this,t):u.type===1?d=new u.ctor(a,u.name,u.strings,this,t):u.type===6&&(d=new In(a,this,t)),this._$AV.push(d),u=s[++c]}l!==u?.index&&(a=ye.nextNode(),l++)}return ye.currentNode=Ee,o}v(t){let n=0;for(let i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(t,i,n),n+=i.strings.length-2):i._$AI(t[n])),n++}},dt=class r{constructor(t,n,i,s){var o;this.type=2,this._$AH=A,this._$AN=void 0,this._$AA=t,this._$AB=n,this._$AM=i,this.options=s,this._$Cp=(o=s?.isConnected)===null||o===void 0||o}get _$AU(){var t,n;return(n=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&n!==void 0?n:this._$Cp}get parentNode(){let t=this._$AA.parentNode,n=this._$AM;return n!==void 0&&t?.nodeType===11&&(t=n.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,n=this){t=je(this,t,n),ct(t)?t===A||t==null||t===""?(this._$AH!==A&&this._$AR(),this._$AH=A):t!==this._$AH&&t!==Ae&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):Cs(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==A&&ct(this._$AH)?this._$AA.nextSibling.data=t:this.$(Ee.createTextNode(t)),this._$AH=t}g(t){var n;let{values:i,_$litType$:s}=t,o=typeof s=="number"?this._$AC(t):(s.el===void 0&&(s.el=ut.createElement(Qr(s.h,s.h[0]),this.options)),s);if(((n=this._$AH)===null||n===void 0?void 0:n._$AD)===o)this._$AH.v(i);else{let a=new Mn(o,this),l=a.u(this.options);a.v(i),this.$(l),this._$AH=a}}_$AC(t){let n=Gr.get(t.strings);return n===void 0&&Gr.set(t.strings,n=new ut(t)),n}T(t){Jr(this._$AH)||(this._$AH=[],this._$AR());let n=this._$AH,i,s=0;for(let o of t)s===n.length?n.push(i=new r(this.k(lt()),this.k(lt()),this,this.options)):i=n[s],i._$AI(o),s++;s<n.length&&(this._$AR(i&&i._$AB.nextSibling,s),n.length=s)}_$AR(t=this._$AA.nextSibling,n){var i;for((i=this._$AP)===null||i===void 0||i.call(this,!1,!0,n);t&&t!==this._$AB;){let s=t.nextSibling;t.remove(),t=s}}setConnected(t){var n;this._$AM===void 0&&(this._$Cp=t,(n=this._$AP)===null||n===void 0||n.call(this,t))}},Le=class{constructor(t,n,i,s,o){this.type=1,this._$AH=A,this._$AN=void 0,this.element=t,this.name=n,this._$AM=s,this.options=o,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=A}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,n=this,i,s){let o=this.strings,a=!1;if(o===void 0)t=je(this,t,n,0),a=!ct(t)||t!==this._$AH&&t!==Ae,a&&(this._$AH=t);else{let l=t,c,u;for(t=o[0],c=0;c<o.length-1;c++)u=je(this,l[i+c],n,c),u===Ae&&(u=this._$AH[c]),a||(a=!ct(u)||u!==this._$AH[c]),u===A?t=A:t!==A&&(t+=(u??"")+o[c+1]),this._$AH[c]=u}a&&!s&&this.j(t)}j(t){t===A?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},Un=class extends Le{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===A?void 0:t}},Ds=Ue?Ue.emptyScript:"",jn=class extends Le{constructor(){super(...arguments),this.type=4}j(t){t&&t!==A?this.element.setAttribute(this.name,Ds):this.element.removeAttribute(this.name)}},Ln=class extends Le{constructor(t,n,i,s,o){super(t,n,i,s,o),this.type=5}_$AI(t,n=this){var i;if((t=(i=je(this,t,n,0))!==null&&i!==void 0?i:A)===Ae)return;let s=this._$AH,o=t===A&&s!==A||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,a=t!==A&&(s===A||o);o&&this.element.removeEventListener(this.name,this,s),a&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var n,i;typeof this._$AH=="function"?this._$AH.call((i=(n=this.options)===null||n===void 0?void 0:n.host)!==null&&i!==void 0?i:this.element,t):this._$AH.handleEvent(t)}},In=class{constructor(t,n,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=n,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){je(this,t)}};var Wr=Ft.litHtmlPolyfillSupport;Wr?.(ut,dt),((Rn=Ft.litHtmlVersions)!==null&&Rn!==void 0?Rn:Ft.litHtmlVersions=[]).push("2.8.0");var ei=(r,t,n)=>{var i,s;let o=(i=n?.renderBefore)!==null&&i!==void 0?i:t,a=o._$litPart$;if(a===void 0){let l=(s=n?.renderBefore)!==null&&s!==void 0?s:null;o._$litPart$=a=new dt(t.insertBefore(lt(),l),l,void 0,n??{})}return a._$AI(r),a};var Bn,Hn;var ie=class extends X{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,n;let i=super.createRenderRoot();return(t=(n=this.renderOptions).renderBefore)!==null&&t!==void 0||(n.renderBefore=i.firstChild),i}update(t){let n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=ei(n,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!1)}render(){return Ae}};ie.finalized=!0,ie._$litElement$=!0,(Bn=globalThis.litElementHydrateSupport)===null||Bn===void 0||Bn.call(globalThis,{LitElement:ie});var ti=globalThis.litElementPolyfillSupport;ti?.({LitElement:ie});((Hn=globalThis.litElementVersions)!==null&&Hn!==void 0?Hn:globalThis.litElementVersions=[]).push("3.3.3");var Ie={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Be=r=>(...t)=>({_$litDirective$:r,values:t}),se=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,n,i){this._$Ct=t,this._$AM=n,this._$Ci=i}_$AS(t,n){return this.update(t,n)}update(t,n){return this.render(...n)}};var ft=class extends se{constructor(t){if(super(t),this.et=S,t.type!==Ie.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===S||t==null)return this.ft=void 0,this.et=t;if(t===M)return t;if(typeof t!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.et)return this.ft;this.et=t;let n=[t];return n.raw=n,this.ft={_$litType$:this.constructor.resultType,strings:n,values:[]}}};ft.directiveName="unsafeHTML",ft.resultType=1;var qt=Be(ft);function b(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(0)var s;throw new Error(typeof r=="number"?"[MobX] minified error nr: "+r+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+r)}var Ps={};function _i(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Ps}var mi=Object.assign,Wt=Object.getOwnPropertyDescriptor,q=Object.defineProperty,tn=Object.prototype,Wn=[];Object.freeze(Wn);var bi={};Object.freeze(bi);var Rs=typeof Proxy<"u",Vs=Object.toString();function gi(){Rs||b("Proxy not available")}function yi(r){var t=!1;return function(){if(!t)return t=!0,r.apply(this,arguments)}}var Fe=function(){};function L(r){return typeof r=="function"}function $e(r){var t=typeof r;switch(t){case"string":case"symbol":case"number":return!0}return!1}function nn(r){return r!==null&&typeof r=="object"}function ee(r){if(!nn(r))return!1;var t=Object.getPrototypeOf(r);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Vs}function Ei(r){var t=r?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function bt(r,t,n){q(r,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function Ai(r,t,n){q(r,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Te(r,t){var n="isMobX"+r;return t.prototype[n]=!0,function(i){return nn(i)&&i[n]===!0}}function Ge(r){return r!=null&&Object.prototype.toString.call(r)==="[object Map]"}function ks(r){var t=Object.getPrototypeOf(r),n=Object.getPrototypeOf(t),i=Object.getPrototypeOf(n);return i===null}function J(r){return r!=null&&Object.prototype.toString.call(r)==="[object Set]"}var Oi=typeof Object.getOwnPropertySymbols<"u";function Ms(r){var t=Object.keys(r);if(!Oi)return t;var n=Object.getOwnPropertySymbols(r);return n.length?[].concat(t,n.filter(function(i){return tn.propertyIsEnumerable.call(r,i)})):t}var ze=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Oi?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames;function Si(r){return r===null?null:typeof r=="object"?""+r:r}function Z(r,t){return tn.hasOwnProperty.call(r,t)}var Us=Object.getOwnPropertyDescriptors||function(t){var n={};return ze(t).forEach(function(i){n[i]=Wt(t,i)}),n};function x(r,t){return!!(r&t)}function C(r,t,n){return n?r|=t:r&=~t,r}function ni(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,i=Array(t);n<t;n++)i[n]=r[n];return i}function ri(r,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,Ls(i.key),i)}}function We(r,t,n){return t&&ri(r.prototype,t),n&&ri(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function qe(r,t){var n=typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n)return(n=n.call(r)).next.bind(n);if(Array.isArray(r)||(n=Is(r))||t&&r&&typeof r.length=="number"){n&&(r=n);var i=0;return function(){return i>=r.length?{done:!0}:{done:!1,value:r[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function we(){return we=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},we.apply(null,arguments)}function $i(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,Xn(r,t)}function Xn(r,t){return Xn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xn(r,t)}function js(r,t){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var i=n.call(r,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function Ls(r){var t=js(r,"string");return typeof t=="symbol"?t:t+""}function Is(r,t){if(r){if(typeof r=="string")return ni(r,t);var n={}.toString.call(r).slice(8,-1);return n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set"?Array.from(r):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ni(r,t):void 0}}var H=Symbol("mobx-stored-annotations");function z(r){function t(n,i){if(gt(i))return r.decorate_20223_(n,i);Xe(n,i,r)}return Object.assign(t,r)}function Xe(r,t,n){if(Z(r,H)||bt(r,H,we({},r[H])),0)var i;Bs(r,n,t),Js(n)||(r[H][t]=n)}function Bs(r,t,n){if(0)var i,s,o}function Hs(r){return Z(r,H)||bt(r,H,we({},r[H])),r[H]}function gt(r){return typeof r=="object"&&typeof r.kind=="string"}var _=Symbol("mobx administration"),ce=function(){function r(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=y.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=r.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},t.reportObserved=function(){return Ii(this)},t.reportChanged=function(){V(),Bi(this),k()},t.toString=function(){return this.name_},We(r,[{key:"isBeingObserved",get:function(){return x(this.flags_,r.isBeingObservedMask_)},set:function(i){this.flags_=C(this.flags_,r.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return x(this.flags_,r.isPendingUnobservationMask_)},set:function(i){this.flags_=C(this.flags_,r.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return x(this.flags_,r.diffValueMask_)?1:0},set:function(i){this.flags_=C(this.flags_,r.diffValueMask_,i===1)}}])}();ce.isBeingObservedMask_=1;ce.isPendingUnobservationMask_=2;ce.diffValueMask_=4;var ir=Te("Atom",ce);function wi(r,t,n){t===void 0&&(t=Fe),n===void 0&&(n=Fe);var i=new ce(r);return t!==Fe&&ta(i,t),n!==Fe&&Ki(i,n),i}function Fs(r,t){return r===t}function qs(r,t){return dr(r,t)}function zs(r,t){return dr(r,t,1)}function Ks(r,t){return Object.is?Object.is(r,t):r===t?r!==0||1/r===1/t:r!==r&&t!==t}var Xt={identity:Fs,structural:qs,default:Ks,shallow:zs};function Ne(r,t,n){return Ji(r)?r:Array.isArray(r)?w.array(r,{name:n}):ee(r)?w.object(r,void 0,{name:n}):Ge(r)?w.map(r,{name:n}):J(r)?w.set(r,{name:n}):typeof r=="function"&&!ln(r)&&!vt(r)?Ei(r)?Ke(r):pt(n,r):r}function Gs(r,t,n){if(r==null||_t(r)||un(r)||Pe(r)||Je(r))return r;if(Array.isArray(r))return w.array(r,{name:n,deep:!1});if(ee(r))return w.object(r,void 0,{name:n,deep:!1});if(Ge(r))return w.map(r,{name:n,deep:!1});if(J(r))return w.set(r,{name:n,deep:!1})}function rn(r){return r}function Ws(r,t){return dr(r,t)?t:r}var Xs="override";function Js(r){return r.annotationType_===Xs}function yt(r,t){return{annotationType_:r,options_:t,make_:Ys,extend_:Zs,decorate_20223_:Qs}}function Ys(r,t,n,i){var s;if((s=this.options_)!=null&&s.bound)return this.extend_(r,t,n,!1)===null?0:1;if(i===r.target_)return this.extend_(r,t,n,!1)===null?0:2;if(ln(n.value))return 1;var o=Ni(r,this,t,n,!1);return q(i,t,o),2}function Zs(r,t,n,i){var s=Ni(r,this,t,n);return r.defineProperty_(t,s,i)}function Qs(r,t){var n=t.kind,i=t.name,s=t.addInitializer,o=this,a=function(u){var d,f,h,v;return xe((d=(f=o.options_)==null?void 0:f.name)!=null?d:i.toString(),u,(h=(v=o.options_)==null?void 0:v.autoAction)!=null?h:!1)};if(n=="field"){s(function(){Xe(this,i,o)});return}if(n=="method"){var l;return ln(r)||(r=a(r)),(l=this.options_)!=null&&l.bound&&s(function(){var c=this,u=c[i].bind(c);u.isMobxAction=!0,c[i]=u}),r}b("Cannot apply '"+o.annotationType_+"' to '"+String(i)+"' (kind: "+n+"):"+(`
'`+o.annotationType_+"' can only be used on properties with a function value."))}function eo(r,t,n,i){var s=t.annotationType_,o=i.value}function Ni(r,t,n,i,s){var o,a,l,c,u,d,f;s===void 0&&(s=p.safeDescriptors),eo(r,t,n,i);var h=i.value;if((o=t.options_)!=null&&o.bound){var v;h=h.bind((v=r.proxy_)!=null?v:r.target_)}return{value:xe((a=(l=t.options_)==null?void 0:l.name)!=null?a:n.toString(),h,(c=(u=t.options_)==null?void 0:u.autoAction)!=null?c:!1,(d=t.options_)!=null&&d.bound?(f=r.proxy_)!=null?f:r.target_:void 0),configurable:s?r.isPlainObject_:!0,enumerable:!1,writable:!s}}function xi(r,t){return{annotationType_:r,options_:t,make_:to,extend_:no,decorate_20223_:ro}}function to(r,t,n,i){var s;if(i===r.target_)return this.extend_(r,t,n,!1)===null?0:2;if((s=this.options_)!=null&&s.bound&&(!Z(r.target_,t)||!vt(r.target_[t]))&&this.extend_(r,t,n,!1)===null)return 0;if(vt(n.value))return 1;var o=Ci(r,this,t,n,!1,!1);return q(i,t,o),2}function no(r,t,n,i){var s,o=Ci(r,this,t,n,(s=this.options_)==null?void 0:s.bound);return r.defineProperty_(t,o,i)}function ro(r,t){var n,i=t.name,s=t.addInitializer;return vt(r)||(r=Ke(r)),(n=this.options_)!=null&&n.bound&&s(function(){var o=this,a=o[i].bind(o);a.isMobXFlow=!0,o[i]=a}),r}function io(r,t,n,i){var s=t.annotationType_,o=i.value}function Ci(r,t,n,i,s,o){o===void 0&&(o=p.safeDescriptors),io(r,t,n,i);var a=i.value;if(vt(a)||(a=Ke(a)),s){var l;a=a.bind((l=r.proxy_)!=null?l:r.target_),a.isMobXFlow=!0}return{value:a,configurable:o?r.isPlainObject_:!0,enumerable:!1,writable:!o}}function sr(r,t){return{annotationType_:r,options_:t,make_:so,extend_:oo,decorate_20223_:ao}}function so(r,t,n){return this.extend_(r,t,n,!1)===null?0:1}function oo(r,t,n,i){return lo(r,this,t,n),r.defineComputedProperty_(t,we({},this.options_,{get:n.get,set:n.set}),i)}function ao(r,t){var n=this,i=t.name,s=t.addInitializer;return s(function(){var o=Re(this)[_],a=we({},n.options_,{get:r,context:this});a.name||(a.name="ObservableObject."+i.toString()),o.values_.set(i,new I(a))}),function(){return this[_].getObservablePropValue_(i)}}function lo(r,t,n,i){var s=t.annotationType_,o=i.get}function sn(r,t){return{annotationType_:r,options_:t,make_:co,extend_:uo,decorate_20223_:fo}}function co(r,t,n){return this.extend_(r,t,n,!1)===null?0:1}function uo(r,t,n,i){var s,o;return ho(r,this,t,n),r.defineObservableProperty_(t,n.value,(s=(o=this.options_)==null?void 0:o.enhancer)!=null?s:Ne,i)}function fo(r,t){var n=this,i=t.kind,s=t.name,o=new WeakSet;function a(l,c){var u,d,f=Re(l)[_],h=new Oe(c,(u=(d=n.options_)==null?void 0:d.enhancer)!=null?u:Ne,"ObservableObject."+s.toString(),!1);f.values_.set(s,h),o.add(l)}if(i=="accessor")return{get:function(){return o.has(this)||a(this,r.get.call(this)),this[_].getObservablePropValue_(s)},set:function(c){return o.has(this)||a(this,c),this[_].setObservablePropValue_(s,c)},init:function(c){return o.has(this)||a(this,c),c}}}function ho(r,t,n,i){var s=t.annotationType_}var po="true",vo=Ti();function Ti(r){return{annotationType_:po,options_:r,make_:_o,extend_:mo,decorate_20223_:bo}}function _o(r,t,n,i){var s,o;if(n.get)return on.make_(r,t,n,i);if(n.set){var a=xe(t.toString(),n.set);return i===r.target_?r.defineProperty_(t,{configurable:p.safeDescriptors?r.isPlainObject_:!0,set:a})===null?0:2:(q(i,t,{configurable:!0,set:a}),2)}if(i!==r.target_&&typeof n.value=="function"){var l;if(Ei(n.value)){var c,u=(c=this.options_)!=null&&c.autoBind?Ke.bound:Ke;return u.make_(r,t,n,i)}var d=(l=this.options_)!=null&&l.autoBind?pt.bound:pt;return d.make_(r,t,n,i)}var f=((s=this.options_)==null?void 0:s.deep)===!1?w.ref:w;if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var h;n.value=n.value.bind((h=r.proxy_)!=null?h:r.target_)}return f.make_(r,t,n,i)}function mo(r,t,n,i){var s,o;if(n.get)return on.extend_(r,t,n,i);if(n.set)return r.defineProperty_(t,{configurable:p.safeDescriptors?r.isPlainObject_:!0,set:xe(t.toString(),n.set)},i);if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var a;n.value=n.value.bind((a=r.proxy_)!=null?a:r.target_)}var l=((o=this.options_)==null?void 0:o.deep)===!1?w.ref:w;return l.extend_(r,t,n,i)}function bo(r,t){b("'"+this.annotationType_+"' cannot be used as a decorator")}var go="observable",yo="observable.ref",Eo="observable.shallow",Ao="observable.struct",Di={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Di);function zt(r){return r||Di}var Jn=sn(go),Oo=sn(yo,{enhancer:rn}),So=sn(Eo,{enhancer:Gs}),$o=sn(Ao,{enhancer:Ws}),Pi=z(Jn);function Kt(r){return r.deep===!0?Ne:r.deep===!1?rn:No(r.defaultDecorator)}function wo(r){var t;return r?(t=r.defaultDecorator)!=null?t:Ti(r):void 0}function No(r){var t,n;return r&&(t=(n=r.options_)==null?void 0:n.enhancer)!=null?t:Ne}function Ri(r,t,n){if(gt(t))return Jn.decorate_20223_(r,t);if($e(t)){Xe(r,t,Jn);return}return Ji(r)?r:ee(r)?w.object(r,t,n):Array.isArray(r)?w.array(r,t):Ge(r)?w.map(r,t):J(r)?w.set(r,t):typeof r=="object"&&r!==null?r:w.box(r,t)}mi(Ri,Pi);var xo={box:function(t,n){var i=zt(n);return new Oe(t,Kt(i),i.name,!0,i.equals)},array:function(t,n){var i=zt(n);return(p.useProxies===!1||i.proxy===!1?Ea:da)(t,Kt(i),i.name)},map:function(t,n){var i=zt(n);return new Qi(t,Kt(i),i.name)},set:function(t,n){var i=zt(n);return new es(t,Kt(i),i.name)},object:function(t,n,i){return ue(function(){return Wi(p.useProxies===!1||i?.proxy===!1?Re({},i):la({},i),t,n)})},ref:z(Oo),shallow:z(So),deep:Pi,struct:z($o)},w=mi(Ri,xo),Vi="computed",Co="computed.struct",Yn=sr(Vi),To=sr(Co,{equals:Xt.structural}),on=function(t,n){if(gt(n))return Yn.decorate_20223_(t,n);if($e(n))return Xe(t,n,Yn);if(ee(t))return z(sr(Vi,t));var i=ee(n)?n:{};return i.get=t,i.name||(i.name=t.name||""),new I(i)};Object.assign(on,Yn);on.struct=z(To);var ii,si,Jt=0,Do=1,Po=(ii=(si=Wt(function(){},"name"))==null?void 0:si.configurable)!=null?ii:!1,oi={value:"action",configurable:!0,writable:!1,enumerable:!1};function xe(r,t,n,i){n===void 0&&(n=!1);function s(){return Ro(r,n,t,i||this,arguments)}return s.isMobxAction=!0,s.toString=function(){return t.toString()},Po&&(oi.value=r,q(s,"name",oi)),s}function Ro(r,t,n,i,s){var o=Vo(r,t,i,s);try{return n.apply(i,s)}catch(a){throw o.error_=a,a}finally{ko(o)}}function Vo(r,t,n,i){var s=!1,o=0;if(0)var a;var l=p.trackingDerivation,c=!t||!l;V();var u=p.allowStateChanges;c&&(De(),u=or(!0));var d=lr(!0),f={runAsAction_:c,prevDerivation_:l,prevAllowStateChanges_:u,prevAllowStateReads_:d,notifySpy_:s,startTime_:o,actionId_:Do++,parentActionId_:Jt};return Jt=f.actionId_,f}function ko(r){Jt!==r.actionId_&&b(30),Jt=r.parentActionId_,r.error_!==void 0&&(p.suppressReactionErrors=!0),ar(r.prevAllowStateChanges_),ht(r.prevAllowStateReads_),k(),r.runAsAction_&&Q(r.prevDerivation_),p.suppressReactionErrors=!1}function or(r){var t=p.allowStateChanges;return p.allowStateChanges=r,t}function ar(r){p.allowStateChanges=r}var Oe=function(r){function t(i,s,o,a,l){var c;return o===void 0&&(o="ObservableValue"),a===void 0&&(a=!0),l===void 0&&(l=Xt.default),c=r.call(this,o)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=s,c.name_=o,c.equals=l,c.value_=s(i,void 0,o),c}$i(t,r);var n=t.prototype;return n.dehanceValue=function(s){return this.dehancer!==void 0?this.dehancer(s):s},n.set=function(s){var o=this.value_;if(s=this.prepareNewValue_(s),s!==p.UNCHANGED){var a=Se();this.setNewValue_(s)}},n.prepareNewValue_=function(s){if(F(this),P(this)){var o=R(this,{object:this,type:K,newValue:s});if(!o)return p.UNCHANGED;s=o.newValue}return s=this.enhancer(s,this.value_,this.name_),this.equals(this.value_,s)?p.UNCHANGED:s},n.setNewValue_=function(s){var o=this.value_;this.value_=s,this.reportChanged(),U(this)&&j(this,{type:K,object:this,newValue:s,oldValue:o})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(s){return Et(this,s)},n.observe_=function(s,o){return o&&s({observableKind:"value",debugObjectName:this.name_,object:this,type:K,newValue:this.value_,oldValue:void 0}),At(this,s)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Si(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(ce);var I=function(){function r(n){this.dependenciesState_=y.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=y.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Yt(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=le.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||b(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=xe("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Xt.structural:Xt.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=r.prototype;return t.onBecomeStale_=function(){Io(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},t.get=function(){if(this.isComputing&&b(32,this.name_,this.derivation),p.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)Zn(this)&&(this.warnAboutUntrackedRead_(),V(),this.value_=this.computeValue_(!1),k());else if(Ii(this),Zn(this)){var i=p.trackingContext;this.keepAlive_&&!i&&(p.trackingContext=this),this.trackAndCompute()&&Lo(this),p.trackingContext=i}var s=this.value_;if(Gt(s))throw s.cause;return s},t.set=function(i){if(this.setter_){this.isRunningSetter&&b(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else b(34,this.name_)},t.trackAndCompute=function(){var i=this.value_,s=this.dependenciesState_===y.NOT_TRACKING_,o=this.computeValue_(!0),a=s||Gt(i)||Gt(o)||!this.equals_(i,o);return a&&(this.value_=o),a},t.computeValue_=function(i){this.isComputing=!0;var s=or(!1),o;if(i)o=ki(this,this.derivation,this.scope_);else if(p.disableErrorBoundaries===!0)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(a){o=new Yt(a)}return ar(s),this.isComputing=!1,o},t.suspend_=function(){this.keepAlive_||(Qn(this),this.value_=void 0)},t.observe_=function(i,s){var o=this,a=!0,l=void 0;return Jo(function(){var c=o.get();if(!a||s){var u=De();i({observableKind:"computed",debugObjectName:o.name_,type:K,object:o,newValue:c,oldValue:l}),Q(u)}a=!1,l=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Si(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},We(r,[{key:"isComputing",get:function(){return x(this.flags_,r.isComputingMask_)},set:function(i){this.flags_=C(this.flags_,r.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return x(this.flags_,r.isRunningSetterMask_)},set:function(i){this.flags_=C(this.flags_,r.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return x(this.flags_,r.isBeingObservedMask_)},set:function(i){this.flags_=C(this.flags_,r.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return x(this.flags_,r.isPendingUnobservationMask_)},set:function(i){this.flags_=C(this.flags_,r.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return x(this.flags_,r.diffValueMask_)?1:0},set:function(i){this.flags_=C(this.flags_,r.diffValueMask_,i===1)}}])}();I.isComputingMask_=1;I.isRunningSetterMask_=2;I.isBeingObservedMask_=4;I.isPendingUnobservationMask_=8;I.diffValueMask_=16;var an=Te("ComputedValue",I),y;(function(r){r[r.NOT_TRACKING_=-1]="NOT_TRACKING_",r[r.UP_TO_DATE_=0]="UP_TO_DATE_",r[r.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",r[r.STALE_=2]="STALE_"})(y||(y={}));var le;(function(r){r[r.NONE=0]="NONE",r[r.LOG=1]="LOG",r[r.BREAK=2]="BREAK"})(le||(le={}));var Yt=function(t){this.cause=void 0,this.cause=t};function Gt(r){return r instanceof Yt}function Zn(r){switch(r.dependenciesState_){case y.UP_TO_DATE_:return!1;case y.NOT_TRACKING_:case y.STALE_:return!0;case y.POSSIBLY_STALE_:{for(var t=lr(!0),n=De(),i=r.observing_,s=i.length,o=0;o<s;o++){var a=i[o];if(an(a)){if(p.disableErrorBoundaries)a.get();else try{a.get()}catch{return Q(n),ht(t),!0}if(r.dependenciesState_===y.STALE_)return Q(n),ht(t),!0}}return Ui(r),Q(n),ht(t),!1}}}function F(r){return;var t}function ki(r,t,n){var i=lr(!0);Ui(r),r.newObserving_=new Array(r.runId_===0?100:r.observing_.length),r.unboundDepsCount_=0,r.runId_=++p.runId;var s=p.trackingDerivation;p.trackingDerivation=r,p.inBatch++;var o;if(p.disableErrorBoundaries===!0)o=t.call(n);else try{o=t.call(n)}catch(a){o=new Yt(a)}return p.inBatch--,p.trackingDerivation=s,Mo(r),ht(i),o}function Mo(r){for(var t=r.observing_,n=r.observing_=r.newObserving_,i=y.UP_TO_DATE_,s=0,o=r.unboundDepsCount_,a=0;a<o;a++){var l=n[a];l.diffValue===0&&(l.diffValue=1,s!==a&&(n[s]=l),s++),l.dependenciesState_>i&&(i=l.dependenciesState_)}for(n.length=s,r.newObserving_=null,o=t.length;o--;){var c=t[o];c.diffValue===0&&ji(c,r),c.diffValue=0}for(;s--;){var u=n[s];u.diffValue===1&&(u.diffValue=0,jo(u,r))}i!==y.UP_TO_DATE_&&(r.dependenciesState_=i,r.onBecomeStale_())}function Qn(r){var t=r.observing_;r.observing_=[];for(var n=t.length;n--;)ji(t[n],r);r.dependenciesState_=y.NOT_TRACKING_}function Mi(r){var t=De();try{return r()}finally{Q(t)}}function De(){var r=p.trackingDerivation;return p.trackingDerivation=null,r}function Q(r){p.trackingDerivation=r}function lr(r){var t=p.allowStateReads;return p.allowStateReads=r,t}function ht(r){p.allowStateReads=r}function Ui(r){if(r.dependenciesState_!==y.UP_TO_DATE_){r.dependenciesState_=y.UP_TO_DATE_;for(var t=r.observing_,n=t.length;n--;)t[n].lowestObserverState_=y.UP_TO_DATE_}}var Fn=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},qn=!0,Uo=!1,p=function(){var r=_i();return r.__mobxInstanceCount>0&&!r.__mobxGlobals&&(qn=!1),r.__mobxGlobals&&r.__mobxGlobals.version!==new Fn().version&&(qn=!1),qn?r.__mobxGlobals?(r.__mobxInstanceCount+=1,r.__mobxGlobals.UNCHANGED||(r.__mobxGlobals.UNCHANGED={}),r.__mobxGlobals):(r.__mobxInstanceCount=1,r.__mobxGlobals=new Fn):(setTimeout(function(){Uo||b(35)},1),new Fn)}();function jo(r,t){r.observers_.add(t),r.lowestObserverState_>t.dependenciesState_&&(r.lowestObserverState_=t.dependenciesState_)}function ji(r,t){r.observers_.delete(t),r.observers_.size===0&&Li(r)}function Li(r){r.isPendingUnobservation===!1&&(r.isPendingUnobservation=!0,p.pendingUnobservations.push(r))}function V(){p.inBatch++}function k(){if(--p.inBatch===0){Hi();for(var r=p.pendingUnobservations,t=0;t<r.length;t++){var n=r[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof I&&n.suspend_())}p.pendingUnobservations=[]}}function Ii(r){var t=p.trackingDerivation;return t!==null?(t.runId_!==r.lastAccessedBy_&&(r.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=r,!r.isBeingObserved&&p.trackingContext&&(r.isBeingObserved=!0,r.onBO())),r.isBeingObserved):(r.observers_.size===0&&p.inBatch>0&&Li(r),!1)}function Bi(r){r.lowestObserverState_!==y.STALE_&&(r.lowestObserverState_=y.STALE_,r.observers_.forEach(function(t){t.dependenciesState_===y.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=y.STALE_}))}function Lo(r){r.lowestObserverState_!==y.STALE_&&(r.lowestObserverState_=y.STALE_,r.observers_.forEach(function(t){t.dependenciesState_===y.POSSIBLY_STALE_?t.dependenciesState_=y.STALE_:t.dependenciesState_===y.UP_TO_DATE_&&(r.lowestObserverState_=y.UP_TO_DATE_)}))}function Io(r){r.lowestObserverState_===y.UP_TO_DATE_&&(r.lowestObserverState_=y.POSSIBLY_STALE_,r.observers_.forEach(function(t){t.dependenciesState_===y.UP_TO_DATE_&&(t.dependenciesState_=y.POSSIBLY_STALE_,t.onBecomeStale_())}))}var G=function(){function r(n,i,s,o){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=y.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=le.NONE,this.name_=n,this.onInvalidate_=i,this.errorHandler_=s,this.requiresObservable_=o}var t=r.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,p.pendingReactions.push(this),Hi())},t.runReaction_=function(){if(!this.isDisposed){V(),this.isScheduled=!1;var i=p.trackingContext;if(p.trackingContext=this,Zn(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(s){this.reportExceptionInDerivation_(s)}}p.trackingContext=i,k()}},t.track=function(i){if(!this.isDisposed){V();var s=Se(),o;this.isRunning=!0;var a=p.trackingContext;p.trackingContext=this;var l=ki(this,i,void 0);p.trackingContext=a,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Qn(this),Gt(l)&&this.reportExceptionInDerivation_(l.cause),k()}},t.reportExceptionInDerivation_=function(i){var s=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(p.disableErrorBoundaries)throw i;var o="[mobx] uncaught error in '"+this+"'";p.suppressReactionErrors||console.error(o,i),p.globalReactionErrorHandlers.forEach(function(a){return a(i,s)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(V(),Qn(this),k()))},t.getDisposer_=function(i){var s=this,o=function a(){s.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",a)};return i==null||i.addEventListener==null||i.addEventListener("abort",o),o[_]=this,o},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(i){i===void 0&&(i=!1),sa(this,i)},We(r,[{key:"isDisposed",get:function(){return x(this.flags_,r.isDisposedMask_)},set:function(i){this.flags_=C(this.flags_,r.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return x(this.flags_,r.isScheduledMask_)},set:function(i){this.flags_=C(this.flags_,r.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return x(this.flags_,r.isTrackPendingMask_)},set:function(i){this.flags_=C(this.flags_,r.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return x(this.flags_,r.isRunningMask_)},set:function(i){this.flags_=C(this.flags_,r.isRunningMask_,i)}},{key:"diffValue",get:function(){return x(this.flags_,r.diffValueMask_)?1:0},set:function(i){this.flags_=C(this.flags_,r.diffValueMask_,i===1)}}])}();G.isDisposedMask_=1;G.isScheduledMask_=2;G.isTrackPendingMask_=4;G.isRunningMask_=8;G.diffValueMask_=16;var Bo=100,Ho=function(t){return t()};function Hi(){p.inBatch>0||p.isRunningReactions||Ho(Fo)}function Fo(){p.isRunningReactions=!0;for(var r=p.pendingReactions,t=0;r.length>0;){++t===Bo&&(console.error("[mobx] cycle in reaction: "+r[0]),r.splice(0));for(var n=r.splice(0),i=0,s=n.length;i<s;i++)n[i].runReaction_()}p.isRunningReactions=!1}var Zt=Te("Reaction",G);function Se(){return!1}function qo(r){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Fi="action",zo="action.bound",qi="autoAction",Ko="autoAction.bound",Go="<unnamed action>",er=yt(Fi),Wo=yt(zo,{bound:!0}),tr=yt(qi,{autoAction:!0}),Xo=yt(Ko,{autoAction:!0,bound:!0});function zi(r){var t=function(i,s){if(L(i))return xe(i.name||Go,i,r);if(L(s))return xe(i,s,r);if(gt(s))return(r?tr:er).decorate_20223_(i,s);if($e(s))return Xe(i,s,r?tr:er);if($e(i))return z(yt(r?qi:Fi,{name:i,autoAction:r}))};return t}var oe=zi(!1);Object.assign(oe,er);var pt=zi(!0);Object.assign(pt,tr);oe.bound=z(Wo);pt.bound=z(Xo);function ln(r){return L(r)&&r.isMobxAction===!0}function Jo(r,t){var n,i,s,o;t===void 0&&(t=bi);var a=(n=(i=t)==null?void 0:i.name)!=null?n:"Autorun",l=!t.scheduler&&!t.delay,c;if(l)c=new G(a,function(){this.track(f)},t.onError,t.requiresObservable);else{var u=Zo(t),d=!1;c=new G(a,function(){d||(d=!0,u(function(){d=!1,c.isDisposed||c.track(f)}))},t.onError,t.requiresObservable)}function f(){r(c)}return(s=t)!=null&&(s=s.signal)!=null&&s.aborted||c.schedule_(),c.getDisposer_((o=t)==null?void 0:o.signal)}var Yo=function(t){return t()};function Zo(r){return r.scheduler?r.scheduler:r.delay?function(t){return setTimeout(t,r.delay)}:Yo}var Qo="onBO",ea="onBUO";function ta(r,t,n){return Gi(Qo,r,t,n)}function Ki(r,t,n){return Gi(ea,r,t,n)}function Gi(r,t,n,i){var s=typeof i=="function"?Ce(t,n):Ce(t),o=L(i)?i:n,a=r+"L";return s[a]?s[a].add(o):s[a]=new Set([o]),function(){var l=s[a];l&&(l.delete(o),l.size===0&&delete s[a])}}function Wi(r,t,n,i){var s=Us(t);return ue(function(){var o=Re(r,i)[_];ze(s).forEach(function(a){o.extend_(a,s[a],n&&a in n?n[a]:!0)})}),r}var na=0;function Xi(){this.message="FLOW_CANCELLED"}Xi.prototype=Object.create(Error.prototype);var zn=xi("flow"),ra=xi("flow.bound",{bound:!0}),Ke=Object.assign(function(t,n){if(gt(n))return zn.decorate_20223_(t,n);if($e(n))return Xe(t,n,zn);var i=t,s=i.name||"<unnamed flow>",o=function(){var l=this,c=arguments,u=++na,d=oe(s+" - runid: "+u+" - init",i).apply(l,c),f,h=void 0,v=new Promise(function(g,m){var $=0;f=m;function te(N){h=void 0;var ne;try{ne=oe(s+" - runid: "+u+" - yield "+$++,d.next).call(d,N)}catch(fe){return m(fe)}tt(ne)}function ke(N){h=void 0;var ne;try{ne=oe(s+" - runid: "+u+" - yield "+$++,d.throw).call(d,N)}catch(fe){return m(fe)}tt(ne)}function tt(N){if(L(N?.then)){N.then(tt,m);return}return N.done?g(N.value):(h=Promise.resolve(N.value),h.then(te,ke))}te(void 0)});return v.cancel=oe(s+" - runid: "+u+" - cancel",function(){try{h&&ai(h);var g=d.return(void 0),m=Promise.resolve(g.value);m.then(Fe,Fe),ai(m),f(new Xi)}catch($){f($)}}),v};return o.isMobXFlow=!0,o},zn);Ke.bound=z(ra);function ai(r){L(r.cancel)&&r.cancel()}function vt(r){return r?.isMobXFlow===!0}function ia(r,t){return r?t!==void 0?_t(r)?r[_].values_.has(t):!1:_t(r)||!!r[_]||ir(r)||Zt(r)||an(r):!1}function Ji(r){return ia(r)}function sa(){return;for(var r,t,n,i;i<t;i++)n[i]=arguments[i];var s}function oa(r){switch(r.length){case 0:return p.trackingDerivation;case 1:return Ce(r[0]);case 2:return Ce(r[0],r[1])}}function Y(r,t){t===void 0&&(t=void 0),V();try{return r.apply(t)}finally{k()}}function He(r){return r[_]}var aa={has:function(t,n){return He(t).has_(n)},get:function(t,n){return He(t).get_(n)},set:function(t,n,i){var s;return $e(n)?(s=He(t).set_(n,i,!0))!=null?s:!0:!1},deleteProperty:function(t,n){var i;return $e(n)?(i=He(t).delete_(n,!0))!=null?i:!0:!1},defineProperty:function(t,n,i){var s;return(s=He(t).defineProperty_(n,i))!=null?s:!0},ownKeys:function(t){return He(t).ownKeys_()},preventExtensions:function(t){b(13)}};function la(r,t){var n,i;return gi(),r=Re(r,t),(i=(n=r[_]).proxy_)!=null?i:n.proxy_=new Proxy(r,aa)}function P(r){return r.interceptors_!==void 0&&r.interceptors_.length>0}function Et(r,t){var n=r.interceptors_||(r.interceptors_=[]);return n.push(t),yi(function(){var i=n.indexOf(t);i!==-1&&n.splice(i,1)})}function R(r,t){var n=De();try{for(var i=[].concat(r.interceptors_||[]),s=0,o=i.length;s<o&&(t=i[s](t),t&&!t.type&&b(14),!!t);s++);return t}finally{Q(n)}}function U(r){return r.changeListeners_!==void 0&&r.changeListeners_.length>0}function At(r,t){var n=r.changeListeners_||(r.changeListeners_=[]);return n.push(t),yi(function(){var i=n.indexOf(t);i!==-1&&n.splice(i,1)})}function j(r,t){var n=De(),i=r.changeListeners_;if(i){i=i.slice();for(var s=0,o=i.length;s<o;s++)i[s](t);Q(n)}}function Yi(r,t,n){return ue(function(){var i,s=Re(r,n)[_];(i=t)!=null||(t=Hs(r)),ze(t).forEach(function(o){return s.make_(o,t[o])})}),r}var Kn=Symbol("mobx-keys");function cn(r,t,n){return ee(r)?Wi(r,r,t,n):(ue(function(){var i=Re(r,n)[_];if(!r[Kn]){var s=Object.getPrototypeOf(r),o=new Set([].concat(ze(r),ze(s)));o.delete("constructor"),o.delete(_),bt(s,Kn,o)}r[Kn].forEach(function(a){return i.make_(a,t&&a in t?t[a]:!0)})}),r)}var li="splice",K="update",ca=1e4,ua={get:function(t,n){var i=t[_];return n===_?i:n==="length"?i.getArrayLength_():typeof n=="string"&&!isNaN(n)?i.get_(parseInt(n)):Z(Qt,n)?Qt[n]:t[n]},set:function(t,n,i){var s=t[_];return n==="length"&&s.setArrayLength_(i),typeof n=="symbol"||isNaN(n)?t[n]=i:s.set_(parseInt(n),i),!0},preventExtensions:function(){b(15)}},cr=function(){function r(n,i,s,o){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=s,this.legacyMode_=o,this.atom_=new ce(n),this.enhancer_=function(a,l){return i(a,l,"ObservableArray[..]")}}var t=r.prototype;return t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},t.intercept_=function(i){return Et(this,i)},t.observe_=function(i,s){return s===void 0&&(s=!1),s&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),At(this,i)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&b("Out of range: "+i);var s=this.values_.length;if(i!==s)if(i>s){for(var o=new Array(i-s),a=0;a<i-s;a++)o[a]=void 0;this.spliceWithArray_(s,0,o)}else this.spliceWithArray_(i,s-i)},t.updateArrayLength_=function(i,s){i!==this.lastKnownLength_&&b(16),this.lastKnownLength_+=s,this.legacyMode_&&s>0&&is(i+s+1)},t.spliceWithArray_=function(i,s,o){var a=this;F(this.atom_);var l=this.values_.length;if(i===void 0?i=0:i>l?i=l:i<0&&(i=Math.max(0,l+i)),arguments.length===1?s=l-i:s==null?s=0:s=Math.max(0,Math.min(s,l-i)),o===void 0&&(o=Wn),P(this)){var c=R(this,{object:this.proxy_,type:li,index:i,removedCount:s,added:o});if(!c)return Wn;s=c.removedCount,o=c.added}if(o=o.length===0?o:o.map(function(f){return a.enhancer_(f,void 0)}),this.legacyMode_){var u=o.length-s;this.updateArrayLength_(l,u)}var d=this.spliceItemsIntoValues_(i,s,o);return(s!==0||o.length!==0)&&this.notifyArraySplice_(i,o,d),this.dehanceValues_(d)},t.spliceItemsIntoValues_=function(i,s,o){if(o.length<ca){var a;return(a=this.values_).splice.apply(a,[i,s].concat(o))}else{var l=this.values_.slice(i,i+s),c=this.values_.slice(i+s);this.values_.length+=o.length-s;for(var u=0;u<o.length;u++)this.values_[i+u]=o[u];for(var d=0;d<c.length;d++)this.values_[i+o.length+d]=c[d];return l}},t.notifyArrayChildUpdate_=function(i,s,o){var a=!this.owned_&&Se(),l=U(this),c=l||a?{observableKind:"array",object:this.proxy_,type:K,debugObjectName:this.atom_.name_,index:i,newValue:s,oldValue:o}:null;this.atom_.reportChanged(),l&&j(this,c)},t.notifyArraySplice_=function(i,s,o){var a=!this.owned_&&Se(),l=U(this),c=l||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:li,index:i,removed:o,added:s,removedCount:o.length,addedCount:s.length}:null;this.atom_.reportChanged(),l&&j(this,c)},t.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn("[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},t.set_=function(i,s){var o=this.values_;if(this.legacyMode_&&i>o.length&&b(17,i,o.length),i<o.length){F(this.atom_);var a=o[i];if(P(this)){var l=R(this,{type:K,object:this.proxy_,index:i,newValue:s});if(!l)return;s=l.newValue}s=this.enhancer_(s,a);var c=s!==a;c&&(o[i]=s,this.notifyArrayChildUpdate_(i,s,a))}else{for(var u=new Array(i+1-o.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=s,this.spliceWithArray_(o.length,0,u)}},r}();function da(r,t,n,i){return n===void 0&&(n="ObservableArray"),i===void 0&&(i=!1),gi(),ue(function(){var s=new cr(n,t,i,!1);Ai(s.values_,_,s);var o=new Proxy(s.values_,ua);return s.proxy_=o,r&&r.length&&s.spliceWithArray_(0,0,r),o})}var Qt={clear:function(){return this.splice(0)},replace:function(t){var n=this[_];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];var a=this[_];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,s)},spliceWithArray:function(t,n,i){return this[_].spliceWithArray_(t,n,i)},push:function(){for(var t=this[_],n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t.spliceWithArray_(t.values_.length,0,i),t.values_.length},pop:function(){return this.splice(Math.max(this[_].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[_],n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t.spliceWithArray_(0,0,i),t.values_.length},reverse:function(){return p.trackingDerivation&&b(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){p.trackingDerivation&&b(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[_],i=n.dehanceValues_(n.values_).indexOf(t);return i>-1?(this.splice(i,1),!0):!1}};O("at",T);O("concat",T);O("flat",T);O("includes",T);O("indexOf",T);O("join",T);O("lastIndexOf",T);O("slice",T);O("toString",T);O("toLocaleString",T);O("toSorted",T);O("toSpliced",T);O("with",T);O("every",B);O("filter",B);O("find",B);O("findIndex",B);O("findLast",B);O("findLastIndex",B);O("flatMap",B);O("forEach",B);O("map",B);O("some",B);O("toReversed",B);O("reduce",Zi);O("reduceRight",Zi);function O(r,t){typeof Array.prototype[r]=="function"&&(Qt[r]=t(r))}function T(r){return function(){var t=this[_];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[r].apply(n,arguments)}}function B(r){return function(t,n){var i=this,s=this[_];s.atom_.reportObserved();var o=s.dehanceValues_(s.values_);return o[r](function(a,l){return t.call(n,a,l,i)})}}function Zi(r){return function(){var t=this,n=this[_];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),s=arguments[0];return arguments[0]=function(o,a,l){return s(o,a,l,t)},i[r].apply(i,arguments)}}var fa=Te("ObservableArrayAdministration",cr);function un(r){return nn(r)&&fa(r[_])}var ha={},ae="add",en="delete",Qi=function(){function r(n,i,s){var o=this;i===void 0&&(i=Ne),s===void 0&&(s="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[_]=ha,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=s,L(Map)||b(18),ue(function(){o.keysAtom_=wi("ObservableMap.keys()"),o.data_=new Map,o.hasMap_=new Map,n&&o.merge(n)})}var t=r.prototype;return t.has_=function(i){return this.data_.has(i)},t.has=function(i){var s=this;if(!p.trackingDerivation)return this.has_(i);var o=this.hasMap_.get(i);if(!o){var a=o=new Oe(this.has_(i),rn,"ObservableMap.key?",!1);this.hasMap_.set(i,a),Ki(a,function(){return s.hasMap_.delete(i)})}return o.get()},t.set=function(i,s){var o=this.has_(i);if(P(this)){var a=R(this,{type:o?K:ae,object:this,newValue:s,name:i});if(!a)return this;s=a.newValue}return o?this.updateValue_(i,s):this.addValue_(i,s),this},t.delete=function(i){var s=this;if(F(this.keysAtom_),P(this)){var o=R(this,{type:en,object:this,name:i});if(!o)return!1}if(this.has_(i)){var a=Se(),l=U(this),c=l||a?{observableKind:"map",debugObjectName:this.name_,type:en,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return Y(function(){var u;s.keysAtom_.reportChanged(),(u=s.hasMap_.get(i))==null||u.setNewValue_(!1);var d=s.data_.get(i);d.setNewValue_(void 0),s.data_.delete(i)}),l&&j(this,c),!0}return!1},t.updateValue_=function(i,s){var o=this.data_.get(i);if(s=o.prepareNewValue_(s),s!==p.UNCHANGED){var a=Se(),l=U(this),c=l||a?{observableKind:"map",debugObjectName:this.name_,type:K,object:this,oldValue:o.value_,name:i,newValue:s}:null;o.setNewValue_(s),l&&j(this,c)}},t.addValue_=function(i,s){var o=this;F(this.keysAtom_),Y(function(){var u,d=new Oe(s,o.enhancer_,"ObservableMap.key",!1);o.data_.set(i,d),s=d.value_,(u=o.hasMap_.get(i))==null||u.setNewValue_(!0),o.keysAtom_.reportChanged()});var a=Se(),l=U(this),c=l||a?{observableKind:"map",debugObjectName:this.name_,type:ae,object:this,name:i,newValue:s}:null;l&&j(this,c)},t.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var i=this,s=this.keys();return mt({next:function(){var a=s.next(),l=a.done,c=a.value;return{done:l,value:l?void 0:i.get(c)}}})},t.entries=function(){var i=this,s=this.keys();return mt({next:function(){var a=s.next(),l=a.done,c=a.value;return{done:l,value:l?void 0:[c,i.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(i,s){for(var o=qe(this),a;!(a=o()).done;){var l=a.value,c=l[0],u=l[1];i.call(s,u,c,this)}},t.merge=function(i){var s=this;return Pe(i)&&(i=new Map(i)),Y(function(){ee(i)?Ms(i).forEach(function(o){return s.set(o,i[o])}):Array.isArray(i)?i.forEach(function(o){var a=o[0],l=o[1];return s.set(a,l)}):Ge(i)?(ks(i)||b(19,i),i.forEach(function(o,a){return s.set(a,o)})):i!=null&&b(20,i)}),this},t.clear=function(){var i=this;Y(function(){Mi(function(){for(var s=qe(i.keys()),o;!(o=s()).done;){var a=o.value;i.delete(a)}})})},t.replace=function(i){var s=this;return Y(function(){for(var o=pa(i),a=new Map,l=!1,c=qe(s.data_.keys()),u;!(u=c()).done;){var d=u.value;if(!o.has(d)){var f=s.delete(d);if(f)l=!0;else{var h=s.data_.get(d);a.set(d,h)}}}for(var v=qe(o.entries()),g;!(g=v()).done;){var m=g.value,$=m[0],te=m[1],ke=s.data_.has($);if(s.set($,te),s.data_.has($)){var tt=s.data_.get($);a.set($,tt),ke||(l=!0)}}if(!l)if(s.data_.size!==a.size)s.keysAtom_.reportChanged();else for(var N=s.data_.keys(),ne=a.keys(),fe=N.next(),hr=ne.next();!fe.done;){if(fe.value!==hr.value){s.keysAtom_.reportChanged();break}fe=N.next(),hr=ne.next()}s.data_=a}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(i,s){return At(this,i)},t.intercept_=function(i){return Et(this,i)},We(r,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Pe=Te("ObservableMap",Qi);function pa(r){if(Ge(r)||Pe(r))return r;if(Array.isArray(r))return new Map(r);if(ee(r)){var t=new Map;for(var n in r)t.set(n,r[n]);return t}else return b(21,r)}var va={},es=function(){function r(n,i,s){var o=this;i===void 0&&(i=Ne),s===void 0&&(s="ObservableSet"),this.name_=void 0,this[_]=va,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=s,L(Set)||b(22),this.enhancer_=function(a,l){return i(a,l,s)},ue(function(){o.atom_=wi(o.name_),n&&o.replace(n)})}var t=r.prototype;return t.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},t.clear=function(){var i=this;Y(function(){Mi(function(){for(var s=qe(i.data_.values()),o;!(o=s()).done;){var a=o.value;i.delete(a)}})})},t.forEach=function(i,s){for(var o=qe(this),a;!(a=o()).done;){var l=a.value;i.call(s,l,l,this)}},t.add=function(i){var s=this;if(F(this.atom_),P(this)){var o=R(this,{type:ae,object:this,newValue:i});if(!o)return this}if(!this.has(i)){Y(function(){s.data_.add(s.enhancer_(i,void 0)),s.atom_.reportChanged()});var a=!1,l=U(this),c=l||a?{observableKind:"set",debugObjectName:this.name_,type:ae,object:this,newValue:i}:null;l&&j(this,c)}return this},t.delete=function(i){var s=this;if(P(this)){var o=R(this,{type:en,object:this,oldValue:i});if(!o)return!1}if(this.has(i)){var a=!1,l=U(this),c=l||a?{observableKind:"set",debugObjectName:this.name_,type:en,object:this,oldValue:i}:null;return Y(function(){s.atom_.reportChanged(),s.data_.delete(i)}),l&&j(this,c),!0}return!1},t.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},t.entries=function(){var i=0,s=Array.from(this.keys()),o=Array.from(this.values());return mt({next:function(){var l=i;return i+=1,l<o.length?{value:[s[l],o[l]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var i=this,s=0,o=Array.from(this.data_.values());return mt({next:function(){return s<o.length?{value:i.dehanceValue_(o[s++]),done:!1}:{done:!0}}})},t.intersection=function(i){if(J(i))return i.intersection(this);var s=new Set(this);return s.intersection(i)},t.union=function(i){if(J(i))return i.union(this);var s=new Set(this);return s.union(i)},t.difference=function(i){return new Set(this).difference(i)},t.symmetricDifference=function(i){if(J(i))return i.symmetricDifference(this);var s=new Set(this);return s.symmetricDifference(i)},t.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},t.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},t.isDisjointFrom=function(i){if(J(i))return i.isDisjointFrom(this);var s=new Set(this);return s.isDisjointFrom(i)},t.replace=function(i){var s=this;return Je(i)&&(i=new Set(i)),Y(function(){Array.isArray(i)?(s.clear(),i.forEach(function(o){return s.add(o)})):J(i)?(s.clear(),i.forEach(function(o){return s.add(o)})):i!=null&&b("Cannot initialize set from "+i)}),this},t.observe_=function(i,s){return At(this,i)},t.intercept_=function(i){return Et(this,i)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},We(r,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Je=Te("ObservableSet",es),ci=Object.create(null),ui="remove",ts=function(){function r(n,i,s,o){i===void 0&&(i=new Map),o===void 0&&(o=vo),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=i,this.name_=s,this.defaultAnnotation_=o,this.keysAtom_=new ce("ObservableObject.keys"),this.isPlainObject_=ee(this.target_)}var t=r.prototype;return t.getObservablePropValue_=function(i){return this.values_.get(i).get()},t.setObservablePropValue_=function(i,s){var o=this.values_.get(i);if(o instanceof I)return o.set(s),!0;if(P(this)){var a=R(this,{type:K,object:this.proxy_||this.target_,name:i,newValue:s});if(!a)return null;s=a.newValue}if(s=o.prepareNewValue_(s),s!==p.UNCHANGED){var l=U(this),c=!1,u=l||c?{type:K,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:i,newValue:s}:null;o.setNewValue_(s),l&&j(this,u)}return!0},t.get_=function(i){return p.trackingDerivation&&!Z(this.target_,i)&&this.has_(i),this.target_[i]},t.set_=function(i,s,o){return o===void 0&&(o=!1),Z(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,s):o?Reflect.set(this.target_,i,s):(this.target_[i]=s,!0):this.extend_(i,{value:s,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},t.has_=function(i){if(!p.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var s=this.pendingKeys_.get(i);return s||(s=new Oe(i in this.target_,rn,"ObservableObject.key?",!1),this.pendingKeys_.set(i,s)),s.get()},t.make_=function(i,s){if(s===!0&&(s=this.defaultAnnotation_),s!==!1){if(hi(this,s,i),!(i in this.target_)){var o;if((o=this.target_[H])!=null&&o[i])return;b(1,s.annotationType_,this.name_+"."+i.toString())}for(var a=this.target_;a&&a!==tn;){var l=Wt(a,i);if(l){var c=s.make_(this,i,l,a);if(c===0)return;if(c===1)break}a=Object.getPrototypeOf(a)}fi(this,s,i)}},t.extend_=function(i,s,o,a){if(a===void 0&&(a=!1),o===!0&&(o=this.defaultAnnotation_),o===!1)return this.defineProperty_(i,s,a);hi(this,o,i);var l=o.extend_(this,i,s,a);return l&&fi(this,o,i),l},t.defineProperty_=function(i,s,o){o===void 0&&(o=!1),F(this.keysAtom_);try{V();var a=this.delete_(i);if(!a)return a;if(P(this)){var l=R(this,{object:this.proxy_||this.target_,name:i,type:ae,newValue:s.value});if(!l)return null;var c=l.newValue;s.value!==c&&(s=we({},s,{value:c}))}if(o){if(!Reflect.defineProperty(this.target_,i,s))return!1}else q(this.target_,i,s);this.notifyPropertyAddition_(i,s.value)}finally{k()}return!0},t.defineObservableProperty_=function(i,s,o,a){a===void 0&&(a=!1),F(this.keysAtom_);try{V();var l=this.delete_(i);if(!l)return l;if(P(this)){var c=R(this,{object:this.proxy_||this.target_,name:i,type:ae,newValue:s});if(!c)return null;s=c.newValue}var u=di(i),d={configurable:p.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(a){if(!Reflect.defineProperty(this.target_,i,d))return!1}else q(this.target_,i,d);var f=new Oe(s,o,"ObservableObject.key",!1);this.values_.set(i,f),this.notifyPropertyAddition_(i,f.value_)}finally{k()}return!0},t.defineComputedProperty_=function(i,s,o){o===void 0&&(o=!1),F(this.keysAtom_);try{V();var a=this.delete_(i);if(!a)return a;if(P(this)){var l=R(this,{object:this.proxy_||this.target_,name:i,type:ae,newValue:void 0});if(!l)return null}s.name||(s.name="ObservableObject.key"),s.context=this.proxy_||this.target_;var c=di(i),u={configurable:p.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(o){if(!Reflect.defineProperty(this.target_,i,u))return!1}else q(this.target_,i,u);this.values_.set(i,new I(s)),this.notifyPropertyAddition_(i,void 0)}finally{k()}return!0},t.delete_=function(i,s){if(s===void 0&&(s=!1),F(this.keysAtom_),!Z(this.target_,i))return!0;if(P(this)){var o=R(this,{object:this.proxy_||this.target_,name:i,type:ui});if(!o)return null}try{var a;V();var l=U(this),c=!1,u=this.values_.get(i),d=void 0;if(!u&&(l||c)){var f;d=(f=Wt(this.target_,i))==null?void 0:f.value}if(s){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(u&&(this.values_.delete(i),u instanceof Oe&&(d=u.value_),Bi(u)),this.keysAtom_.reportChanged(),(a=this.pendingKeys_)==null||(a=a.get(i))==null||a.set(i in this.target_),l||c){var h={type:ui,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:i};l&&j(this,h)}}finally{k()}return!0},t.observe_=function(i,s){return At(this,i)},t.intercept_=function(i){return Et(this,i)},t.notifyPropertyAddition_=function(i,s){var o,a=U(this),l=!1;if(a||l){var c=a||l?{type:ae,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:s}:null;a&&j(this,c)}(o=this.pendingKeys_)==null||(o=o.get(i))==null||o.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),ze(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},r}();function Re(r,t){var n;if(Z(r,_))return r;var i=(n=t?.name)!=null?n:"ObservableObject",s=new ts(r,new Map,String(i),wo(t));return bt(r,_,s),r}var _a=Te("ObservableObjectAdministration",ts);function di(r){return ci[r]||(ci[r]={get:function(){return this[_].getObservablePropValue_(r)},set:function(n){return this[_].setObservablePropValue_(r,n)}})}function _t(r){return nn(r)?_a(r[_]):!1}function fi(r,t,n){var i;(i=r.target_[H])==null||delete i[n]}function hi(r,t,n){if(0)var i,s,o}var ma=rs(0),ba=function(){var r=!1,t={};return Object.defineProperty(t,"0",{set:function(){r=!0}}),Object.create(t)[0]=1,r===!1}(),Gn=0,ns=function(){};function ga(r,t){Object.setPrototypeOf?Object.setPrototypeOf(r.prototype,t):r.prototype.__proto__!==void 0?r.prototype.__proto__=t:r.prototype=t}ga(ns,Array.prototype);var ur=function(r){function t(i,s,o,a){var l;return o===void 0&&(o="ObservableArray"),a===void 0&&(a=!1),l=r.call(this)||this,ue(function(){var c=new cr(o,s,a,!0);c.proxy_=l,Ai(l,_,c),i&&i.length&&l.spliceWithArray(0,0,i),ba&&Object.defineProperty(l,"0",ma)}),l}$i(t,r);var n=t.prototype;return n.concat=function(){this[_].atom_.reportObserved();for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return Array.prototype.concat.apply(this.slice(),o.map(function(l){return un(l)?l.slice():l}))},n[Symbol.iterator]=function(){var i=this,s=0;return mt({next:function(){return s<i.length?{value:i[s++],done:!1}:{done:!0,value:void 0}}})},We(t,[{key:"length",get:function(){return this[_].getArrayLength_()},set:function(s){this[_].setArrayLength_(s)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(ns);Object.entries(Qt).forEach(function(r){var t=r[0],n=r[1];t!=="concat"&&bt(ur.prototype,t,n)});function rs(r){return{enumerable:!1,configurable:!0,get:function(){return this[_].get_(r)},set:function(n){this[_].set_(r,n)}}}function ya(r){q(ur.prototype,""+r,rs(r))}function is(r){if(r>Gn){for(var t=Gn;t<r+100;t++)ya(t);Gn=r}}is(1e3);function Ea(r,t,n){return new ur(r,t,n)}function Ce(r,t){if(typeof r=="object"&&r!==null){if(un(r))return t!==void 0&&b(23),r[_].atom_;if(Je(r))return r.atom_;if(Pe(r)){if(t===void 0)return r.keysAtom_;var n=r.data_.get(t)||r.hasMap_.get(t);return n||b(25,t,nr(r)),n}if(_t(r)){if(!t)return b(26);var i=r[_].values_.get(t);return i||b(27,t,nr(r)),i}if(ir(r)||an(r)||Zt(r))return r}else if(L(r)&&Zt(r[_]))return r[_];b(28)}function ss(r,t){if(r||b(29),t!==void 0)return ss(Ce(r,t));if(ir(r)||an(r)||Zt(r)||Pe(r)||Je(r))return r;if(r[_])return r[_];b(24,r)}function nr(r,t){var n;if(t!==void 0)n=Ce(r,t);else{if(ln(r))return r.name;_t(r)||Pe(r)||Je(r)?n=ss(r):n=Ce(r)}return n.name_}function ue(r){var t=De(),n=or(!0);V();try{return r()}finally{k(),ar(n),Q(t)}}var pi=tn.toString;function dr(r,t,n){return n===void 0&&(n=-1),rr(r,t,n)}function rr(r,t,n,i,s){if(r===t)return r!==0||1/r===1/t;if(r==null||t==null)return!1;if(r!==r)return t!==t;var o=typeof r;if(o!=="function"&&o!=="object"&&typeof t!="object")return!1;var a=pi.call(r);if(a!==pi.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+r==""+t;case"[object Number]":return+r!=+r?+t!=+t:+r==0?1/+r===1/t:+r==+t;case"[object Date]":case"[object Boolean]":return+r==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(r)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}r=vi(r),t=vi(t);var l=a==="[object Array]";if(!l){if(typeof r!="object"||typeof t!="object")return!1;var c=r.constructor,u=t.constructor;if(c!==u&&!(L(c)&&c instanceof c&&L(u)&&u instanceof u)&&"constructor"in r&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),i=i||[],s=s||[];for(var d=i.length;d--;)if(i[d]===r)return s[d]===t;if(i.push(r),s.push(t),l){if(d=r.length,d!==t.length)return!1;for(;d--;)if(!rr(r[d],t[d],n-1,i,s))return!1}else{var f=Object.keys(r),h;if(d=f.length,Object.keys(t).length!==d)return!1;for(;d--;)if(h=f[d],!(Z(t,h)&&rr(r[h],t[h],n-1,i,s)))return!1}return i.pop(),s.pop(),!0}function vi(r){return un(r)?r.slice():Ge(r)||Pe(r)||J(r)||Je(r)?Array.from(r.entries()):r}function mt(r){return r[Symbol.iterator]=Aa,r}function Aa(){return this}["Symbol","Map","Set"].forEach(function(r){var t=_i();typeof t[r]>"u"&&b("MobX requires global '"+r+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:qo,extras:{getDebugName:nr},$mobx:_});var Ye=class{constructor(t){E(this,"path","");E(this,"type","");E(this,"model",{id:"",path:""});E(this,"hasChanges",!1);E(this,"isSelected",!1);E(this,"fields",[]);Yi(this,{hasChanges:w,updateField:oe,isSelected:w}),Object.assign(this,t)}updateField(t,n){this.fields.filter(i=>i.name===t).forEach(i=>{i.values!==n&&(i.values=n,this.hasChanges=!0)})}select(){this.isSelected=!0}unselect(){this.isSelected=!1}get variant(){return this.fields.find(t=>t.name==="variant")?.values?.[0]}get fragmentName(){return this.path.split("/").pop()}};var dn=class{constructor(){E(this,"query");E(this,"path");E(this,"locale");E(this,"variant");E(this,"modelId");E(this,"published");E(this,"result",[]);cn(this)}setResult(t){this.result=t}addToResult(t,n){let i=this.result.indexOf(n);this.result.splice(i+1,0,t)}update(t){Object.assign(this,t)}};var Oa=window.adobeid?.authorize?.(),Ze={Authorization:`Bearer ${Oa}`,pragma:"no-cache","cache-control":"no-cache"};async function Sa({path:r,query:t,variant:n}){let i={};r&&(i.path=r),t&&(i.fullText={text:encodeURIComponent(t),queryMode:"EXACT_WORDS"});let s=new URLSearchParams({query:JSON.stringify({filter:i})}).toString();return fetch(`${this.cfSearchUrl}?${s}`,{headers:Ze}).then(o=>o.json()).then(o=>o.items).then(o=>n?o.filter(a=>{let[l]=a.fields.find(c=>c.name==="variant")?.values;return l===n}):o)}async function $a(r){return fetch(`${this.cfFragmentsUrl}?path=${r}`,{headers:Ze}).then(t=>t.json()).then(({items:[t]})=>t)}var os=async r=>{let t=r.headers.get("Etag"),n=await r.json();return n.etag=t,n};async function as(r){return await fetch(`${this.cfFragmentsUrl}/${r}`,{headers:Ze}).then(os)}async function wa(r){let{title:t,fields:n}=r;return await fetch(`${this.cfFragmentsUrl}/${r.id}`,{method:"PUT",headers:{"Content-Type":"application/json","If-Match":r.etag,...Ze},body:JSON.stringify({title:t,fields:n})}).then(os)}async function Na(r){let t=await this.getCsrfToken(),n=r.path.split("/").pop(),i=r.path.split("/").slice(0,-1).join("/");if(/copy\s?\d?/.test(r.title)){let o=r.name.match(/copy\s?(\d)?/)[1]||1;n=r.name.replace(/copy\s?\d?/,`copy ${++o}`)}else n=`${n}-copy-1`;let s=new FormData;return s.append("cmd","copyPage"),s.append("srcPath",r.path),s.append("destParentPath",i),s.append("shallow","false"),s.append("_charset_","UTF-8"),s.append("destName",n),s.append("destTitle",r.title),await fetch(this.wcmcommandUrl,{method:"POST",headers:{...Ze,"csrf-token":t},body:s}).then(o=>{if(o.ok)return as(r.path)})}var fn=class{constructor(t){E(this,"sites",{cf:{fragments:{search:Sa.bind(this),getCfByPath:$a.bind(this),getCfById:as.bind(this),save:wa.bind(this),copyFragment:Na.bind(this)}}});let n=`https://${t}.adobeaemcloud.com`,i=`${n}/adobe/sites`;this.cfFragmentsUrl=`${i}/cf/fragments`,this.cfSearchUrl=`${this.cfFragmentsUrl}/search`,this.wcmcommandUrl=`${n}/bin/wcmcommand`,this.csrfTokenUrl=`${n}/libs/granite/csrf/token.json`}async getCsrfToken(){let{token:t}=await fetch(this.csrfTokenUrl,{headers:Ze}).then(n=>n.json());return t}};var hn,pn=class{constructor(t){E(this,"search",new dn);E(this,"aem");E(this,"fragment");E(this,"loading",!1);if(!t)throw new Error("bucket is required");cn(this,{aem:!1}),this.aem=new fn(t),hn=document.createElement("merch-datasource").cache}async doSearch(t){this.search.update(t);let n=await this.aem.sites.cf.fragments.search(this.search).then(i=>i?.map(s=>new Ye(s))??[]);hn?.add(...n),this.search.setResult(n)}setFragment(t){this.fragment?.unselect(),t?.select(),this.fragment=t}async selectFragment(t){if(!t){this.setFragment(null);return}this.loading=!0;let n;t.id&&(n=await this.aem.sites.cf.fragments.getCfById(t.id)),n&&(Object.assign(t,n),this.setFragment(t),this.loading=!1)}async saveFragment(){let t=await this.aem.sites.cf.fragments.save(this.fragment);if(!t)throw new Error("Failed to save fragment");t=new Ye(t),hn?.add(t),this.setFragment(t)}async copyFragment(){let t=await this.aem.sites.cf.fragments.copyFragment(this.fragment);hn?.add(t);let n=new Ye(t);this.search.addToResult(n,this.fragment),this.setFragment(n)}};var ls="submit";var{I:xa}=kr;var cs=()=>document.createComment(""),Qe=(r,t,n)=>{var i;let s=r._$AA.parentNode,o=t===void 0?r._$AB:t._$AA;if(n===void 0){let a=s.insertBefore(cs(),o),l=s.insertBefore(cs(),o);n=new xa(a,l,r,r.options)}else{let a=n._$AB.nextSibling,l=n._$AM,c=l!==r;if(c){let u;(i=n._$AQ)===null||i===void 0||i.call(n,r),n._$AM=r,n._$AP!==void 0&&(u=r._$AU)!==l._$AU&&n._$AP(u)}if(a!==o||c){let u=n._$AA;for(;u!==a;){let d=u.nextSibling;s.insertBefore(u,o),u=d}}}return n},de=(r,t,n=r)=>(r._$AI(t,n),r),Ca={},us=(r,t=Ca)=>r._$AH=t,ds=r=>r._$AH,vn=r=>{var t;(t=r._$AP)===null||t===void 0||t.call(r,!1,!0);let n=r._$AA,i=r._$AB.nextSibling;for(;n!==i;){let s=n.nextSibling;n.remove(),n=s}};var fs=(r,t,n)=>{let i=new Map;for(let s=t;s<=n;s++)i.set(r[s],s);return i},hs=Be(class extends se{constructor(r){if(super(r),r.type!==Ie.CHILD)throw Error("repeat() can only be used in text expressions")}ct(r,t,n){let i;n===void 0?n=t:t!==void 0&&(i=t);let s=[],o=[],a=0;for(let l of r)s[a]=i?i(l,a):a,o[a]=n(l,a),a++;return{values:o,keys:s}}render(r,t,n){return this.ct(r,t,n).values}update(r,[t,n,i]){var s;let o=ds(r),{values:a,keys:l}=this.ct(t,n,i);if(!Array.isArray(o))return this.ut=l,a;let c=(s=this.ut)!==null&&s!==void 0?s:this.ut=[],u=[],d,f,h=0,v=o.length-1,g=0,m=a.length-1;for(;h<=v&&g<=m;)if(o[h]===null)h++;else if(o[v]===null)v--;else if(c[h]===l[g])u[g]=de(o[h],a[g]),h++,g++;else if(c[v]===l[m])u[m]=de(o[v],a[m]),v--,m--;else if(c[h]===l[m])u[m]=de(o[h],a[m]),Qe(r,u[m+1],o[h]),h++,m--;else if(c[v]===l[g])u[g]=de(o[v],a[g]),Qe(r,o[h],o[v]),v--,g++;else if(d===void 0&&(d=fs(l,g,m),f=fs(c,h,v)),d.has(c[h]))if(d.has(c[v])){let $=f.get(l[g]),te=$!==void 0?o[$]:null;if(te===null){let ke=Qe(r,o[h]);de(ke,a[g]),u[g]=ke}else u[g]=de(te,a[g]),Qe(r,o[h],te),o[$]=null;g++}else vn(o[v]),v--;else vn(o[h]),h++;for(;g<=m;){let $=Qe(r,u[m+1]);de($,a[g]),u[g++]=$}for(;h<=v;){let $=o[h++];$!==null&&vn($)}return this.ut=l,us(r,u),M}});var et=Symbol("LitMobxRenderReaction"),ps=Symbol("LitMobxRequestUpdate");function vs(r,t){var n,i;return i=class extends r{constructor(){super(...arguments),this[n]=()=>{this.requestUpdate()}}connectedCallback(){super.connectedCallback();let o=this.constructor.name||this.nodeName;this[et]=new t(`${o}.update()`,this[ps]),this.hasUpdated&&this.requestUpdate()}disconnectedCallback(){super.disconnectedCallback(),this[et]&&(this[et].dispose(),this[et]=void 0)}update(o){this[et]?this[et].track(super.update.bind(this,o)):super.update(o)}},n=ps,i}var _s="hashchange";function Ta(r=window.location.hash){let t=[],n=r.replace(/^#/,"").split("&");for(let i of n){let[s,o=""]=i.split("=");s&&t.push([s,decodeURIComponent(o.replace(/\+/g," "))])}return Object.fromEntries(t)}function ms(r){let t=new URLSearchParams(window.location.hash.slice(1));Object.entries(r).forEach(([s,o])=>{o?t.set(s,o):t.delete(s)}),t.sort();let n=t.toString();if(n===window.location.hash)return;let i=window.scrollY||document.documentElement.scrollTop;window.location.hash=n,window.scrollTo(0,i)}function bs(r){let t=()=>{if(window.location.hash&&!window.location.hash.includes("="))return;let n=Ta(window.location.hash);r(n)};return t(),window.addEventListener(_s,t),()=>{window.removeEventListener(_s,t)}}var fr=class extends HTMLElement{constructor(){super(...arguments);E(this,"editor",null)}connectedCallback(){this.addEventListener("editor-action-click",this.handleEditorActionClick),window.tinymce.init({target:this,toolbar:"bold italic underline | link openlink unlink | ost",plugins:"link",license_key:"gpl",promotion:!1,extended_valid_elements:"a[is|href|class],span[is|class]",content_style:".price-strikethrough { text-decoration: line-through;}",setup:n=>{this.editor=n,n.on("focus",()=>{let i=new CustomEvent("focus",{bubbles:!0,composed:!0,detail:{rte:this}});this.dispatchEvent(i)}),n.on("blur",i=>{[...n.contentDocument.querySelectorAll("p")].forEach(l=>{l.innerText.trim()===""&&l.remove()}),[...n.contentDocument.querySelectorAll("a")].forEach(l=>{Object.keys(l.dataset).forEach(c=>{/mce/.test(c)&&delete l.dataset[c]})});let s=[...n.contentDocument.querySelectorAll('span[is="inline-price"],a[is="checkout-link"]')];s.forEach(l=>{l.isInlinePrice&&(l.innerHTML=""),l.isCheckoutLink&&l.setAttribute("href",""),l.removeAttribute("class"),l.removeAttribute("contenteditable")}),Da(n.contentDocument.body);let o=n.contentDocument.body.innerHTML;s.forEach(l=>{l.setAttribute("contenteditable","false"),l.render?.()});let a=new CustomEvent("blur",{bubbles:!0,composed:!0,detail:{value:o}});this.dispatchEvent(a)}),n.on("init",i=>{let s=window.__mas__lib;if(!s)return;let o=n.contentDocument.createElement("script");o.src=s,o.setAttribute("type","module"),n.contentDocument.head.appendChild(o);let a=n.contentDocument.createElement("script");a.innerHTML="window.process = { env: {} };",n.contentDocument.head.appendChild(a)}),n.on("SetContent",i=>{[...n.contentDocument.querySelectorAll("a[is],span[is]")].forEach(s=>{s.setAttribute("contenteditable","false")})}),n.ui.registry.addIcon("star-icon",`<svg xmlns="http://www.w3.org/2000/svg" height="18" viewBox="0 0 18 18" width="18">
  <title>Star</title>
  <rect id="ToDelete" fill="#ff13dc" opacity="0" width="18" height="18" /><path d="M9.24132.3l2.161,5.715,6.106.289a.255.255,0,0,1,.147.454l-4.77,3.823,1.612,5.9a.255.255,0,0,1-.386.28L9.00232,13.4l-5.11,3.358a.255.255,0,0,1-.386-.28l1.612-5.9-4.77-3.821a.255.255,0,0,1,.147-.457l6.107-.285L8.76332.3a.255.255,0,0,1,.478,0Z" />
</svg>`),n.ui.registry.addButton("ost",{icon:"star-icon",tooltip:"Open Offer Selector Tool",onAction:()=>{let i=new CustomEvent("ost-open",{bubbles:!0,composed:!0});this.dispatchEvent(i)}}),n.on("dblclick",i=>{let s=i.target.parentNode;if(s=s.parentNode,s.classList.contains("placeholder-resolved")){let o=new CustomEvent("editor-action-click",{bubbles:!0,composed:!0,detail:{clickedElement:s}});this.dispatchEvent(o)}})}})}disconnectedCallback(){this.removeEventListener("editor-action-click",this.handleEditorActionClick)}appendContent(n){this.editor&&this.editor.insertContent(n)}};function Da(r){let t=document.createTreeWalker(r,NodeFilter.SHOW_COMMENT,null,!1),n=[],i;for(;i=t.nextNode();)n.push(i);n.forEach(s=>s.parentNode.removeChild(s))}customElements.define("rte-editor",fr);var gs=Be(class extends se{constructor(r){var t;if(super(r),r.type!==Ie.ATTRIBUTE||r.name!=="class"||((t=r.strings)===null||t===void 0?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(r){return" "+Object.keys(r).filter(t=>r[t]).join(" ")+" "}update(r,[t]){var n,i;if(this.it===void 0){this.it=new Set,r.strings!==void 0&&(this.nt=new Set(r.strings.join(" ").split(/\s/).filter(o=>o!=="")));for(let o in t)t[o]&&!(!((n=this.nt)===null||n===void 0)&&n.has(o))&&this.it.add(o);return this.render(t)}let s=r.element.classList;this.it.forEach(o=>{o in t||(s.remove(o),this.it.delete(o))});for(let o in t){let a=!!t[o];a===this.it.has(o)||!((i=this.nt)===null||i===void 0)&&i.has(o)||(a?(s.add(o),this.it.add(o)):(s.remove(o),this.it.delete(o)))}return M}});var ys={"buy-now":"Buy now","free-trial":"Free trial","start-free-trial":"Start free trial","get-started":"Get started","choose-a-plan":"Choose a plan","learn-more":"Learn more","change-plan-team-plans":"Change Plan Team Plans",upgrade:"Upgrade","change-plan-team-payment":"Change Plan Team Payment","take-the-quiz":"Take the quiz","see-more":"See more","upgrade-now":"Upgrade now"},Pa=["ccd-action","ah"],_n={aosApiKey:"wcms-commerce-ims-user-prod",checkoutClientId:"creative",country:"US",environment:"PROD",landscape:"PUBLISHED",language:"en",searchParameters:{},searchOfferSelectorId:null,defaultPlaceholderOptions:{displayRecurrence:!0,displayPerUnit:!0,displayTax:!1,displayOldPrice:!1,forceTaxExclusive:!0},wcsApiKey:"wcms-commerce-ims-ro-user-cc",ctaTextOption:{ctaTexts:Object.entries(ys).map(([r,t])=>({id:r,name:t})),getDefaultText(){return this.ctaTexts[0].id},getTexts(){return this.ctaTexts},getSelectedText(r){let t=r.get("text");return t&&this.ctaTexts.find(n=>n.id===t)?t:this.getDefaultText()}}},Ot=(r,t,n)=>{n!==_n[t]&&r.set(t,n)},Es=(r,t,n,i,s,o,a)=>{let l=!!n?.startsWith("checkout"),c=()=>{let u=new URLSearchParams([["osi",t],["type",n]]);if(o&&u.set("promo",o),i.commitment==="PERPETUAL"&&u.set("perp",!0),l){let{workflow:d,workflowStep:f}=s;u.set("text",s.ctaText??DEFAULT_CTA_TEXT),d&&d!==r.checkoutWorkflow&&u.set("workflow",d),f&&f!==r.checkoutWorkflowStep&&u.set("workflowStep",f)}else{let{displayRecurrence:d,displayPerUnit:f,displayTax:h,displayOldPrice:v,forceTaxExclusive:g}=s;Ot(u,"term",d),Ot(u,"seat",f),Ot(u,"tax",h),Ot(u,"old",v),Ot(u,"exclusive",g)}return`https://milo.adobe.com/tools/ost?${u.toString()}`};if(l){let u=document.createElement("a",{is:"checkout-link"});u.setAttribute("data-checkout-workflow",s.workflow),u.setAttribute("data-checkout-workflow-step",s.workflowStep??"segmentation"),u.setAttribute("data-promotion-code",o??""),u.setAttribute("data-quantity","1"),u.setAttribute("data-wcs-osi",t),u.href=c();let d=document.createElement("span"),f=s.ctaText??"buy-now";return Pa.includes(a)&&(f=ys[f]),d.textContent=f,u.appendChild(d),u}else{let u=document.createElement("span",{is:"inline-price"});return u.setAttribute("data-display-per-unit",s.displayPerUnit??"false"),u.setAttribute("data-quantity",i.ordering.max_quantity??"1"),u.setAttribute("data-template","price"),u.setAttribute("data-wcs-osi",t),u.innerHTML="&nbsp;",u}};var Ra={merchCard:{path:"/conf/sandbox/settings/dam/cfm/models/merch-card",name:"Merch Card"}},Ve,St,mn=class extends vs(ie,G){constructor(){super();bn(this,Ve);bn(this,St);this.confirmSelect=!1,document.addEventListener("editor-action-click",this.openOfferSelectorTool.bind(this))}connectedCallback(){super.connectedCallback(),this.store=new pn(this.bucket),this.startDeeplink()}disconnectedCallback(){super.disconnectedCallback(),this.deeplinkDisposer(),this.removeEventListener("editor-action-click",this.openOfferSelectorTool)}get search(){return this.querySelector("sp-search")}get picker(){return this.querySelector("sp-picker")}createRenderRoot(){return this}get selectFragmentDialog(){return this.confirmSelect?D`
            <sp-underlay open></sp-underlay>
            <sp-dialog size="m">
                <h1 slot="heading">You have unsaved changes!</h1>
                <p>
                    Do you want to save your changes before selecting another
                    merch card?
                </p>
                <sp-button
                    slot="button"
                    @click="${()=>this.editFragment(null,this.fragment,!0)}"
                >
                    Save
                </sp-button>
                <sp-button
                    slot="button"
                    variant="primary"
                    @click="${()=>this.editFragment(null,this.fragment,!0)}"
                >
                    Discard
                </sp-button>
                <sp-button
                    slot="button"
                    variant="secondary"
                    @click="${this.closeConfirmSelect}"
                >
                    Cancel
                </sp-button>
            </sp-dialog>
        `:A}get fragmentEditorToolbar(){return this.store.fragment?D`<div id="actions">
            <sp-action-group
                aria-label="Fragment actions"
                role="group"
                compact
                emphasized
            >
                <sp-action-button
                    label="Save"
                    title="Save changes"
                    value="save"
                    @click="${this.saveFragment}"
                >
                    <sp-icon-save-floppy slot="icon"></sp-icon-save-floppy>
                </sp-action-button>
                <sp-action-button
                    label="Discard"
                    title="Discard changes"
                    value="discard"
                >
                    <sp-icon-undo slot="icon"></sp-icon-undo>
                </sp-action-button>
                <sp-action-button
                    label="Clone"
                    value="clone"
                    @click="${this.copyFragment}"
                >
                    <sp-icon-duplicate slot="icon"></sp-icon-duplicate>
                </sp-action-button>
                <sp-action-button label="Publish" value="publish">
                    <sp-icon-publish-check slot="icon"></sp-icon-publish-check>
                </sp-action-button>
                <sp-action-button label="Unpublish" value="unpublish">
                    <sp-icon-publish-remove
                        slot="icon"
                    ></sp-icon-publish-remove>
                </sp-action-button>
                <sp-action-button
                    label="Open inOdin"
                    value="open"
                    @click="${this.openFragmentInOdin}"
                >
                    <sp-icon-open-in slot="icon"></sp-icon-open-in>
                </sp-action-button>
            </sp-action-group>
            <sp-divider vertical></sp-divider>
            <sp-divider vertical></sp-divider>
            <sp-action-group>
                <sp-action-button
                    title="Close"
                    label="Close"
                    value="close"
                    @click="${this.closeFragmentEditor}"
                >
                    <sp-icon-close-circle slot="icon"></sp-icon-close-circle>
                </sp-action-button>
            </sp-action-group>
        </div>`:A}get fragmentEditor(){let n={open:this.store.fragment};return D`<div id="editor" class=${gs(n)}>
            <p>${this.store.fragment?.path}</p>
            ${this.merchCardFragmentEditor} ${this.fragmentEditorToolbar}
        </div>`}get merchCardFragmentEditor(){let{fragment:n}=this.store;if(!n)return A;let i=Object.fromEntries(n.fields.map(s=>[s.name,s]));return D`<sp-field-label for="card-variant">Variant</sp-field-label>
            <sp-picker
                id="card-variant"
                data-field="variant"
                value="${i.variant.values[0]}"
                @change="${this.updateFragment}"
            >
                <span slot="label">Choose a variant:</span>
                <sp-menu-item value="ccd-action">CCD Action</sp-menu-item>
                <sp-menu-item value="special-offers"
                    >Special Offers</sp-menu-item
                >
                <sp-menu-item value="ah">AH</sp-menu-item>
            </sp-picker>
            <sp-field-label for="card-title">Title</sp-field-label>
            <sp-textfield
                placeholder="Enter card title"
                id="card-title"
                data-field="title"
                value="${i.title.values[0]}"
                @change="${this.updateFragment}"
            ></sp-textfield>
            <sp-field-label for="card-icon">Icons</sp-field-label>
            <sp-textfield
                placeholder="Enter icon URLs"
                id="card-icon"
                data-field="icon"
                multiline
                value="${i.icon.values.join(",")}"
                @change="${this.updateFragment}"
            ></sp-textfield>
            <sp-field-label for="card-icon">Background Image</sp-field-label>
            <sp-textfield
                placeholder="Enter backgroung image URL"
                id="background-title"
                data-field="backgroundImage"
                value="${i.backgroundImage.values[0]}"
                @change="${this.updateFragment}"
            ></sp-textfield>
            <sp-field-label for="horizontal"> Prices </sp-field-label>
            <sp-field-group horizontal id="horizontal">
                <rte-editor
                    data-field="prices"
                    @focus="${this.focusOnRte}"
                    @blur="${this.updateFragment}"
                    @ost-open="${this.openOfferSelectorTool}"
                    >${qt(i.prices.values[0])}</rte-editor
                >
            </sp-field-group>
            <sp-field-label for="horizontal"> Description </sp-field-label>
            <sp-field-group horizontal id="horizontal">
                <rte-editor
                    data-field="description"
                    @focus="${this.focusOnRte}"
                    @blur="${this.updateFragment}"
                    @ost-open="${this.openOfferSelectorTool}"
                    >${qt(i.description.values[0])}</rte-editor
                >
            </sp-field-group>
            <sp-field-label for="horizontal"> Footer </sp-field-label>
            <sp-field-group horizontal id="horizontal">
                <rte-editor
                    data-field="ctas"
                    @focus="${this.focusOnRte}"
                    @blur="${this.updateFragment}"
                    @ost-open="${this.openOfferSelectorTool}"
                    >${qt(i.ctas.values[0])}</rte-editor
                >
            </sp-field-group> `}get fragmentEditorEl(){return this.querySelector("#editor")}get result(){return this.store.search.result.length===0?A:D`<ul id="result" class="three-merch-cards special-offers">
            ${hs(this.store.search.result,n=>n.path,n=>{switch(n.model.path){case Ra.merchCard.path:return D`<merch-card
                                class="${n.isSelected?"selected":""}"
                                @dblclick="${i=>this.editFragment(i,n)}"
                            >
                                <merch-datasource
                                    path="${n.path}"
                                ></merch-datasource>
                                ${n.hasChanges?D` <sp-status-light
                                          size="l"
                                          variant="yellow"
                                      ></sp-status-light>`:""}
                            </merch-card>`;default:return A}})}
        </ul>`}render(){return this.store?D`
            <h1>Merch at Scale Studio</h1>
            <div>
                <sp-search
                    placeholder="Search"
                    @input="${this.handleSearch}"
                    @submit="${this.handleSearch}"
                    value=${this.searchText}
                    size="m"
                ></sp-search>
                <sp-picker
                    label="Card Variant"
                    size="m"
                    value=${this.store.search.variant}
                >
                    <sp-menu-item value="all">All</sp-menu-item>
                    <sp-menu-item value="special-offers"
                        >Special Offers</sp-menu-item
                    >
                    <sp-menu-item value="ccd-action">CCD Action</sp-menu-item>
                </sp-picker>
                <sp-button
                    ?disabled="${!this.searchText}"
                    @click=${this.doSearch}
                    >Search</sp-button
                >
            </div>
            ${this.result} ${this.fragmentEditor} ${this.selectFragmentDialog}
            ${this.toast} ${this.loadingIndicator} ${this.offerSelectorTool}
        `:A}get toast(){return D`<sp-toast timeout="6000"></sp-toast>`}get loadingIndicator(){return this.store.loading?D`<sp-progress-circle
            indeterminate
            size="l"
        ></sp-progress-circle>`:A}get offerSelectorTool(){return D`
            <sp-overlay id="ostDialog" type="modal">
                <sp-dialog-wrapper dismissable underlay>
                    <div id="ost"></div>
                </sp-dialog-wrapper>
            </overlay-trigger>
        `}get toastEl(){return this.querySelector("sp-toast")}async startDeeplink(){this.deeplinkDisposer=bs(({path:n,variant:i,query:s})=>{this.searchText=s,this.store.search.update({path:n,variant:i})}),this.searchText?(await this.updateComplete,this.doSearch()):this.store.search.setResult([])}showToast(n,i="info"){this.toastEl.innerHTML=n,this.toastEl.variant=i,this.toastEl.open=!0}async editFragment(n,i,s=!1){if(n){let o=n.target.closest("merch-card"),{offsetTop:a,offsetHeight:l}=o;this.fragmentOffsets=[`${a+l+20}px`]}i&&i===this.store.fragment||(this.store.fragment?.hasChanges&&!s?(this.fragment=i,this.confirmSelect=!0):(await this.store.selectFragment(i),this.fragment=void 0,this.confirmSelect=!1,await this.updateComplete,this.fragmentEditorEl.style.top=this.fragmentOffsets[0]))}focusOnRte(n){gn(this,St,n.detail.rte)}updateFragment(n){let i=n.target.dataset.field,s=n.target.value||n.detail.value;s=n.target.multiline?s.split(","):[s],this.store.fragment.updateField(i,s),this.querySelector(`merch-datasource[path="${this.store.fragment.path}"]`).refresh(!1)}async saveFragment(){this.showToast("Saving fragment...");try{await this.store.saveFragment(),this.showToast("Fragment saved","positive")}catch{this.showToast("Fragment could not be  saved","negative")}}async copyFragment(){this.showToast("Cloning fragment...");try{await this.store.copyFragment(),this.showToast("Fragment cloned","positive")}catch{this.showToast("Fragment could not be cloned","negative")}}async closeFragmentEditor(n){await this.store.selectFragment()}closeConfirmSelect(){this.confirmSelect=!1}handleSearch(n){this.searchText=this.search.value,n.type===ls&&(n.preventDefault(),this.doSearch())}get ostDialogEl(){return document.getElementById("ostDialog")}openOstDialog(){this.ostDialogEl.open=!0}closeOstDialog(){this.ostDialogEl.open=!1}async doSearch(){let n=this.searchText,i=this.picker.value.replace("all",""),o={query:n,path:"/content/dam/sandbox/mas",variant:i};ms(o),this.store.doSearch(o)}onSelect(n,i,s,o,a){let l=Es(_n,n,i,s,o,a,this.store.fragment.variant);console.log(`Use Link: ${l.outerHTML}`),nt(this,St)?.appendContent(l.outerHTML),this.closeOstDialog()}async openOfferSelectorTool(){if(!nt(this,Ve)){gn(this,Ve,document.getElementById("ost"));let n=window.adobeid.authorize(),i=new URLSearchParams,s=e.detail?.clickedElement;s&&["wcs-osi","template","promotion-code"].forEach(o=>{let a=s.getAttribute(`data-${o}`);a&&i.set(o.replace("wcs-","").replace("template","type").replace("promotion-code","promo"),a)}),window.ost.openOfferSelectorTool({..._n,rootElement:nt(this,Ve),zIndex:20,aosAccessToken:n,searchParameters:i,onSelect:this.onSelect.bind(this)})}nt(this,Ve)&&this.openOstDialog()}openFragmentInOdin(){window.open(`https://experience.adobe.com/?repo=${this.bucket}.adobeaemcloud.com#/@odin02/aem/cf/admin/?appId=aem-cf-admin&q=${this.store.fragment.fragmentName}`,"_blank")}};Ve=new WeakMap,St=new WeakMap,E(mn,"properties",{store:{type:Object,state:!0},bucket:{type:String,attribute:"aem-bucket"},searchText:{type:String,state:!0},confirmSelect:{type:Boolean,state:!0},fragment:{type:Object,state:!0},fragmentOffsets:{type:Object,state:!0}});customElements.define("mas-studio",mn);
/*! Bundled license information:

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/css-tag.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/reactive-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/lit-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-element/lit-element.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/unsafe-html.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directive-helpers.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/repeat.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
//# sourceMappingURL=studio.js.map
