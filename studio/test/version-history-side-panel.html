<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Version History Side Panel Test</title>
        <script type="module" src="https://unpkg.com/@spectrum-web-components/action-button/sp-action-button.js"></script>
        <script type="module" src="https://unpkg.com/@spectrum-web-components/tooltip/sp-tooltip.js"></script>
        <script type="module" src="https://unpkg.com/@spectrum-web-components/theme/sp-theme.js"></script>
        <script type="module" src="../src/editors/version-panel.js"></script>
        <style>
            body {
                margin: 0;
                padding: 20px;
                font-family: Arial, sans-serif;
                background: #f5f5f5;
            }

            .test-container {
                max-width: 800px;
                margin: 0 auto;
                background: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            }

            .demo-info {
                margin-bottom: 30px;
                padding: 20px;
                background: #f8f9fa;
                border-radius: 8px;
                border-left: 4px solid #2196f3;
            }

            h1 {
                color: #333;
                margin-bottom: 10px;
            }

            h2 {
                color: #2196f3;
                margin-top: 30px;
                margin-bottom: 15px;
            }

            .feature-list {
                background: #e3f2fd;
                padding: 15px;
                border-radius: 6px;
                margin: 15px 0;
            }

            .feature-list ul {
                margin: 0;
                padding-left: 20px;
            }

            .feature-list li {
                margin-bottom: 8px;
                color: #1976d2;
            }

            .test-area {
                border: 2px dashed #ccc;
                padding: 20px;
                text-align: center;
                background: #fafafa;
                border-radius: 8px;
                margin: 20px 0;
            }

            .instructions {
                background: #fff3e0;
                padding: 15px;
                border-radius: 6px;
                border-left: 4px solid #ff9800;
                margin: 15px 0;
            }

            .instructions ol {
                margin: 0;
                padding-left: 20px;
            }

            .instructions li {
                margin-bottom: 8px;
                color: #e65100;
            }
        </style>
    </head>
    <body>
        <div class="test-container">
            <div class="demo-info">
                <h1>Version History Side Panel Test</h1>
                <p>This test demonstrates the new side panel version history functionality.</p>

                <div class="feature-list">
                    <h3>Side Panel Features:</h3>
                    <ul>
                        <li>Fixed position on the right side of the screen</li>
                        <li>400px width, full height</li>
                        <li>Slides in from the right when opened</li>
                        <li>No backdrop overlay (unlike modal)</li>
                        <li>Back arrow button to close</li>
                        <li>Responsive design for mobile (100vw width)</li>
                        <li>Clean border and shadow styling</li>
                    </ul>
                </div>

                <div class="instructions">
                    <h3>How to Test:</h3>
                    <ol>
                        <li>Click the "Version History" button below</li>
                        <li>Notice the side panel slides in from the right</li>
                        <li>No backdrop appears (unlike modal style)</li>
                        <li>Panel takes up full height of the screen</li>
                        <li>Click the back arrow to close the panel</li>
                        <li>Try on mobile/responsive view to see full-width behavior</li>
                    </ol>
                </div>
            </div>

            <div class="test-area">
                <h2>Test Area</h2>
                <p>Click the version history button to test the side panel:</p>
                <div id="version-history-container"></div>
            </div>
        </div>

        <script type="module">
            // Mock version data
            const mockVersions = [
                {
                    id: 'version-1',
                    version: '1.0',
                    created: '2023-01-01T00:00:00Z',
                    comment: 'Initial version',
                },
                {
                    id: 'version-2',
                    version: '1.1',
                    created: '2023-01-02T00:00:00Z',
                    comment: 'Added new features',
                },
                {
                    id: 'version-3',
                    version: '1.2',
                    created: '2023-01-03T00:00:00Z',
                    comment: 'Latest version',
                },
            ];

            // Create version history component
            const versionHistory = document.createElement('version-history');
            versionHistory.versions = mockVersions;
            versionHistory.selectedVersion = 'version-1';
            versionHistory.loading = false;

            // Add event listener for version changes
            versionHistory.addEventListener('version-change', (event) => {
                console.log('Version changed:', event.detail);
                alert(`Selected version: ${event.detail.version.version}`);
            });

            // Add to page
            document.getElementById('version-history-container').appendChild(versionHistory);

            console.log('Version history side panel test ready!');
        </script>

        <sp-theme color="light" scale="medium"></sp-theme>
    </body>
</html>
