<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Version Title Test</title>
        <script type="module" src="https://unpkg.com/@spectrum-web-components/action-button/sp-action-button.js"></script>
        <script type="module" src="https://unpkg.com/@spectrum-web-components/tooltip/sp-tooltip.js"></script>
        <script type="module" src="https://unpkg.com/@spectrum-web-components/theme/sp-theme.js"></script>
        <script type="module" src="../src/editors/version-panel.js"></script>
        <style>
            body {
                margin: 0;
                padding: 20px;
                font-family: Arial, sans-serif;
                background: #f5f5f5;
            }
            
            .test-container {
                max-width: 800px;
                margin: 0 auto;
                background: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            }
            
            .demo-info {
                background: #f8f9fa;
                padding: 20px;
                border-radius: 8px;
                border-left: 4px solid #4caf50;
                margin-bottom: 30px;
            }
            
            .test-area {
                border: 2px dashed #4caf50;
                padding: 20px;
                background: #f1f8e9;
                border-radius: 8px;
                text-align: center;
            }
        </style>
    </head>
    <body>
        <div class="test-container">
            <div class="demo-info">
                <h1>Version Title Test</h1>
                <p>This test verifies that version titles are displayed correctly using the "title" field instead of "label".</p>
            </div>
            
            <div class="test-area">
                <h2>Version History with Titles</h2>
                <div id="version-history-container"></div>
            </div>
        </div>

        <script type="module">
            // Mock version data using "title" field
            const mockVersions = [
                {
                    id: 'version-1',
                    version: '1.0',
                    title: 'Price and image updated',
                    created: '2025-08-11T14:30:00Z',
                    createdBy: 'Geri Wittig',
                    comment: 'Updated logo and price. New logo from a design team and new price for US are applied.'
                },
                {
                    id: 'version-2', 
                    version: '1.1',
                    title: 'Text updated',
                    created: '2025-08-11T14:15:00Z',
                    createdBy: 'Geri Wittig',
                    comment: 'Improved UX writing of the description for Added device types.'
                },
                {
                    id: 'version-3',
                    version: '1.2',
                    title: 'First version',
                    created: '2025-08-11T14:01:00Z',
                    createdBy: 'Geri Wittig',
                    comment: 'Draft design is applied. Might be changed in a while.'
                }
            ];

            // Create version history component
            const versionHistory = document.createElement('version-history');
            versionHistory.versions = mockVersions;
            versionHistory.selectedVersion = 'version-1';
            versionHistory.loading = false;

            // Add event listener for version changes
            versionHistory.addEventListener('version-change', (event) => {
                console.log('Version changed:', event.detail);
                const { version } = event.detail;
                alert(`Switched to: ${version.title || version.version}`);
            });

            // Add version history to page
            document.getElementById('version-history-container').appendChild(versionHistory);
            
            console.log('Version title test ready!');
        </script>
        
        <sp-theme color="light" scale="medium"></sp-theme>
    </body>
</html>

